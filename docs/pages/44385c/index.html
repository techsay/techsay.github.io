<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>随笔 | 知识导图</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/images/logo2.png">
    <meta name="description" content="复杂的知识体系需要一套精简的知识导图作参考和索引">
    
    <link rel="preload" href="/assets/css/0.styles.3623805a.css" as="style"><link rel="preload" href="/assets/js/app.8e150978.js" as="script"><link rel="preload" href="/assets/js/2.d54d51d6.js" as="script"><link rel="preload" href="/assets/js/38.0f491d08.js" as="script"><link rel="prefetch" href="/assets/js/10.7c18bb0c.js"><link rel="prefetch" href="/assets/js/100.f3573520.js"><link rel="prefetch" href="/assets/js/101.852e484a.js"><link rel="prefetch" href="/assets/js/102.3946bd8f.js"><link rel="prefetch" href="/assets/js/103.cdcf60fe.js"><link rel="prefetch" href="/assets/js/104.2f8dba95.js"><link rel="prefetch" href="/assets/js/105.aa6ffdb0.js"><link rel="prefetch" href="/assets/js/106.31bad802.js"><link rel="prefetch" href="/assets/js/107.3a9bdcc7.js"><link rel="prefetch" href="/assets/js/108.e5cce1e8.js"><link rel="prefetch" href="/assets/js/109.a6d830c4.js"><link rel="prefetch" href="/assets/js/11.a4d3b813.js"><link rel="prefetch" href="/assets/js/110.87218f1c.js"><link rel="prefetch" href="/assets/js/111.685c42d0.js"><link rel="prefetch" href="/assets/js/112.abfbe85f.js"><link rel="prefetch" href="/assets/js/113.078c48e9.js"><link rel="prefetch" href="/assets/js/114.9fde6014.js"><link rel="prefetch" href="/assets/js/115.0a85b077.js"><link rel="prefetch" href="/assets/js/116.8b6a66b3.js"><link rel="prefetch" href="/assets/js/117.363a96c3.js"><link rel="prefetch" href="/assets/js/118.463a6039.js"><link rel="prefetch" href="/assets/js/119.b599151f.js"><link rel="prefetch" href="/assets/js/12.864bf25c.js"><link rel="prefetch" href="/assets/js/120.df73414c.js"><link rel="prefetch" href="/assets/js/121.b2d662b5.js"><link rel="prefetch" href="/assets/js/122.8458638f.js"><link rel="prefetch" href="/assets/js/123.292b401c.js"><link rel="prefetch" href="/assets/js/124.16c4858a.js"><link rel="prefetch" href="/assets/js/125.9259e07e.js"><link rel="prefetch" href="/assets/js/126.b443864e.js"><link rel="prefetch" href="/assets/js/127.0420907f.js"><link rel="prefetch" href="/assets/js/128.0f06b306.js"><link rel="prefetch" href="/assets/js/129.f2f52038.js"><link rel="prefetch" href="/assets/js/13.7d2b2e27.js"><link rel="prefetch" href="/assets/js/130.ad7cad4c.js"><link rel="prefetch" href="/assets/js/131.d8973c7c.js"><link rel="prefetch" href="/assets/js/132.02f10286.js"><link rel="prefetch" href="/assets/js/133.c9fcab2e.js"><link rel="prefetch" href="/assets/js/134.7babdd28.js"><link rel="prefetch" href="/assets/js/135.2d06b2bc.js"><link rel="prefetch" href="/assets/js/136.55adbe34.js"><link rel="prefetch" href="/assets/js/137.85c36705.js"><link rel="prefetch" href="/assets/js/138.a1a98b10.js"><link rel="prefetch" href="/assets/js/139.48316f10.js"><link rel="prefetch" href="/assets/js/14.49b88130.js"><link rel="prefetch" href="/assets/js/140.8f709e00.js"><link rel="prefetch" href="/assets/js/141.ac4af52b.js"><link rel="prefetch" href="/assets/js/142.335f2fa6.js"><link rel="prefetch" href="/assets/js/143.bf9bc4e7.js"><link rel="prefetch" href="/assets/js/144.c2e7eba9.js"><link rel="prefetch" href="/assets/js/145.80abd027.js"><link rel="prefetch" href="/assets/js/146.0c61b91d.js"><link rel="prefetch" href="/assets/js/147.b32f6964.js"><link rel="prefetch" href="/assets/js/148.3a3672e8.js"><link rel="prefetch" href="/assets/js/149.3435ab6b.js"><link rel="prefetch" href="/assets/js/15.23b824d8.js"><link rel="prefetch" href="/assets/js/150.c822f218.js"><link rel="prefetch" href="/assets/js/151.4a1a30c0.js"><link rel="prefetch" href="/assets/js/152.23af7a3c.js"><link rel="prefetch" href="/assets/js/16.ac05b767.js"><link rel="prefetch" href="/assets/js/17.35dc5655.js"><link rel="prefetch" href="/assets/js/18.2f735772.js"><link rel="prefetch" href="/assets/js/19.2fb94187.js"><link rel="prefetch" href="/assets/js/20.01f5ae02.js"><link rel="prefetch" href="/assets/js/21.f63336b1.js"><link rel="prefetch" href="/assets/js/22.86a699c5.js"><link rel="prefetch" href="/assets/js/23.89a36398.js"><link rel="prefetch" href="/assets/js/24.6f8f6ddc.js"><link rel="prefetch" href="/assets/js/25.f06f3e91.js"><link rel="prefetch" href="/assets/js/26.e78b24b0.js"><link rel="prefetch" href="/assets/js/27.53550d70.js"><link rel="prefetch" href="/assets/js/28.929e4390.js"><link rel="prefetch" href="/assets/js/29.9ed38871.js"><link rel="prefetch" href="/assets/js/3.13bef712.js"><link rel="prefetch" href="/assets/js/30.09b9ba07.js"><link rel="prefetch" href="/assets/js/31.d0169661.js"><link rel="prefetch" href="/assets/js/32.333b051c.js"><link rel="prefetch" href="/assets/js/33.feeffc52.js"><link rel="prefetch" href="/assets/js/34.c90b0cff.js"><link rel="prefetch" href="/assets/js/35.898b445f.js"><link rel="prefetch" href="/assets/js/36.73423a2d.js"><link rel="prefetch" href="/assets/js/37.dfd0ecf2.js"><link rel="prefetch" href="/assets/js/39.0e0cfb39.js"><link rel="prefetch" href="/assets/js/4.dd3209f8.js"><link rel="prefetch" href="/assets/js/40.ae73e343.js"><link rel="prefetch" href="/assets/js/41.2efbedc0.js"><link rel="prefetch" href="/assets/js/42.d6f38887.js"><link rel="prefetch" href="/assets/js/43.01c05a41.js"><link rel="prefetch" href="/assets/js/44.36f7217f.js"><link rel="prefetch" href="/assets/js/45.ccfc261e.js"><link rel="prefetch" href="/assets/js/46.2d253a89.js"><link rel="prefetch" href="/assets/js/47.f1432bb3.js"><link rel="prefetch" href="/assets/js/48.707d832b.js"><link rel="prefetch" href="/assets/js/49.8042391e.js"><link rel="prefetch" href="/assets/js/5.8af1f3b3.js"><link rel="prefetch" href="/assets/js/50.8d652c22.js"><link rel="prefetch" href="/assets/js/51.f26b506a.js"><link rel="prefetch" href="/assets/js/52.a68706c6.js"><link rel="prefetch" href="/assets/js/53.3258017c.js"><link rel="prefetch" href="/assets/js/54.b3f98843.js"><link rel="prefetch" href="/assets/js/55.b5bb0ff7.js"><link rel="prefetch" href="/assets/js/56.2b157446.js"><link rel="prefetch" href="/assets/js/57.77e92e97.js"><link rel="prefetch" href="/assets/js/58.56b3e139.js"><link rel="prefetch" href="/assets/js/59.636d81f0.js"><link rel="prefetch" href="/assets/js/6.52109652.js"><link rel="prefetch" href="/assets/js/60.b660a20f.js"><link rel="prefetch" href="/assets/js/61.0d84ced4.js"><link rel="prefetch" href="/assets/js/62.3cf78fe8.js"><link rel="prefetch" href="/assets/js/63.b4e0336a.js"><link rel="prefetch" href="/assets/js/64.9c90ddbd.js"><link rel="prefetch" href="/assets/js/65.3a92383c.js"><link rel="prefetch" href="/assets/js/66.cb21a958.js"><link rel="prefetch" href="/assets/js/67.4e0d4e81.js"><link rel="prefetch" href="/assets/js/68.34d97801.js"><link rel="prefetch" href="/assets/js/69.748601f1.js"><link rel="prefetch" href="/assets/js/7.b0e2ea90.js"><link rel="prefetch" href="/assets/js/70.83359db5.js"><link rel="prefetch" href="/assets/js/71.79d85ade.js"><link rel="prefetch" href="/assets/js/72.cbed7bd6.js"><link rel="prefetch" href="/assets/js/73.0518bb1d.js"><link rel="prefetch" href="/assets/js/74.237a6c22.js"><link rel="prefetch" href="/assets/js/75.8cc35111.js"><link rel="prefetch" href="/assets/js/76.eef87b9f.js"><link rel="prefetch" href="/assets/js/77.6f7e84a6.js"><link rel="prefetch" href="/assets/js/78.829789a7.js"><link rel="prefetch" href="/assets/js/79.6bcc0a99.js"><link rel="prefetch" href="/assets/js/8.8776466b.js"><link rel="prefetch" href="/assets/js/80.df42dbc9.js"><link rel="prefetch" href="/assets/js/81.545e5696.js"><link rel="prefetch" href="/assets/js/82.7ce88399.js"><link rel="prefetch" href="/assets/js/83.d37d8c35.js"><link rel="prefetch" href="/assets/js/84.c3cc33b5.js"><link rel="prefetch" href="/assets/js/85.02979026.js"><link rel="prefetch" href="/assets/js/86.e1395fc7.js"><link rel="prefetch" href="/assets/js/87.4cb0e61c.js"><link rel="prefetch" href="/assets/js/88.d604ad3a.js"><link rel="prefetch" href="/assets/js/89.ce536f08.js"><link rel="prefetch" href="/assets/js/9.656dde20.js"><link rel="prefetch" href="/assets/js/90.3e9b2927.js"><link rel="prefetch" href="/assets/js/91.c2b19efb.js"><link rel="prefetch" href="/assets/js/92.26322c1c.js"><link rel="prefetch" href="/assets/js/93.3f07482e.js"><link rel="prefetch" href="/assets/js/94.c53c9933.js"><link rel="prefetch" href="/assets/js/95.c701adbe.js"><link rel="prefetch" href="/assets/js/96.9ae6961d.js"><link rel="prefetch" href="/assets/js/97.a79b4656.js"><link rel="prefetch" href="/assets/js/98.f2896592.js"><link rel="prefetch" href="/assets/js/99.e1ec136b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3623805a.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/hlogo.png" alt="知识导图" class="logo"> <span class="site-name can-hide">知识导图</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/3468b2/" class="nav-link">iOS知识</a></div><div class="nav-item"><a href="/pages/603316/" class="nav-link">计算机软件</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友情链接" class="dropdown-title"><!----> <span class="title" style="display:;">友情链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.52im.net/index.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  即时通讯网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://zhuanlan.zhihu.com/p/409277420" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发常用网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/3468b2/" class="nav-link">iOS知识</a></div><div class="nav-item"><a href="/pages/603316/" class="nav-link">计算机软件</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友情链接" class="dropdown-title"><!----> <span class="title" style="display:;">友情链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.52im.net/index.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  即时通讯网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://zhuanlan.zhihu.com/p/409277420" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发常用网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>OC知识笔记(标清版)</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>iOS开发-上篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>iOS开发-中篇</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/1a2531/" class="sidebar-link">KVO</a></li><li><a href="/pages/a8479d/" class="sidebar-link">Block</a></li><li><a href="/pages/be70e9/" class="sidebar-link">GCD</a></li><li><a href="/pages/f56bb5/" class="sidebar-link">NSNotification</a></li><li><a href="/pages/e01d5e/" class="sidebar-link">Delegate</a></li><li><a href="/pages/c0a875/" class="sidebar-link">Socket</a></li><li><a href="/pages/44385c/" aria-current="page" class="active sidebar-link">随笔</a></li><li><a href="/pages/ce0242/" class="sidebar-link">Bug收集分析</a></li><li><a href="/pages/1b1e3b/" class="sidebar-link">内存</a></li><li><a href="/pages/073276/" class="sidebar-link">内存管理</a></li><li><a href="/pages/aaad5a/" class="sidebar-link">锁</a></li><li><a href="/pages/2e933e/" class="sidebar-link">多线程-锁</a></li><li><a href="/pages/4c1594/" class="sidebar-link">数据库多线程</a></li><li><a href="/pages/4abadf/" class="sidebar-link">数据存储</a></li><li><a href="/pages/59f72f/" class="sidebar-link">响应链</a></li><li><a href="/pages/b72c04/" class="sidebar-link">设计模式</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>iOS开发-下篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>iOS开发-三方库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>iOS开发-工具</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>OC知识笔记(高清版)</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>iOS开发</span></li><li data-v-06225672><span data-v-06225672>OC知识笔记(标清版)</span></li><li data-v-06225672><span data-v-06225672>iOS开发-中篇</span></li></ul> <div class="info" data-v-06225672><!----> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-05-14</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><!----> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">随笔<!----></h1> <!----> <div class="theme-vdoing-content content__default"><html><head><meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>iOS开发-中篇-2022</title> <style>
        body{
            margin: 0;
        }
        #content-info{
            width: auto;
            margin: 0 auto;
            text-align: center;
        }
        #author-info{
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
        }
        #title{
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
            padding-top: 10px;
            margin-bottom: 2px;
            font-size: 34px;
            color: #505050;
        }
        .text{
            white-space:nowrap;
            text-overflow: ellipsis;
            display: inline-block;
            margin-right: 20px;
            margin-bottom: 2px;
            font-size: 20px;
            color: #8c8c8c;
        }
        #navBar{
            width: auto;
            height: auto;
            position: fixed;
            right:0;
            bottom: 0;
            background-color: #f0f3f4;
            overflow-y: auto;
            text-align: center;
        }
        #svg-container{
            width: 100%;
            overflow-x: scroll;
            min-width: 0px;
            margin: 0 10px;
            overflow: visible;
            position: relative;
        }
        #nav-thumbs{
            overflow-y: scroll;
            padding: 0 5px;
        }
        .nav-thumb{
            position: relative;
            margin: 10px auto;
        }
        .nav-thumb &gt;p{
            text-align: center;
            font-size: 12px;
            margin: 4px 0 0 0;
        }
        .nav-thumb &gt;div{
            position: relative;
            display: inline-block;
            border: 1px solid #c6cfd5;
        }
        .nav-thumb img{
            display: block;
        }
        #main-content{
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #ffffff;
            display: flex;
            height: auto;
            flex-flow: row wrap;
            text-align:center;
        }
        #svg-container &gt;svg{
            overflow: visible;
            display: block;
            margin:5px auto;
            margin-bottom: 5px;
        }
        #copyright{
            bottom: 0;
            left: 50%;
            margin: 5px auto;
            font-size: 16px;
            color: #515151;
        }
        #copyright &gt;a{
            text-decoration: none;
            color: #77C;
        }
        .number{
            position: absolute;
            top:0;
            left:0;
            border-top:22px solid #08a1ef;
            border-right: 22px solid transparent;
        }
        .pagenum{
            font-size: 12px;
            color: #fff;
            position: absolute;
            top: -23px;
            left: 2px;
        }
            #navBar::-webkit-scrollbar{
            width: 8px;
            background-color: #f5f5f5;
        }
            #navBar::-webkit-scrollbar-track{
            -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,.3);
            border-radius: 8px;
            background-color: #fff;
        }
            #navBar::-webkit-scrollbar-thumb{
            border-radius: 8px;
            -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,.3);
            background-color: #6b6b70;
        }
        #navBar::-webkit-scrollbar-thumb:hover{
            background-color: #4a4a4f;
        }
</style></head> <body><div id="main-area"><div id="main-content"><div id="svg-container"><svg preserveAspectRadio="xMinYMin meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="page6" width="808" viewBox="0 0 808 9916" xmlns:ed="https://www.edrawsoft.cn/xml/2017/SVGExtensions/" height="9984" ed:name="iOS基础概念5" ed:hSpacing="30" ed:vSpacing="30"><style type="text/css">&lt;![CDATA[
g[ed\:togtopicid],g[ed\:hyperlink],g[ed\:comment],g[ed\:note] {cursor:pointer;}
g[id] {-moz-user-select: none;-ms-user-select: none;user-select: none;}
svg text::selection,svg tspan::selection{background-color: #4285f4;color: #ffffff;fill: #ffffff;}
.st18 {fill:#141414;font-family:Open Sans;font-size:10.5pt}
.st16 {fill:#4caf50;font-family:Open Sans;font-size:27pt;font-weight:bold}
.st17 {fill:#ffffff;font-family:Open Sans;font-size:13.5pt}
]]&gt;</style> <defs></defs> <rect x="0" fill="#ffffff" width="808" y="0" height="9984"></rect> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,2336C531,2341.4,528.4,2344,523,2344L8,2344C2.6,2344,0,2341.4,0,2336L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,209.2,1302.5)" ed:type="boundary" ed:idlist="145" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="144" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="145"></path> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,146C531,151.4,528.4,154,523,154L8,154C2.6,154,0,151.4,0,146L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,209.2,5802)" ed:type="boundary" ed:idlist="220" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="197" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="220"></path> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,158C531,163.4,528.4,166,523,166L8,166C2.6,166,0,163.4,0,158L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,205.33,8528.5)" ed:type="boundary" ed:idlist="353" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="352" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="353"></path> <path d="M8,0L285.6,0C291,0,293.6,2.6,293.6,8L293.6,78C293.6,83.4,291,86,285.6,86L8,86C2.6,86,0,83.4,0,78L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,205.33,8738)" ed:type="boundary" ed:idlist="358" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="357" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="358"></path> <path d="M8,0L326.8,0C332.2,0,334.8,2.6,334.8,8L334.8,98C334.8,103.4,332.2,106,326.8,106L8,106C2.6,106,0,103.4,0,98L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,209.2,8867.5)" ed:type="boundary" ed:idlist="363" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="362" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="363"></path> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,77.8C531,83.1,528.4,85.8,523,85.8L8,85.8C2.6,85.8,0,83.1,0,77.8L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,209.2,9507.5)" ed:type="boundary" ed:idlist="392,394,394" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="387" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="392"></path> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,384C531,389.4,528.4,392,523,392L8,392C2.6,392,0,389.4,0,384L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,254.77,5217.25)" ed:type="boundary" ed:idlist="209" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="208" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="209"></path> <path d="M8,0L502.8,0C508.1,0,510.8,2.6,510.8,8L510.8,44C510.8,49.4,508.1,52,502.8,52L8,52C2.6,52,0,49.4,0,44L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,263.1,5706.5)" ed:type="boundary" ed:idlist="216" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="213" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="216"></path> <path stroke-linecap="round" d="M-25.2,-26.8L-25.2,20.8C-25.2,24.1,-22.5,26.8,-19.2,26.8L25.2,26.8" transform="matrix(1,0,0,1,83.2,186.75)" fill="none" stroke-width="3" id="109" ed:tosuperid="108" stroke-linejoin="round" stroke="#4caf50" ed:parentid="107"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,152.85,244.88)" fill="none" stroke-width="3" id="111" ed:tosuperid="110" stroke-linejoin="round" stroke="#4caf50" ed:parentid="108"></path> <path stroke-linecap="round" d="M-9.4,-26.1L-9.4,20.1C-9.4,23.4,-6.8,26.1,-3.4,26.1L9.5,26.1" transform="matrix(1,0,0,1,206.75,293.88)" fill="none" stroke-width="3" id="113" ed:tosuperid="112" stroke-linejoin="round" stroke="#4caf50" ed:parentid="110"></path> <path stroke-linecap="round" d="M-9.4,-68.5L-9.4,62.5C-9.4,65.8,-6.8,68.5,-3.4,68.5L9.5,68.5" transform="matrix(1,0,0,1,206.75,336.25)" fill="none" stroke-width="3" id="115" ed:tosuperid="114" stroke-linejoin="round" stroke="#4caf50" ed:parentid="110"></path> <path stroke-linecap="round" d="M-9.5,-112.5L-9.5,106.5C-9.5,109.8,-6.8,112.5,-3.5,112.5L9.5,112.5" transform="matrix(1,0,0,1,152.85,346.5)" fill="none" stroke-width="3" id="117" ed:tosuperid="116" stroke-linejoin="round" stroke="#4caf50" ed:parentid="108"></path> <path stroke-linecap="round" d="M-9.4,-41.1L-9.4,35.1C-9.4,38.4,-6.8,41.1,-3.4,41.1L9.5,41.1" transform="matrix(1,0,0,1,206.75,512.13)" fill="none" stroke-width="3" id="119" ed:tosuperid="118" stroke-linejoin="round" stroke="#4caf50" ed:parentid="116"></path> <path stroke-linecap="round" d="M-9.5,-206.8L-9.5,200.8C-9.5,204.1,-6.8,206.8,-3.5,206.8L9.5,206.8" transform="matrix(1,0,0,1,152.85,440.75)" fill="none" stroke-width="3" id="121" ed:tosuperid="120" stroke-linejoin="round" stroke="#4caf50" ed:parentid="108"></path> <path stroke-linecap="round" d="M-9.4,-46.1L-9.4,40.1C-9.4,43.4,-6.8,46.1,-3.4,46.1L9.5,46.1" transform="matrix(1,0,0,1,206.75,705.63)" fill="none" stroke-width="3" id="123" ed:tosuperid="122" stroke-linejoin="round" stroke="#4caf50" ed:parentid="120"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,260.65,845.13)" fill="none" stroke-width="3" id="125" ed:tosuperid="124" stroke-linejoin="round" stroke="#4caf50" ed:parentid="122"></path> <path stroke-linecap="round" d="M-9.5,-27.8L-9.5,21.8C-9.5,25.1,-6.8,27.8,-3.5,27.8L9.5,27.8" transform="matrix(1,0,0,1,260.65,862)" fill="none" stroke-width="3" id="127" ed:tosuperid="126" stroke-linejoin="round" stroke="#4caf50" ed:parentid="122"></path> <path stroke-linecap="round" d="M-9.5,-344.8L-9.5,338.8C-9.5,342.1,-6.8,344.8,-3.5,344.8L9.5,344.8" transform="matrix(1,0,0,1,152.85,578.75)" fill="none" stroke-width="3" id="129" ed:tosuperid="128" stroke-linejoin="round" stroke="#4caf50" ed:parentid="108"></path> <path stroke-linecap="round" d="M-9.4,-21.1L-9.4,15.1C-9.4,18.4,-6.8,21.1,-3.4,21.1L9.5,21.1" transform="matrix(1,0,0,1,206.75,956.63)" fill="none" stroke-width="3" id="131" ed:tosuperid="130" stroke-linejoin="round" stroke="#4caf50" ed:parentid="128"></path> <path stroke-linecap="round" d="M-9.5,-399L-9.5,393C-9.5,396.3,-6.8,399,-3.5,399L9.5,399" transform="matrix(1,0,0,1,152.85,633)" fill="none" stroke-width="3" id="133" ed:tosuperid="132" stroke-linejoin="round" stroke="#4caf50" ed:parentid="108"></path> <path stroke-linecap="round" d="M-9.4,-15.9L-9.4,9.9C-9.4,13.2,-6.8,15.9,-3.4,15.9L9.5,15.9" transform="matrix(1,0,0,1,206.75,1059.88)" fill="none" stroke-width="3" id="135" ed:tosuperid="134" stroke-linejoin="round" stroke="#4caf50" ed:parentid="132"></path> <path stroke-linecap="round" d="M-9.4,-47.8L-9.4,41.8C-9.4,45.1,-6.8,47.8,-3.4,47.8L9.5,47.8" transform="matrix(1,0,0,1,206.75,1091.75)" fill="none" stroke-width="3" id="137" ed:tosuperid="136" stroke-linejoin="round" stroke="#4caf50" ed:parentid="132"></path> <path stroke-linecap="round" d="M-9.4,-79.6L-9.4,73.6C-9.4,76.9,-6.8,79.6,-3.4,79.6L9.5,79.6" transform="matrix(1,0,0,1,206.75,1123.63)" fill="none" stroke-width="3" id="139" ed:tosuperid="138" stroke-linejoin="round" stroke="#4caf50" ed:parentid="132"></path> <path stroke-linecap="round" d="M-9.5,-506.5L-9.5,500.5C-9.5,503.8,-6.8,506.5,-3.5,506.5L9.5,506.5" transform="matrix(1,0,0,1,152.85,740.5)" fill="none" stroke-width="3" id="141" ed:tosuperid="140" stroke-linejoin="round" stroke="#4caf50" ed:parentid="108"></path> <path stroke-linecap="round" d="M-9.5,-523.4L-9.5,517.4C-9.5,520.7,-6.8,523.4,-3.5,523.4L9.5,523.4" transform="matrix(1,0,0,1,152.85,757.38)" fill="none" stroke-width="3" id="143" ed:tosuperid="142" stroke-linejoin="round" stroke="#4caf50" ed:parentid="108"></path> <path stroke-linecap="round" d="M-9.4,-590.9L-9.4,584.9C-9.4,588.2,-6.8,590.9,-3.4,590.9L9.5,590.9" transform="matrix(1,0,0,1,206.75,1883.63)" fill="none" stroke-width="3" id="146" ed:tosuperid="145" stroke-linejoin="round" stroke="#4caf50" ed:parentid="142"></path> <path stroke-linecap="round" d="M-25.2,-1769.8L-25.2,1763.8C-25.2,1767.1,-22.5,1769.8,-19.2,1769.8L25.2,1769.8" transform="matrix(1,0,0,1,83.2,1929.75)" fill="none" stroke-width="3" id="148" ed:tosuperid="147" stroke-linejoin="round" stroke="#4caf50" ed:parentid="107"></path> <path stroke-linecap="round" d="M-9.5,-71.1L-9.5,65.1C-9.5,68.4,-6.8,71.1,-3.5,71.1L9.5,71.1" transform="matrix(1,0,0,1,152.85,3790.63)" fill="none" stroke-width="3" id="150" ed:tosuperid="149" stroke-linejoin="round" stroke="#4caf50" ed:parentid="147"></path> <path stroke-linecap="round" d="M-9.5,-148.3L-9.5,142.3C-9.5,145.6,-6.8,148.3,-3.5,148.3L9.5,148.3" transform="matrix(1,0,0,1,152.85,3867.75)" fill="none" stroke-width="3" id="152" ed:tosuperid="151" stroke-linejoin="round" stroke="#4caf50" ed:parentid="147"></path> <path stroke-linecap="round" d="M-9.4,-10.1L-9.4,4.1C-9.4,7.4,-6.8,10.1,-3.4,10.1L9.5,10.1" transform="matrix(1,0,0,1,206.75,4038.13)" fill="none" stroke-width="3" id="154" ed:tosuperid="153" stroke-linejoin="round" stroke="#4caf50" ed:parentid="151"></path> <path stroke-linecap="round" d="M-9.4,-25.5L-9.4,19.5C-9.4,22.8,-6.8,25.5,-3.4,25.5L9.5,25.5" transform="matrix(1,0,0,1,206.75,4053.5)" fill="none" stroke-width="3" id="156" ed:tosuperid="155" stroke-linejoin="round" stroke="#4caf50" ed:parentid="151"></path> <path stroke-linecap="round" d="M-9.5,-195.9L-9.5,189.9C-9.5,193.2,-6.8,195.9,-3.5,195.9L9.5,195.9" transform="matrix(1,0,0,1,152.85,3915.38)" fill="none" stroke-width="3" id="158" ed:tosuperid="157" stroke-linejoin="round" stroke="#4caf50" ed:parentid="147"></path> <path stroke-linecap="round" d="M-9.4,-10.1L-9.4,4.1C-9.4,7.4,-6.8,10.1,-3.4,10.1L9.5,10.1" transform="matrix(1,0,0,1,206.75,4133.38)" fill="none" stroke-width="3" id="160" ed:tosuperid="159" stroke-linejoin="round" stroke="#4caf50" ed:parentid="157"></path> <path stroke-linecap="round" d="M-9.5,-228.1L-9.5,222.1C-9.5,225.4,-6.8,228.1,-3.5,228.1L9.5,228.1" transform="matrix(1,0,0,1,152.85,3947.63)" fill="none" stroke-width="3" id="162" ed:tosuperid="161" stroke-linejoin="round" stroke="#4caf50" ed:parentid="147"></path> <path stroke-linecap="round" d="M-9.4,-41.1L-9.4,35.1C-9.4,38.4,-6.8,41.1,-3.4,41.1L9.5,41.1" transform="matrix(1,0,0,1,206.75,4228.88)" fill="none" stroke-width="3" id="164" ed:tosuperid="163" stroke-linejoin="round" stroke="#4caf50" ed:parentid="161"></path> <path stroke-linecap="round" d="M-9.5,-322.4L-9.5,316.4C-9.5,319.7,-6.8,322.4,-3.5,322.4L9.5,322.4" transform="matrix(1,0,0,1,152.85,4041.88)" fill="none" stroke-width="3" id="166" ed:tosuperid="165" stroke-linejoin="round" stroke="#4caf50" ed:parentid="147"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,196.25,4387.13)" fill="none" stroke-width="3" id="168" ed:tosuperid="167" stroke-linejoin="round" stroke="#4caf50" ed:parentid="165"></path> <path stroke-linecap="round" d="M-25.2,-2151.5L-25.2,2145.5C-25.2,2148.8,-22.5,2151.5,-19.2,2151.5L25.2,2151.5" transform="matrix(1,0,0,1,83.2,2311.5)" fill="none" stroke-width="3" id="170" ed:tosuperid="169" stroke-linejoin="round" stroke="#4caf50" ed:parentid="107"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,152.85,4493.88)" fill="none" stroke-width="3" id="172" ed:tosuperid="171" stroke-linejoin="round" stroke="#4caf50" ed:parentid="169"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,4527.63)" fill="none" stroke-width="3" id="174" ed:tosuperid="173" stroke-linejoin="round" stroke="#4caf50" ed:parentid="171"></path> <path stroke-linecap="round" d="M-9.4,-27.8L-9.4,21.8C-9.4,25.1,-6.8,27.8,-3.4,27.8L9.5,27.8" transform="matrix(1,0,0,1,206.75,4544.5)" fill="none" stroke-width="3" id="176" ed:tosuperid="175" stroke-linejoin="round" stroke="#4caf50" ed:parentid="171"></path> <path stroke-linecap="round" d="M-9.4,-54.6L-9.4,48.6C-9.4,51.9,-6.8,54.6,-3.4,54.6L9.5,54.6" transform="matrix(1,0,0,1,206.75,4571.38)" fill="none" stroke-width="3" id="178" ed:tosuperid="177" stroke-linejoin="round" stroke="#4caf50" ed:parentid="171"></path> <path stroke-linecap="round" d="M-9.5,-98.4L-9.5,92.4C-9.5,95.7,-6.8,98.4,-3.5,98.4L9.5,98.4" transform="matrix(1,0,0,1,152.85,4581.38)" fill="none" stroke-width="3" id="180" ed:tosuperid="179" stroke-linejoin="round" stroke="#4caf50" ed:parentid="169"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,4702.63)" fill="none" stroke-width="3" id="182" ed:tosuperid="181" stroke-linejoin="round" stroke="#4caf50" ed:parentid="179"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,260.65,4736.38)" fill="none" stroke-width="3" id="184" ed:tosuperid="183" stroke-linejoin="round" stroke="#4caf50" ed:parentid="181"></path> <path stroke-linecap="round" d="M-9.4,-44.6L-9.4,38.6C-9.4,41.9,-6.8,44.6,-3.4,44.6L9.5,44.6" transform="matrix(1,0,0,1,206.75,4736.38)" fill="none" stroke-width="3" id="186" ed:tosuperid="185" stroke-linejoin="round" stroke="#4caf50" ed:parentid="179"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,260.65,4803.88)" fill="none" stroke-width="3" id="188" ed:tosuperid="187" stroke-linejoin="round" stroke="#4caf50" ed:parentid="185"></path> <path stroke-linecap="round" d="M-9.5,-27.8L-9.5,21.8C-9.5,25.1,-6.8,27.8,-3.5,27.8L9.5,27.8" transform="matrix(1,0,0,1,260.65,4820.75)" fill="none" stroke-width="3" id="190" ed:tosuperid="189" stroke-linejoin="round" stroke="#4caf50" ed:parentid="185"></path> <path stroke-linecap="round" d="M-9.5,-44.6L-9.5,38.6C-9.5,41.9,-6.8,44.6,-3.5,44.6L9.5,44.6" transform="matrix(1,0,0,1,260.65,4837.63)" fill="none" stroke-width="3" id="192" ed:tosuperid="191" stroke-linejoin="round" stroke="#4caf50" ed:parentid="185"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.4,10.9" transform="matrix(1,0,0,1,314.55,4905.13)" fill="none" stroke-width="3" id="194" ed:tosuperid="193" stroke-linejoin="round" stroke="#4caf50" ed:parentid="191"></path> <path stroke-linecap="round" d="M-9.5,-233.4L-9.5,227.4C-9.5,230.7,-6.8,233.4,-3.5,233.4L9.5,233.4" transform="matrix(1,0,0,1,152.85,4716.38)" fill="none" stroke-width="3" id="196" ed:tosuperid="195" stroke-linejoin="round" stroke="#4caf50" ed:parentid="169"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,4972.63)" fill="none" stroke-width="3" id="199" ed:tosuperid="198" stroke-linejoin="round" stroke="#4caf50" ed:parentid="195"></path> <path stroke-linecap="round" d="M-9.5,-25.9L-9.5,19.9C-9.5,23.2,-6.8,25.9,-3.5,25.9L9.4,25.9" transform="matrix(1,0,0,1,260.65,5021.38)" fill="none" stroke-width="3" id="201" ed:tosuperid="200" stroke-linejoin="round" stroke="#4caf50" ed:parentid="198"></path> <path stroke-linecap="round" d="M-9.5,-57.8L-9.5,51.8C-9.5,55.1,-6.8,57.8,-3.5,57.8L9.5,57.8" transform="matrix(1,0,0,1,260.65,5053.25)" fill="none" stroke-width="3" id="203" ed:tosuperid="202" stroke-linejoin="round" stroke="#4caf50" ed:parentid="198"></path> <path stroke-linecap="round" d="M-9.4,-96.5L-9.4,90.5C-9.4,93.8,-6.8,96.5,-3.4,96.5L9.5,96.5" transform="matrix(1,0,0,1,206.75,5058.25)" fill="none" stroke-width="3" id="205" ed:tosuperid="204" stroke-linejoin="round" stroke="#4caf50" ed:parentid="195"></path> <path stroke-linecap="round" d="M-9.4,-117.6L-9.4,111.6C-9.4,114.9,-6.8,117.6,-3.4,117.6L9.5,117.6" transform="matrix(1,0,0,1,206.75,5079.38)" fill="none" stroke-width="3" id="207" ed:tosuperid="206" stroke-linejoin="round" stroke="#4caf50" ed:parentid="195"></path> <path stroke-linecap="round" d="M-9.5,-102.9L-9.5,96.9C-9.5,100.2,-6.8,102.9,-3.5,102.9L9.4,102.9" transform="matrix(1,0,0,1,252.32,5310.38)" fill="none" stroke-width="3" id="210" ed:tosuperid="209" stroke-linejoin="round" stroke="#4caf50" ed:parentid="206"></path> <path stroke-linecap="round" d="M-9.4,-334.6L-9.4,328.6C-9.4,331.9,-6.8,334.6,-3.4,334.6L9.5,334.6" transform="matrix(1,0,0,1,206.75,5296.38)" fill="none" stroke-width="3" id="212" ed:tosuperid="211" stroke-linejoin="round" stroke="#4caf50" ed:parentid="195"></path> <path stroke-linecap="round" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.4,15.9" transform="matrix(1,0,0,1,260.65,5658.88)" fill="none" stroke-width="3" id="215" ed:tosuperid="214" stroke-linejoin="round" stroke="#4caf50" ed:parentid="211"></path> <path stroke-linecap="round" d="M-9.5,-44.8L-9.5,38.8C-9.5,42.1,-6.8,44.8,-3.5,44.8L9.4,44.8" transform="matrix(1,0,0,1,260.65,5687.75)" fill="none" stroke-width="3" id="217" ed:tosuperid="216" stroke-linejoin="round" stroke="#4caf50" ed:parentid="211"></path> <path stroke-linecap="round" d="M-9.4,-409.3L-9.4,403.3C-9.4,406.6,-6.8,409.3,-3.4,409.3L9.5,409.3" transform="matrix(1,0,0,1,206.75,5371)" fill="none" stroke-width="3" id="219" ed:tosuperid="218" stroke-linejoin="round" stroke="#4caf50" ed:parentid="195"></path> <path stroke-linecap="round" d="M-9.4,-458.6L-9.4,452.6C-9.4,455.9,-6.8,458.6,-3.4,458.6L9.5,458.6" transform="matrix(1,0,0,1,206.75,5420.38)" fill="none" stroke-width="3" id="221" ed:tosuperid="220" stroke-linejoin="round" stroke="#4caf50" ed:parentid="195"></path> <path stroke-linecap="round" d="M-9.4,-508L-9.4,502C-9.4,505.3,-6.8,508,-3.4,508L9.5,508" transform="matrix(1,0,0,1,206.75,5469.75)" fill="none" stroke-width="3" id="223" ed:tosuperid="222" stroke-linejoin="round" stroke="#4caf50" ed:parentid="195"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,260.65,6000.63)" fill="none" stroke-width="3" id="225" ed:tosuperid="224" stroke-linejoin="round" stroke="#4caf50" ed:parentid="222"></path> <path stroke-linecap="round" d="M-9.4,-541.8L-9.4,535.8C-9.4,539.1,-6.8,541.8,-3.4,541.8L9.5,541.8" transform="matrix(1,0,0,1,206.75,5503.5)" fill="none" stroke-width="3" id="227" ed:tosuperid="226" stroke-linejoin="round" stroke="#4caf50" ed:parentid="195"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,260.65,6068.13)" fill="none" stroke-width="3" id="229" ed:tosuperid="228" stroke-linejoin="round" stroke="#4caf50" ed:parentid="226"></path> <path stroke-linecap="round" d="M-9.4,-575.5L-9.4,569.5C-9.4,572.8,-6.8,575.5,-3.4,575.5L9.5,575.5" transform="matrix(1,0,0,1,206.75,5537.25)" fill="none" stroke-width="3" id="231" ed:tosuperid="230" stroke-linejoin="round" stroke="#4caf50" ed:parentid="195"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.4,10.9" transform="matrix(1,0,0,1,260.65,6135.63)" fill="none" stroke-width="3" id="233" ed:tosuperid="232" stroke-linejoin="round" stroke="#4caf50" ed:parentid="230"></path> <path stroke-linecap="round" d="M-9.5,-847.9L-9.5,841.9C-9.5,845.2,-6.8,847.9,-3.5,847.9L9.5,847.9" transform="matrix(1,0,0,1,152.85,5330.88)" fill="none" stroke-width="3" id="235" ed:tosuperid="234" stroke-linejoin="round" stroke="#4caf50" ed:parentid="169"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,6200.13)" fill="none" stroke-width="3" id="237" ed:tosuperid="236" stroke-linejoin="round" stroke="#4caf50" ed:parentid="234"></path> <path stroke-linecap="round" d="M-9.4,-27.8L-9.4,21.8C-9.4,25.1,-6.8,27.8,-3.4,27.8L9.5,27.8" transform="matrix(1,0,0,1,206.75,6217)" fill="none" stroke-width="3" id="239" ed:tosuperid="238" stroke-linejoin="round" stroke="#4caf50" ed:parentid="234"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,260.65,6267.63)" fill="none" stroke-width="3" id="241" ed:tosuperid="240" stroke-linejoin="round" stroke="#4caf50" ed:parentid="238"></path> <path stroke-linecap="round" d="M-9.4,-61.5L-9.4,55.5C-9.4,58.8,-6.8,61.5,-3.4,61.5L9.5,61.5" transform="matrix(1,0,0,1,206.75,6250.75)" fill="none" stroke-width="3" id="243" ed:tosuperid="242" stroke-linejoin="round" stroke="#4caf50" ed:parentid="234"></path> <path stroke-linecap="round" d="M-25.2,-3107.6L-25.2,3101.6C-25.2,3104.9,-22.5,3107.6,-19.2,3107.6L25.2,3107.6" transform="matrix(1,0,0,1,83.2,3267.63)" fill="none" stroke-width="3" id="245" ed:tosuperid="244" stroke-linejoin="round" stroke="#4caf50" ed:parentid="107"></path> <path stroke-linecap="round" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.5,15.9" transform="matrix(1,0,0,1,152.85,6409.13)" fill="none" stroke-width="3" id="247" ed:tosuperid="246" stroke-linejoin="round" stroke="#4caf50" ed:parentid="244"></path> <path stroke-linecap="round" d="M-9.5,-42.8L-9.5,36.8C-9.5,40.1,-6.8,42.8,-3.5,42.8L9.5,42.8" transform="matrix(1,0,0,1,152.85,6436)" fill="none" stroke-width="3" id="249" ed:tosuperid="248" stroke-linejoin="round" stroke="#4caf50" ed:parentid="244"></path> <path stroke-linecap="round" d="M-9.5,-63.9L-9.5,57.9C-9.5,61.2,-6.8,63.9,-3.5,63.9L9.5,63.9" transform="matrix(1,0,0,1,152.85,6457.13)" fill="none" stroke-width="3" id="251" ed:tosuperid="250" stroke-linejoin="round" stroke="#4caf50" ed:parentid="244"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,6542.38)" fill="none" stroke-width="3" id="253" ed:tosuperid="252" stroke-linejoin="round" stroke="#4caf50" ed:parentid="250"></path> <path stroke-linecap="round" d="M-9.5,-96.9L-9.5,90.9C-9.5,94.2,-6.8,96.9,-3.5,96.9L9.5,96.9" transform="matrix(1,0,0,1,152.85,6490.13)" fill="none" stroke-width="3" id="255" ed:tosuperid="254" stroke-linejoin="round" stroke="#4caf50" ed:parentid="244"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,6609.88)" fill="none" stroke-width="3" id="257" ed:tosuperid="256" stroke-linejoin="round" stroke="#4caf50" ed:parentid="254"></path> <path stroke-linecap="round" d="M-9.5,-130.6L-9.5,124.6C-9.5,127.9,-6.8,130.6,-3.5,130.6L9.5,130.6" transform="matrix(1,0,0,1,152.85,6523.88)" fill="none" stroke-width="3" id="259" ed:tosuperid="258" stroke-linejoin="round" stroke="#4caf50" ed:parentid="244"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,6677.38)" fill="none" stroke-width="3" id="261" ed:tosuperid="260" stroke-linejoin="round" stroke="#4caf50" ed:parentid="258"></path> <path stroke-linecap="round" d="M-9.5,-164.4L-9.5,158.4C-9.5,161.7,-6.8,164.4,-3.5,164.4L9.5,164.4" transform="matrix(1,0,0,1,152.85,6557.63)" fill="none" stroke-width="3" id="263" ed:tosuperid="262" stroke-linejoin="round" stroke="#4caf50" ed:parentid="244"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,6744.88)" fill="none" stroke-width="3" id="265" ed:tosuperid="264" stroke-linejoin="round" stroke="#4caf50" ed:parentid="262"></path> <path stroke-linecap="round" d="M-9.5,-198.1L-9.5,192.1C-9.5,195.4,-6.8,198.1,-3.5,198.1L9.5,198.1" transform="matrix(1,0,0,1,152.85,6591.38)" fill="none" stroke-width="3" id="267" ed:tosuperid="266" stroke-linejoin="round" stroke="#4caf50" ed:parentid="244"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,6812.38)" fill="none" stroke-width="3" id="269" ed:tosuperid="268" stroke-linejoin="round" stroke="#4caf50" ed:parentid="266"></path> <path stroke-linecap="round" d="M-9.5,-231.9L-9.5,225.9C-9.5,229.2,-6.8,231.9,-3.5,231.9L9.5,231.9" transform="matrix(1,0,0,1,152.85,6625.13)" fill="none" stroke-width="3" id="271" ed:tosuperid="270" stroke-linejoin="round" stroke="#4caf50" ed:parentid="244"></path> <path stroke-linecap="round" d="M-9.4,-25.9L-9.4,19.9C-9.4,23.2,-6.8,25.9,-3.4,25.9L9.5,25.9" transform="matrix(1,0,0,1,206.75,6894.88)" fill="none" stroke-width="3" id="273" ed:tosuperid="272" stroke-linejoin="round" stroke="#4caf50" ed:parentid="270"></path> <path stroke-linecap="round" d="M-9.5,-294.9L-9.5,288.9C-9.5,292.2,-6.8,294.9,-3.5,294.9L9.5,294.9" transform="matrix(1,0,0,1,152.85,6688.13)" fill="none" stroke-width="3" id="275" ed:tosuperid="274" stroke-linejoin="round" stroke="#4caf50" ed:parentid="244"></path> <path stroke-linecap="round" d="M-9.4,-20.9L-9.4,14.9C-9.4,18.2,-6.8,20.9,-3.4,20.9L9.5,20.9" transform="matrix(1,0,0,1,206.75,7014.38)" fill="none" stroke-width="3" id="277" ed:tosuperid="276" stroke-linejoin="round" stroke="#4caf50" ed:parentid="274"></path> <path stroke-linecap="round" d="M-25.2,-3480.1L-25.2,3474.1C-25.2,3477.4,-22.5,3480.1,-19.2,3480.1L25.2,3480.1" transform="matrix(1,0,0,1,83.2,3640.13)" fill="none" stroke-width="3" id="279" ed:tosuperid="278" stroke-linejoin="round" stroke="#4caf50" ed:parentid="107"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,152.85,7151.13)" fill="none" stroke-width="3" id="281" ed:tosuperid="280" stroke-linejoin="round" stroke="#4caf50" ed:parentid="278"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,7184.88)" fill="none" stroke-width="3" id="283" ed:tosuperid="282" stroke-linejoin="round" stroke="#4caf50" ed:parentid="280"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,260.65,7218.63)" fill="none" stroke-width="3" id="285" ed:tosuperid="284" stroke-linejoin="round" stroke="#4caf50" ed:parentid="282"></path> <path stroke-linecap="round" d="M-9.5,-61.5L-9.5,55.5C-9.5,58.8,-6.8,61.5,-3.5,61.5L9.5,61.5" transform="matrix(1,0,0,1,152.85,7201.75)" fill="none" stroke-width="3" id="287" ed:tosuperid="286" stroke-linejoin="round" stroke="#4caf50" ed:parentid="278"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,7286.13)" fill="none" stroke-width="3" id="289" ed:tosuperid="288" stroke-linejoin="round" stroke="#4caf50" ed:parentid="286"></path> <path stroke-linecap="round" d="M-9.4,-27.8L-9.4,21.8C-9.4,25.1,-6.8,27.8,-3.4,27.8L9.5,27.8" transform="matrix(1,0,0,1,206.75,7303)" fill="none" stroke-width="3" id="291" ed:tosuperid="290" stroke-linejoin="round" stroke="#4caf50" ed:parentid="286"></path> <path stroke-linecap="round" d="M-9.5,-112.1L-9.5,106.1C-9.5,109.4,-6.8,112.1,-3.5,112.1L9.5,112.1" transform="matrix(1,0,0,1,152.85,7252.38)" fill="none" stroke-width="3" id="293" ed:tosuperid="292" stroke-linejoin="round" stroke="#4caf50" ed:parentid="278"></path> <path stroke-linecap="round" d="M-9.4,-10.1L-9.4,4.1C-9.4,7.4,-6.8,10.1,-3.4,10.1L9.5,10.1" transform="matrix(1,0,0,1,206.75,7386.63)" fill="none" stroke-width="3" id="295" ed:tosuperid="294" stroke-linejoin="round" stroke="#4caf50" ed:parentid="292"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,260.65,7418.13)" fill="none" stroke-width="3" id="297" ed:tosuperid="296" stroke-linejoin="round" stroke="#4caf50" ed:parentid="294"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.4,10.9" transform="matrix(1,0,0,1,314.55,7451.88)" fill="none" stroke-width="3" id="299" ed:tosuperid="298" stroke-linejoin="round" stroke="#4caf50" ed:parentid="296"></path> <path stroke-linecap="round" d="M-9.5,-44.6L-9.5,38.6C-9.5,41.9,-6.8,44.6,-3.5,44.6L9.5,44.6" transform="matrix(1,0,0,1,260.65,7451.88)" fill="none" stroke-width="3" id="301" ed:tosuperid="300" stroke-linejoin="round" stroke="#4caf50" ed:parentid="294"></path> <path stroke-linecap="round" d="M-9.4,-76.1L-9.4,70.1C-9.4,73.4,-6.8,76.1,-3.4,76.1L9.5,76.1" transform="matrix(1,0,0,1,206.75,7452.63)" fill="none" stroke-width="3" id="303" ed:tosuperid="302" stroke-linejoin="round" stroke="#4caf50" ed:parentid="292"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,260.65,7550.13)" fill="none" stroke-width="3" id="305" ed:tosuperid="304" stroke-linejoin="round" stroke="#4caf50" ed:parentid="302"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.4,10.9" transform="matrix(1,0,0,1,314.55,7583.88)" fill="none" stroke-width="3" id="307" ed:tosuperid="306" stroke-linejoin="round" stroke="#4caf50" ed:parentid="304"></path> <path stroke-linecap="round" d="M-9.5,-44.6L-9.5,38.6C-9.5,41.9,-6.8,44.6,-3.5,44.6L9.5,44.6" transform="matrix(1,0,0,1,260.65,7583.88)" fill="none" stroke-width="3" id="309" ed:tosuperid="308" stroke-linejoin="round" stroke="#4caf50" ed:parentid="302"></path> <path stroke-linecap="round" d="M-9.4,-142.1L-9.4,136.1C-9.4,139.4,-6.8,142.1,-3.4,142.1L9.5,142.1" transform="matrix(1,0,0,1,206.75,7518.63)" fill="none" stroke-width="3" id="311" ed:tosuperid="310" stroke-linejoin="round" stroke="#4caf50" ed:parentid="292"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,260.65,7682.13)" fill="none" stroke-width="3" id="313" ed:tosuperid="312" stroke-linejoin="round" stroke="#4caf50" ed:parentid="310"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.4,10.9" transform="matrix(1,0,0,1,314.55,7715.88)" fill="none" stroke-width="3" id="315" ed:tosuperid="314" stroke-linejoin="round" stroke="#4caf50" ed:parentid="312"></path> <path stroke-linecap="round" d="M-9.5,-44.6L-9.5,38.6C-9.5,41.9,-6.8,44.6,-3.5,44.6L9.5,44.6" transform="matrix(1,0,0,1,260.65,7715.88)" fill="none" stroke-width="3" id="317" ed:tosuperid="316" stroke-linejoin="round" stroke="#4caf50" ed:parentid="310"></path> <path stroke-linecap="round" d="M-9.4,-208.1L-9.4,202.1C-9.4,205.4,-6.8,208.1,-3.4,208.1L9.5,208.1" transform="matrix(1,0,0,1,206.75,7584.63)" fill="none" stroke-width="3" id="319" ed:tosuperid="318" stroke-linejoin="round" stroke="#4caf50" ed:parentid="292"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,260.65,7814.13)" fill="none" stroke-width="3" id="321" ed:tosuperid="320" stroke-linejoin="round" stroke="#4caf50" ed:parentid="318"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.4,10.9" transform="matrix(1,0,0,1,314.55,7847.88)" fill="none" stroke-width="3" id="323" ed:tosuperid="322" stroke-linejoin="round" stroke="#4caf50" ed:parentid="320"></path> <path stroke-linecap="round" d="M-9.5,-44.6L-9.5,38.6C-9.5,41.9,-6.8,44.6,-3.5,44.6L9.5,44.6" transform="matrix(1,0,0,1,260.65,7847.88)" fill="none" stroke-width="3" id="325" ed:tosuperid="324" stroke-linejoin="round" stroke="#4caf50" ed:parentid="318"></path> <path stroke-linecap="round" d="M-9.5,-393L-9.5,387C-9.5,390.3,-6.8,393,-3.5,393L9.5,393" transform="matrix(1,0,0,1,152.85,7533.25)" fill="none" stroke-width="3" id="327" ed:tosuperid="326" stroke-linejoin="round" stroke="#4caf50" ed:parentid="278"></path> <path stroke-linecap="round" d="M-9.4,-20.9L-9.4,14.9C-9.4,18.2,-6.8,20.9,-3.4,20.9L9.5,20.9" transform="matrix(1,0,0,1,206.75,7959.13)" fill="none" stroke-width="3" id="329" ed:tosuperid="328" stroke-linejoin="round" stroke="#4caf50" ed:parentid="326"></path> <path stroke-linecap="round" d="M-25.2,-3952.5L-25.2,3946.5C-25.2,3949.8,-22.5,3952.5,-19.2,3952.5L25.2,3952.5" transform="matrix(1,0,0,1,83.2,4112.5)" fill="none" stroke-width="3" id="331" ed:tosuperid="330" stroke-linejoin="round" stroke="#4caf50" ed:parentid="107"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,152.85,8095.88)" fill="none" stroke-width="3" id="333" ed:tosuperid="332" stroke-linejoin="round" stroke="#4caf50" ed:parentid="330"></path> <path stroke-linecap="round" d="M-9.4,-15.9L-9.4,9.9C-9.4,13.2,-6.8,15.9,-3.4,15.9L9.5,15.9" transform="matrix(1,0,0,1,206.75,8134.63)" fill="none" stroke-width="3" id="335" ed:tosuperid="334" stroke-linejoin="round" stroke="#4caf50" ed:parentid="332"></path> <path stroke-linecap="round" d="M-9.4,-37.8L-9.4,31.8C-9.4,35.1,-6.8,37.8,-3.4,37.8L9.5,37.8" transform="matrix(1,0,0,1,206.75,8156.5)" fill="none" stroke-width="3" id="337" ed:tosuperid="336" stroke-linejoin="round" stroke="#4caf50" ed:parentid="332"></path> <path stroke-linecap="round" d="M-9.5,-71.5L-9.5,65.5C-9.5,68.8,-6.8,71.5,-3.5,71.5L9.5,71.5" transform="matrix(1,0,0,1,152.85,8156.5)" fill="none" stroke-width="3" id="339" ed:tosuperid="338" stroke-linejoin="round" stroke="#4caf50" ed:parentid="330"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,8250.88)" fill="none" stroke-width="3" id="341" ed:tosuperid="340" stroke-linejoin="round" stroke="#4caf50" ed:parentid="338"></path> <path stroke-linecap="round" d="M-9.4,-27.8L-9.4,21.8C-9.4,25.1,-6.8,27.8,-3.4,27.8L9.5,27.8" transform="matrix(1,0,0,1,206.75,8267.75)" fill="none" stroke-width="3" id="343" ed:tosuperid="342" stroke-linejoin="round" stroke="#4caf50" ed:parentid="338"></path> <path stroke-linecap="round" d="M-9.4,-44.6L-9.4,38.6C-9.4,41.9,-6.8,44.6,-3.4,44.6L9.5,44.6" transform="matrix(1,0,0,1,206.75,8284.63)" fill="none" stroke-width="3" id="345" ed:tosuperid="344" stroke-linejoin="round" stroke="#4caf50" ed:parentid="338"></path> <path stroke-linecap="round" d="M-25.2,-4116.1L-25.2,4110.1C-25.2,4113.4,-22.5,4116.1,-19.2,4116.1L25.2,4116.1" transform="matrix(1,0,0,1,83.2,4276.13)" fill="none" stroke-width="3" id="347" ed:tosuperid="346" stroke-linejoin="round" stroke="#4caf50" ed:parentid="107"></path> <path stroke-linecap="round" d="M-9.5,-21.1L-9.5,15.1C-9.5,18.4,-6.8,21.1,-3.5,21.1L9.5,21.1" transform="matrix(1,0,0,1,152.85,8431.38)" fill="none" stroke-width="3" id="349" ed:tosuperid="348" stroke-linejoin="round" stroke="#4caf50" ed:parentid="346"></path> <path stroke-linecap="round" d="M-9.5,-48.3L-9.5,42.3C-9.5,45.6,-6.8,48.3,-3.5,48.3L9.5,48.3" transform="matrix(1,0,0,1,152.85,8458.5)" fill="none" stroke-width="3" id="351" ed:tosuperid="350" stroke-linejoin="round" stroke="#4caf50" ed:parentid="346"></path> <path stroke-linecap="round" d="M-9.4,-46.4L-9.4,40.4C-9.4,43.7,-6.8,46.4,-3.4,46.4L9.5,46.4" transform="matrix(1,0,0,1,202.88,8565.13)" fill="none" stroke-width="3" id="354" ed:tosuperid="353" stroke-linejoin="round" stroke="#4caf50" ed:parentid="350"></path> <path stroke-linecap="round" d="M-9.5,-153L-9.5,147C-9.5,150.3,-6.8,153,-3.5,153L9.5,153" transform="matrix(1,0,0,1,152.85,8563.25)" fill="none" stroke-width="3" id="356" ed:tosuperid="355" stroke-linejoin="round" stroke="#4caf50" ed:parentid="346"></path> <path stroke-linecap="round" d="M-9.4,-26.4L-9.4,20.4C-9.4,23.7,-6.8,26.4,-3.4,26.4L9.5,26.4" transform="matrix(1,0,0,1,202.88,8754.63)" fill="none" stroke-width="3" id="359" ed:tosuperid="358" stroke-linejoin="round" stroke="#4caf50" ed:parentid="355"></path> <path stroke-linecap="round" d="M-9.5,-217.8L-9.5,211.8C-9.5,215.1,-6.8,217.8,-3.5,217.8L9.5,217.8" transform="matrix(1,0,0,1,152.85,8628)" fill="none" stroke-width="3" id="361" ed:tosuperid="360" stroke-linejoin="round" stroke="#4caf50" ed:parentid="346"></path> <path stroke-linecap="round" d="M-9.4,-31.4L-9.4,25.4C-9.4,28.7,-6.8,31.4,-3.4,31.4L9.5,31.4" transform="matrix(1,0,0,1,206.75,8889.13)" fill="none" stroke-width="3" id="364" ed:tosuperid="363" stroke-linejoin="round" stroke="#4caf50" ed:parentid="360"></path> <path stroke-linecap="round" d="M-9.5,-292.5L-9.5,286.5C-9.5,289.8,-6.8,292.5,-3.5,292.5L9.5,292.5" transform="matrix(1,0,0,1,152.85,8702.75)" fill="none" stroke-width="3" id="366" ed:tosuperid="365" stroke-linejoin="round" stroke="#4caf50" ed:parentid="346"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,200.67,9018.13)" fill="none" stroke-width="3" id="368" ed:tosuperid="367" stroke-linejoin="round" stroke="#4caf50" ed:parentid="365"></path> <path stroke-linecap="round" d="M-9.4,-27.8L-9.4,21.8C-9.4,25.1,-6.8,27.8,-3.4,27.8L9.5,27.8" transform="matrix(1,0,0,1,200.67,9035)" fill="none" stroke-width="3" id="370" ed:tosuperid="369" stroke-linejoin="round" stroke="#4caf50" ed:parentid="365"></path> <path stroke-linecap="round" d="M-9.4,-44.6L-9.4,38.6C-9.4,41.9,-6.8,44.6,-3.4,44.6L9.5,44.6" transform="matrix(1,0,0,1,200.67,9051.88)" fill="none" stroke-width="3" id="372" ed:tosuperid="371" stroke-linejoin="round" stroke="#4caf50" ed:parentid="365"></path> <path stroke-linecap="round" d="M-13.5,0L0,0C0,0,2.7,0,6,0L13.5,0" transform="matrix(1,0,0,1,281.47,9096.5)" fill="none" stroke-width="3" id="374" ed:tosuperid="373" stroke-linejoin="round" stroke="#4caf50" ed:parentid="371"></path> <path stroke-linecap="round" d="M-25.2,-4500.8L-25.2,4494.8C-25.2,4498.1,-22.5,4500.8,-19.2,4500.8L25.2,4500.8" transform="matrix(1,0,0,1,83.2,4660.75)" fill="none" stroke-width="3" id="376" ed:tosuperid="375" stroke-linejoin="round" stroke="#4caf50" ed:parentid="107"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,152.85,9192.38)" fill="none" stroke-width="3" id="378" ed:tosuperid="377" stroke-linejoin="round" stroke="#4caf50" ed:parentid="375"></path> <path stroke-linecap="round" d="M-9.4,-15.9L-9.4,9.9C-9.4,13.2,-6.8,15.9,-3.4,15.9L9.5,15.9" transform="matrix(1,0,0,1,206.75,9231.13)" fill="none" stroke-width="3" id="380" ed:tosuperid="379" stroke-linejoin="round" stroke="#4caf50" ed:parentid="377"></path> <path stroke-linecap="round" d="M-9.4,-42.8L-9.4,36.8C-9.4,40.1,-6.8,42.8,-3.4,42.8L9.5,42.8" transform="matrix(1,0,0,1,206.75,9258)" fill="none" stroke-width="3" id="382" ed:tosuperid="381" stroke-linejoin="round" stroke="#4caf50" ed:parentid="377"></path> <path stroke-linecap="round" d="M-9.4,-69.6L-9.4,63.6C-9.4,66.9,-6.8,69.6,-3.4,69.6L9.5,69.6" transform="matrix(1,0,0,1,206.75,9284.88)" fill="none" stroke-width="3" id="384" ed:tosuperid="383" stroke-linejoin="round" stroke="#4caf50" ed:parentid="377"></path> <path stroke-linecap="round" d="M-9.5,-108.4L-9.5,102.4C-9.5,105.7,-6.8,108.4,-3.5,108.4L9.5,108.4" transform="matrix(1,0,0,1,152.85,9289.88)" fill="none" stroke-width="3" id="386" ed:tosuperid="385" stroke-linejoin="round" stroke="#4caf50" ed:parentid="375"></path> <path stroke-linecap="round" d="M-9.4,-15.9L-9.4,9.9C-9.4,13.2,-6.8,15.9,-3.4,15.9L9.5,15.9" transform="matrix(1,0,0,1,206.75,9426.13)" fill="none" stroke-width="3" id="389" ed:tosuperid="388" stroke-linejoin="round" stroke="#4caf50" ed:parentid="385"></path> <path stroke-linecap="round" d="M-9.4,-37.8L-9.4,31.8C-9.4,35.1,-6.8,37.8,-3.4,37.8L9.5,37.8" transform="matrix(1,0,0,1,206.75,9448)" fill="none" stroke-width="3" id="391" ed:tosuperid="390" stroke-linejoin="round" stroke="#4caf50" ed:parentid="385"></path> <path stroke-linecap="round" d="M-9.4,-61.6L-9.4,55.6C-9.4,58.9,-6.8,61.6,-3.4,61.6L9.5,61.6" transform="matrix(1,0,0,1,206.75,9471.88)" fill="none" stroke-width="3" id="393" ed:tosuperid="392" stroke-linejoin="round" stroke="#4caf50" ed:parentid="385"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,260.65,9563.38)" fill="none" stroke-width="3" id="395" ed:tosuperid="394" stroke-linejoin="round" stroke="#4caf50" ed:parentid="392"></path> <path stroke-linecap="round" d="M-9.4,-102.4L-9.4,96.4C-9.4,99.7,-6.8,102.4,-3.4,102.4L9.5,102.4" transform="matrix(1,0,0,1,206.75,9512.63)" fill="none" stroke-width="3" id="397" ed:tosuperid="396" stroke-linejoin="round" stroke="#4caf50" ed:parentid="385"></path> <path stroke-linecap="round" d="M-9.5,-238.6L-9.5,232.6C-9.5,235.9,-6.8,238.6,-3.5,238.6L9.5,238.6" transform="matrix(1,0,0,1,152.85,9420.13)" fill="none" stroke-width="3" id="399" ed:tosuperid="398" stroke-linejoin="round" stroke="#4caf50" ed:parentid="375"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,9691.63)" fill="none" stroke-width="3" id="401" ed:tosuperid="400" stroke-linejoin="round" stroke="#4caf50" ed:parentid="398"></path> <path stroke-linecap="round" d="M-9.4,-27.8L-9.4,21.8C-9.4,25.1,-6.8,27.8,-3.4,27.8L9.5,27.8" transform="matrix(1,0,0,1,206.75,9708.5)" fill="none" stroke-width="3" id="403" ed:tosuperid="402" stroke-linejoin="round" stroke="#4caf50" ed:parentid="398"></path> <path stroke-linecap="round" d="M-9.4,-44.6L-9.4,38.6C-9.4,41.9,-6.8,44.6,-3.4,44.6L9.5,44.6" transform="matrix(1,0,0,1,206.75,9725.38)" fill="none" stroke-width="3" id="405" ed:tosuperid="404" stroke-linejoin="round" stroke="#4caf50" ed:parentid="398"></path> <path stroke-linecap="round" d="M-9.5,-311.1L-9.5,305.1C-9.5,308.4,-6.8,311.1,-3.5,311.1L9.5,311.1" transform="matrix(1,0,0,1,152.85,9492.63)" fill="none" stroke-width="3" id="407" ed:tosuperid="406" stroke-linejoin="round" stroke="#4caf50" ed:parentid="375"></path> <path stroke-linecap="round" d="M-9.5,-328L-9.5,322C-9.5,325.3,-6.8,328,-3.5,328L9.5,328" transform="matrix(1,0,0,1,152.85,9509.5)" fill="none" stroke-width="3" id="409" ed:tosuperid="408" stroke-linejoin="round" stroke="#4caf50" ed:parentid="375"></path> <path stroke-linecap="round" d="M-9.5,-344.9L-9.5,338.9C-9.5,342.2,-6.8,344.9,-3.5,344.9L9.5,344.9" transform="matrix(1,0,0,1,152.85,9526.38)" fill="none" stroke-width="3" id="411" ed:tosuperid="410" stroke-linejoin="round" stroke="#4caf50" ed:parentid="375"></path> <path stroke-linecap="round" d="M-9.5,-361.8L-9.5,355.8C-9.5,359.1,-6.8,361.8,-3.5,361.8L9.5,361.8" transform="matrix(1,0,0,1,152.85,9543.25)" fill="none" stroke-width="3" id="413" ed:tosuperid="412" stroke-linejoin="round" stroke="#4caf50" ed:parentid="375"></path> <path stroke-linecap="round" d="M-9.5,-378.6L-9.5,372.6C-9.5,375.9,-6.8,378.6,-3.5,378.6L9.5,378.6" transform="matrix(1,0,0,1,152.85,9560.13)" fill="none" stroke-width="3" id="415" ed:tosuperid="414" stroke-linejoin="round" stroke="#4caf50" ed:parentid="375"></path> <g transform="matrix(1,0,0,1,23,79)" id="107" ed:width="116" ed:height="81" ed:layout="righttree" ed:topictype="mainidea"><path d="M4,0L112,0C114.7,0,116,1.3,116,4L116,77C116,79.7,114.7,81,112,81L4,81C1.3,81,0,79.7,0,77L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="3" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st16"><tspan x="22" textLength="72" y="50">随笔</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,193)" id="108" ed:width="75" ed:height="41" ed:parentid="107"><path d="M4,0L71,0C73.7,0,75,1.3,75,4L75,37C75,39.7,73.7,41,71,41L4,41C1.3,41,0,39.7,0,37L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st17"><tspan x="19" textLength="36" y="24.5">编译</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,243.75)" id="110" ed:width="165.9375" ed:height="24" ed:parentid="108"><text class="st18"><tspan x="10" textLength="145" y="16">什么是LLVM和Clang？</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,277.5)" id="112" ed:width="518" ed:height="85" ed:parentid="110"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,81C518,83.7,516.7,85,514,85L4,85C1.3,85,0,83.7,0,81L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st18"><tspan x="10" textLength="351" y="16.5">LLVM 全称 Low Level Virtual Machine ，底层虚拟机，</tspan> <tspan x="10" textLength="484" y="36.5">宏观：LLVM不仅是一个编译器或者虚拟机，它是一个众多编译器工具及低级工</tspan> <tspan x="10" textLength="434" y="56.5">具技术的统称，包含一个前端、优化器、后端以及众多函数库和模板。</tspan> <tspan x="10" textLength="319" y="76.5">微观：可以看做后端编译器，前端编译器为Clang。</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,372.25)" id="114" ed:width="518" ed:height="65" ed:parentid="110"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,61C518,63.7,516.7,65,514,65L4,65C1.3,65,0,63.7,0,61L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st18"><tspan x="10" textLength="484" y="16.5">Clang(LLVM 是一部分)是一个有C++编写的编译器前端，能够编译C、C++、</tspan> <tspan x="10" textLength="487" y="36.5">Objc等高级语言，属于LLVM的一部分。主要用于词法分析、语法分析、语义分</tspan> <tspan x="10" textLength="126" y="56.5">析、生成中间代码。</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,447)" id="116" ed:width="145.296875" ed:height="24" ed:parentid="108"><text class="st18"><tspan x="10" textLength="124" y="16">Clang与GCC区别？</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,480.75)" id="118" ed:width="421.203125" ed:height="145" ed:parentid="116"><path d="M4,0L417.2,0C419.9,0,421.2,1.3,421.2,4L421.2,141C421.2,143.7,419.9,145,417.2,145L4,145C1.3,145,0,143.7,0,141L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st18"><tspan x="10" textLength="198" y="16.5">（1）Clang比Gcc编译用时更短</tspan> <tspan x="10" textLength="198" y="36.5">（2）Clang比Gcc占用内存更小</tspan> <tspan x="10" textLength="240" y="56.5">（3）Clang生成的中间产物比Gcc更小</tspan> <tspan x="10" textLength="212" y="76.5">（4）Clang错误提示比Gcc更友好</tspan> <tspan x="10" textLength="212" y="96.5">（5）Clang有静态分析，Gcc没有</tspan> <tspan x="10" textLength="399" y="116.5">（6）Clang从开始就被设计为API，允许代码分析工具和IDE集成</tspan> <tspan x="10" textLength="240" y="136.5">（7）Gcc比Clang支持更多语言和平台</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,635.5)" id="120" ed:width="129.84375" ed:height="24" ed:parentid="108"><text class="st18"><tspan x="10" textLength="109" y="16">Clang如何使用？</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,669.25)" id="122" ed:width="449.6875" ed:height="165" ed:parentid="120"><path d="M4,0L445.7,0C448.4,0,449.7,1.3,449.7,4L449.7,161C449.7,163.7,448.4,165,445.7,165L4,165C1.3,165,0,163.7,0,161L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st18"><tspan x="10" textLength="428" y="16.5">Clang功能非常强大，可以通过Clang观察到编译器运行的几个阶段：</tspan> <tspan x="10" textLength="93" y="36.5">（1）词法分析</tspan> <tspan x="10" textLength="93" y="56.5">（2）语法分析</tspan> <tspan x="10" textLength="189" y="76.5">（3）生成抽象语法树（AST）</tspan> <tspan x="10" textLength="162" y="96.5">（4）生成中间代码（IR）</tspan> <tspan x="10" textLength="107" y="116.5">（5）编译器优化</tspan> <tspan x="10" textLength="121" y="136.5">（6）生成目标文件</tspan> <tspan x="10" textLength="121" y="156.5">（7）运行目标文件</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,844)" id="124" ed:width="304.84375" ed:height="24" ed:parentid="122"><text class="st18"><tspan x="10" textLength="284" y="16">比如使用Clang将Objc代码转化成C++代码：</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,877.75)" id="126" ed:width="319.96875" ed:height="24" ed:parentid="122"><text class="st18"><tspan x="10" textLength="299" y="16">clang -rewrite-objc main.m    //将oc-&gt;c++</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,911.5)" id="128" ed:width="164.984375" ed:height="24" ed:parentid="108"><text class="st18"><tspan x="10" textLength="144" y="16">CocoaPods的工作原理</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,945.25)" id="130" ed:width="457.1875" ed:height="65" ed:parentid="128"><path d="M4,0L453.2,0C455.9,0,457.2,1.3,457.2,4L457.2,61C457.2,63.7,455.9,65,453.2,65L4,65C1.3,65,0,63.7,0,61L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st18"><tspan x="10" textLength="266" y="16.5">（1）通过建立podfile文件，指定第三方库</tspan> <tspan x="10" textLength="192" y="36.5">（2）使用pod install安装框架</tspan> <tspan x="10" textLength="435" y="56.5">（3）第三方框架被编译为libpods.a的静态库，主项目依赖这个静态库</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,1020)" id="132" ed:width="161" ed:height="24" ed:parentid="108"><text class="st18"><tspan x="10" textLength="140" y="16">动态库和静态库的区别</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,1053.75)" id="134" ed:width="517" ed:height="44" ed:parentid="132"><text class="st18"><tspan x="10" textLength="486" y="16">（1）存在形式上：静态库已.a或者.framework为文件后缀，动态库以.dylib或</tspan> <tspan x="10" textLength="161" y="36">者.framework为文件后缀</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,1107.5)" id="136" ed:width="517" ed:height="64" ed:parentid="132"><text class="st18"><tspan x="10" textLength="485" y="16">（2）使用区别上：静态库链接时，被完整的复制到可执行文件中，动态库链接</tspan> <tspan x="10" textLength="490" y="36">时，不复制，程序运行时由系统动态加载到内存，供程序调用，当多个程序共同</tspan> <tspan x="10" textLength="252" y="56">调用时，只加载一次，以节省内存开销。</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,1181.25)" id="138" ed:width="517" ed:height="44" ed:parentid="132"><text class="st18"><tspan x="10" textLength="484" y="16">iOS中动态库不是真正动态库，打包时会随着代码混在一起，启动时自动加载，</tspan> <tspan x="10" textLength="210" y="36">自定义动态库并不能在系统中共享</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,1235)" id="140" ed:width="136.65625" ed:height="24" ed:parentid="108"><text class="st18"><tspan x="10" textLength="116" y="16">RunLoop运行机制</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,1268.75)" id="142" ed:width="108.65625" ed:height="24" ed:parentid="108"><text class="st18"><tspan x="10" textLength="88" y="16">RunLoop实现</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,1309.5)" id="145" ed:width="517" ed:height="2330" ed:parentid="142"><text class="st18"><tspan x="10" textLength="155" y="16">/// 用DefaultMode启动</tspan> <tspan x="10" textLength="183" y="36">void CFRunLoopRun(void) {</tspan> <tspan x="10" textLength="346" y="53">    CFRunLoopRunSpecific(CFRunLoopGetCurrent(), </tspan> <tspan x="10" textLength="277" y="70">kCFRunLoopDefaultMode, 1.0e10, false);</tspan> <tspan x="10" textLength="5" y="87">}</tspan> <tspan x="10" textLength="4" y="104"></tspan> <tspan x="10" textLength="333" y="121">/// 用指定的Mode启动，允许设置RunLoop超时时间</tspan> <tspan x="10" textLength="455" y="141">int CFRunLoopRunInMode(CFStringRef modeName, CFTimeInterval </tspan> <tspan x="10" textLength="246" y="158">seconds, Boolean stopAfterHandle) {</tspan> <tspan x="10" textLength="478" y="175">    return CFRunLoopRunSpecific(CFRunLoopGetCurrent(), modeName, </tspan> <tspan x="10" textLength="250" y="192">seconds, returnAfterSourceHandled);</tspan> <tspan x="10" textLength="5" y="209">}</tspan> <tspan x="10" textLength="4" y="226"></tspan> <tspan x="10" textLength="128" y="243">/// RunLoop的实现</tspan> <tspan x="10" textLength="394" y="263">int CFRunLoopRunSpecific(runloop, modeName, seconds, </tspan> <tspan x="10" textLength="124" y="280">stopAfterHandle) {</tspan> <tspan x="10" textLength="18" y="297"></tspan> <tspan x="10" textLength="272" y="314">    /// 首先根据modeName找到对应mode</tspan> <tspan x="10" textLength="488" y="334">    CFRunLoopModeRef currentMode = __CFRunLoopFindMode(runloop, </tspan> <tspan x="10" textLength="127" y="351">modeName, false);</tspan> <tspan x="10" textLength="386" y="368">    /// 如果mode里没有source/timer/observer, 直接返回。</tspan> <tspan x="10" textLength="368" y="388">    if (__CFRunLoopModeIsEmpty(currentMode)) return;</tspan> <tspan x="10" textLength="18" y="405"></tspan> <tspan x="10" textLength="340" y="422">    /// 1. 通知 Observers: RunLoop 即将进入 loop。</tspan> <tspan x="10" textLength="486" y="442">    __CFRunLoopDoObservers(runloop, currentMode, kCFRunLoopEntry);</tspan> <tspan x="10" textLength="18" y="459"></tspan> <tspan x="10" textLength="172" y="476">    /// 内部函数，进入loop</tspan> <tspan x="10" textLength="360" y="496">    __CFRunLoopRun(runloop, currentMode, seconds, </tspan> <tspan x="10" textLength="191" y="513">returnAfterSourceHandled) {</tspan> <tspan x="10" textLength="35" y="530"></tspan> <tspan x="10" textLength="302" y="547">        Boolean sourceHandledThisLoop = NO;</tspan> <tspan x="10" textLength="131" y="564">        int retVal = 0;</tspan> <tspan x="10" textLength="62" y="581">        do {</tspan> <tspan x="10" textLength="4" y="598"></tspan> <tspan x="10" textLength="417" y="615">            /// 2. 通知 Observers: RunLoop 即将触发 Timer 回调。</tspan> <tspan x="10" textLength="393" y="635">            __CFRunLoopDoObservers(runloop, currentMode, </tspan> <tspan x="10" textLength="184" y="652">kCFRunLoopBeforeTimers);</tspan> <tspan x="10" textLength="488" y="669">            /// 3. 通知 Observers: RunLoop 即将触发 Source0 (非port) 回调。</tspan> <tspan x="10" textLength="393" y="689">            __CFRunLoopDoObservers(runloop, currentMode, </tspan> <tspan x="10" textLength="190" y="706">kCFRunLoopBeforeSources);</tspan> <tspan x="10" textLength="200" y="723">            /// 执行被加入的block</tspan> <tspan x="10" textLength="368" y="743">            __CFRunLoopDoBlocks(runloop, currentMode);</tspan> <tspan x="10" textLength="53" y="760"></tspan> <tspan x="10" textLength="350" y="777">            /// 4. RunLoop 触发 Source0 (非port) 回调。</tspan> <tspan x="10" textLength="474" y="797">            sourceHandledThisLoop = __CFRunLoopDoSources0(runloop, </tspan> <tspan x="10" textLength="215" y="814">currentMode, stopAfterHandle);</tspan> <tspan x="10" textLength="200" y="831">            /// 执行被加入的block</tspan> <tspan x="10" textLength="368" y="851">            __CFRunLoopDoBlocks(runloop, currentMode);</tspan> <tspan x="10" textLength="4" y="868"></tspan> <tspan x="10" textLength="477" y="885">            /// 5. 如果有 Source1 (基于port) 处于 ready 状态，直接处理这个 </tspan> <tspan x="10" textLength="199" y="905">Source1 然后跳转去处理消息。</tspan> <tspan x="10" textLength="324" y="925">            if (__Source0DidDispatchPortLastTime) {</tspan> <tspan x="10" textLength="499" y="942">                Boolean hasMsg = __CFRunLoopServiceMachPort(dispatchPort, </tspan> <tspan x="10" textLength="43" y="959">&amp;msg)</tspan> <tspan x="10" textLength="271" y="976">                if (hasMsg) goto handle_msg;</tspan> <tspan x="10" textLength="58" y="993">            }</tspan> <tspan x="10" textLength="53" y="1010"></tspan> <tspan x="10" textLength="438" y="1027">            /// 通知 Observers: RunLoop 的线程即将进入休眠(sleep)。</tspan> <tspan x="10" textLength="253" y="1047">            if (!sourceHandledThisLoop) {</tspan> <tspan x="10" textLength="410" y="1064">                __CFRunLoopDoObservers(runloop, currentMode, </tspan> <tspan x="10" textLength="187" y="1081">kCFRunLoopBeforeWaiting);</tspan> <tspan x="10" textLength="58" y="1098">            }</tspan> <tspan x="10" textLength="53" y="1115"></tspan> <tspan x="10" textLength="483" y="1132">            /// 7. 调用 mach_msg 等待接受 mach_port 的消息。线程将进入休</tspan> <tspan x="10" textLength="205" y="1152">眠, 直到被下面某一个事件唤醒。</tspan> <tspan x="10" textLength="305" y="1172">            /// • 一个基于 port 的Source 的事件。</tspan> <tspan x="10" textLength="224" y="1192">            /// • 一个 Timer 到时间了</tspan> <tspan x="10" textLength="282" y="1212">            /// • RunLoop 自身的超时时间到了</tspan> <tspan x="10" textLength="260" y="1232">            /// • 被其他什么调用者手动唤醒</tspan> <tspan x="10" textLength="499" y="1252">            __CFRunLoopServiceMachPort(waitSet, &amp;msg, sizeof(msg_buffer), </tspan> <tspan x="10" textLength="74" y="1269">&amp;livePort) {</tspan> <tspan x="10" textLength="473" y="1286">                mach_msg(msg, MACH_RCV_MSG, port); // thread wait for </tspan> <tspan x="10" textLength="81" y="1303">receive msg</tspan> <tspan x="10" textLength="58" y="1320">            }</tspan> <tspan x="10" textLength="4" y="1337"></tspan> <tspan x="10" textLength="411" y="1354">            /// 8. 通知 Observers: RunLoop 的线程刚刚被唤醒了。</tspan> <tspan x="10" textLength="393" y="1374">            __CFRunLoopDoObservers(runloop, currentMode, </tspan> <tspan x="10" textLength="178" y="1391">kCFRunLoopAfterWaiting);</tspan> <tspan x="10" textLength="53" y="1408"></tspan> <tspan x="10" textLength="219" y="1425">            /// 收到消息，处理消息。</tspan> <tspan x="10" textLength="139" y="1445">            handle_msg:</tspan> <tspan x="10" textLength="4" y="1462"></tspan> <tspan x="10" textLength="432" y="1479">            /// 9.1 如果一个 Timer 到时间了，触发这个Timer的回调。</tspan> <tspan x="10" textLength="175" y="1499">            if (msg_is_timer) {</tspan> <tspan x="10" textLength="389" y="1516">                __CFRunLoopDoTimers(runloop, currentMode, </tspan> <tspan x="10" textLength="152" y="1533">mach_absolute_time())</tspan> <tspan x="10" textLength="62" y="1550">            } </tspan> <tspan x="10" textLength="4" y="1567"></tspan> <tspan x="10" textLength="445" y="1584">            /// 9.2 如果有dispatch到main_queue的block，执行block。</tspan> <tspan x="10" textLength="228" y="1604">            else if (msg_is_dispatch) {</tspan> <tspan x="10" textLength="488" y="1621">                __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__(</tspan> <tspan x="10" textLength="38" y="1638">msg);</tspan> <tspan x="10" textLength="62" y="1655">            } </tspan> <tspan x="10" textLength="4" y="1672"></tspan> <tspan x="10" textLength="463" y="1689">            /// 9.3 如果一个 Source1 (基于port) 发出事件了，处理这个事件</tspan> <tspan x="10" textLength="89" y="1709">            else {</tspan> <tspan x="10" textLength="293" y="1726">                CFRunLoopSourceRef source1 = </tspan> <tspan x="10" textLength="449" y="1743">__CFRunLoopModeFindSourceForMachPort(runloop, currentMode, </tspan> <tspan x="10" textLength="59" y="1760">livePort);</tspan> <tspan x="10" textLength="485" y="1777">                sourceHandledThisLoop = __CFRunLoopDoSource1(runloop, </tspan> <tspan x="10" textLength="196" y="1794">currentMode, source1, msg);</tspan> <tspan x="10" textLength="266" y="1811">                if (sourceHandledThisLoop) {</tspan> <tspan x="10" textLength="381" y="1828">                    mach_msg(reply, MACH_SEND_MSG, reply);</tspan> <tspan x="10" textLength="75" y="1845">                }</tspan> <tspan x="10" textLength="58" y="1862">            }</tspan> <tspan x="10" textLength="53" y="1879"></tspan> <tspan x="10" textLength="234" y="1896">            /// 执行加入到Loop的block</tspan> <tspan x="10" textLength="368" y="1916">            __CFRunLoopDoBlocks(runloop, currentMode);</tspan> <tspan x="10" textLength="53" y="1933"></tspan> <tspan x="10" textLength="4" y="1950"></tspan> <tspan x="10" textLength="387" y="1967">            if (sourceHandledThisLoop &amp;&amp; stopAfterHandle) {</tspan> <tspan x="10" textLength="337" y="1984">                /// 进入loop时参数说处理完事件就返回。</tspan> <tspan x="10" textLength="348" y="2004">                retVal = kCFRunLoopRunHandledSource;</tspan> <tspan x="10" textLength="178" y="2021">            } else if (timeout) {</tspan> <tspan x="10" textLength="293" y="2038">                /// 超出传入参数标记的超时时间了</tspan> <tspan x="10" textLength="313" y="2058">                retVal = kCFRunLoopRunTimedOut;</tspan> <tspan x="10" textLength="345" y="2075">            } else if (__CFRunLoopIsStopped(runloop)) {</tspan> <tspan x="10" textLength="251" y="2092">                /// 被外部调用者强制停止了</tspan> <tspan x="10" textLength="302" y="2112">                retVal = kCFRunLoopRunStopped;</tspan> <tspan x="10" textLength="463" y="2129">            } else if (__CFRunLoopModeIsEmpty(runloop, currentMode)) {</tspan> <tspan x="10" textLength="336" y="2146">                /// source/timer/observer一个都没有了</tspan> <tspan x="10" textLength="303" y="2166">                retVal = kCFRunLoopRunFinished;</tspan> <tspan x="10" textLength="58" y="2183">            }</tspan> <tspan x="10" textLength="53" y="2200"></tspan> <tspan x="10" textLength="458" y="2217">            /// 如果没超时，mode里没空，loop也没被停止，那继续loop。</tspan> <tspan x="10" textLength="177" y="2237">        } while (retVal == 0);</tspan> <tspan x="10" textLength="22" y="2254">    }</tspan> <tspan x="10" textLength="18" y="2271"></tspan> <tspan x="10" textLength="314" y="2288">    /// 10. 通知 Observers: RunLoop 即将退出。</tspan> <tspan x="10" textLength="433" y="2308">    __CFRunLoopDoObservers(rl, currentMode, kCFRunLoopExit);</tspan> <tspan x="10" textLength="9" y="2325">} </tspan></text></g> <g transform="matrix(1,0,0,1,108.4,3679.5)" id="147" ed:width="74" ed:height="40" ed:parentid="107"><path d="M4,0L70,0C72.7,0,74,1.3,74,4L74,36C74,38.7,72.7,40,70,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st17"><tspan x="19" textLength="36" y="24">性能</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,3729.25)" id="149" ed:width="518" ed:height="265" ed:parentid="147"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,261C518,263.7,516.7,265,514,265L4,265C1.3,265,0,263.7,0,261L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st18"><tspan x="10" textLength="102" y="16.5">    内存泄漏检测</tspan> <tspan x="10" textLength="116" y="36.5">    内存大图片检测</tspan> <tspan x="10" textLength="158" y="56.5">    图片主线程解压缩检测</tspan> <tspan x="10" textLength="74" y="76.5">    卡顿检测</tspan> <tspan x="10" textLength="74" y="96.5">    帧率检测</tspan> <tspan x="10" textLength="102" y="116.5">    网络性能监控</tspan> <tspan x="10" textLength="89" y="136.5">    Crash 监控</tspan> <tspan x="10" textLength="475" y="156.5">    Abort 监控 （指由于 jetsam 机制杀死 APP，或者主线程长时间未反应被 </tspan> <tspan x="10" textLength="364" y="176.5">watchdog 杀死等情况，这些情况不具有堆栈，定位困难）</tspan> <tspan x="10" textLength="200" y="196.5">    基于页面级别的内存消耗监控</tspan> <tspan x="10" textLength="74" y="216.5">    卡顿监控</tspan> <tspan x="10" textLength="134" y="236.5">    DNS 解析情况监控</tspan> <tspan x="10" textLength="102" y="256.5">    启动时间监控</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,4004)" id="151" ed:width="192.296875" ed:height="24" ed:parentid="147"><text class="st18"><tspan x="10" textLength="171" y="16">精准 iOS 内存泄露检测工具</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,4037.75)" id="153" ed:width="113.859375" ed:height="21" ed:parentid="151"><text class="st18"><tspan x="10" textLength="93" y="16">MLeaksFinder</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,4068.5)" id="155" ed:width="103.515625" ed:height="21" ed:parentid="151"><text class="st18"><tspan x="10" textLength="83" y="16">PLeakSniffer</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,4099.25)" id="157" ed:width="133" ed:height="24" ed:parentid="147"><text class="st18"><tspan x="10" textLength="112" y="16">图片加载速度优化</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,4133)" id="159" ed:width="130.9375" ed:height="21" ed:parentid="157"><text class="st18"><tspan x="10" textLength="110" y="16">FastImageCache</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,4163.75)" id="161" ed:width="77" ed:height="24" ed:parentid="147"><text class="st18"><tspan x="10" textLength="56" y="16">卡顿检测</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,4197.5)" id="163" ed:width="518" ed:height="145" ed:parentid="161"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,141C518,143.7,516.7,145,514,145L4,145C1.3,145,0,143.7,0,141L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st18"><tspan x="10" textLength="485" y="16.5">1.iOS应用UI线程卡顿监控 ：是通过 ping 主线程，看主线程一定时间呢，是否</tspan> <tspan x="10" textLength="56" y="36.5">及时回复</tspan> <tspan x="10" textLength="490" y="56.5">2.iOS 实时卡顿监控：是通过 Runloop，监控主线程处理事件一次 loop 的时间</tspan> <tspan x="10" textLength="497" y="76.5">3.FPS ：当帧率过低时，也可以表明卡顿，帧率主要是通过 CADisplayLink 来做</tspan> <tspan x="10" textLength="14" y="96.5">的</tspan> <tspan x="10" textLength="475" y="116.5">4.比较堆栈：主要是比较主线程一定时间内堆栈是否一致，假如一分钟获取一</tspan> <tspan x="10" textLength="280" y="136.5">次，相邻两次获取结果相同，则代表被卡住了</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,4352.25)" id="165" ed:width="49" ed:height="24" ed:parentid="147"><text class="st18"><tspan x="10" textLength="28" y="16">日志</tspan></text></g> <g transform="matrix(1,0,0,1,205.7,4386)" id="167" ed:width="316.65625" ed:height="24" ed:parentid="165"><text class="st18"><tspan x="10" textLength="296" y="16">微信跨平台组件mars-xlog架构分析及迁移思路</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,4443)" id="169" ed:width="105.9375" ed:height="40" ed:parentid="107"><path d="M4,0L101.9,0C104.6,0,105.9,1.3,105.9,4L105.9,36C105.9,38.7,104.6,40,101.9,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st17"><tspan x="19" textLength="68" y="24">UI+性能</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,4492.75)" id="171" ed:width="219.8125" ed:height="24" ed:parentid="169"><text class="st18"><tspan x="10" textLength="199" y="16">UIView和CALayer是什么关系？</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,4526.5)" id="173" ed:width="319.625" ed:height="24" ed:parentid="171"><text class="st18"><tspan x="10" textLength="299" y="16">UIView继承自UIResponder , 负责用户事件响应</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,4560.25)" id="175" ed:width="273.140625" ed:height="24" ed:parentid="171"><text class="st18"><tspan x="10" textLength="252" y="16">CALayer继承自NSObject ,负责绘制内容</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,4594)" id="177" ed:width="517" ed:height="64" ed:parentid="171"><text class="st18"><tspan x="10" textLength="487" y="16">UIView当中有layer的一个属性，并且实现了CALayerDelegate的相关协议。这</tspan> <tspan x="10" textLength="493" y="36">样UIView就具有了响应用户时间并且能够绘制内容的能力。两者为互相依赖的关</tspan> <tspan x="10" textLength="14" y="56">系</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,4667.75)" id="179" ed:width="170.53125" ed:height="24" ed:parentid="169"><text class="st18"><tspan x="10" textLength="150" y="16">UIView的drawRect方法</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,4701.5)" id="181" ed:width="282.53125" ed:height="24" ed:parentid="179"><text class="st18"><tspan x="10" textLength="262" y="16">UIView的绘图操作是drawRect方法实现的</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,4735.25)" id="183" ed:width="265.046875" ed:height="24" ed:parentid="181"><text class="st18"><tspan x="10" textLength="244" y="16">需要重写drawRect方法，实现绘图操作</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,4769)" id="185" ed:width="139.046875" ed:height="24" ed:parentid="179"><text class="st18"><tspan x="10" textLength="118" y="16">触发drawRect方法</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,4802.75)" id="187" ed:width="192.953125" ed:height="24" ed:parentid="185"><text class="st18"><tspan x="10" textLength="172" y="16">调用setNeedsDisplay方法 </tspan></text></g> <g transform="matrix(1,0,0,1,270.1,4836.5)" id="189" ed:width="88.4375" ed:height="24" ed:parentid="185"><text class="st18"><tspan x="10" textLength="67" y="16">设置frame</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,4870.25)" id="191" ed:width="99.6875" ed:height="24" ed:parentid="185"><text class="st18"><tspan x="10" textLength="79" y="16">更改bounds</tspan></text></g> <g transform="matrix(1,0,0,1,324,4904)" id="193" ed:width="373.71875" ed:height="24" ed:parentid="191"><text class="st18"><tspan x="10" textLength="353" y="16">View的contentModel为UIViewContentModeRedraw时</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,4937.75)" id="195" ed:width="149.8125" ed:height="24" ed:parentid="169"><text class="st18"><tspan x="10" textLength="129" y="16">UIImageView加圆角</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,4971.5)" id="198" ed:width="77" ed:height="24" ed:parentid="195"><text class="st18"><tspan x="10" textLength="56" y="16">离屏渲染</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,5005.25)" id="200" ed:width="517" ed:height="84" ed:parentid="198"><text class="st18"><tspan x="10" textLength="261" y="16">（1）需要额外创建缓冲区来存放渲染结果</tspan> <tspan x="10" textLength="485" y="36">（2）需要多次切换上下文环境，先从当前屏幕切换到离屏，然后进行渲染，渲</tspan> <tspan x="10" textLength="490" y="56">染完毕后，再将缓冲区的渲染结果显示到屏幕上，这需要将上下文切换到当前屏</tspan> <tspan x="10" textLength="28" y="76">幕上</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,5099)" id="202" ed:width="378.890625" ed:height="24" ed:parentid="198"><text class="st18"><tspan x="10" textLength="358" y="16">修改cornerRadius和masksToBounds属性 导致离屏渲染</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,5132.75)" id="204" ed:width="517" ed:height="44" ed:parentid="195"><text class="st18"><tspan x="10" textLength="492" y="16">（1）开启一个子线程，使用贝萨尔曲线和CoreGraphics绘制圆角，绘制完成后</tspan> <tspan x="10" textLength="112" y="36">切换到主线程刷新</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,5186.5)" id="206" ed:width="53.34375" ed:height="21" ed:parentid="195"><text class="st18"><tspan x="10" textLength="32" y="16">code</tspan></text></g> <g transform="matrix(1,0,0,1,261.77,5224.25)" id="209" ed:width="517" ed:height="378" ed:parentid="206"><text class="st18"><tspan x="10" textLength="247" y="16">- (void)drawCircle:(UIImage *)image{</tspan> <tspan x="10" textLength="367" y="33">    dispatch_async(dispatch_get_global_queue(0, 0), ^{</tspan> <tspan x="10" textLength="373" y="50">        UIImage *imageCircle = [image drawImageCircle];</tspan> <tspan x="10" textLength="349" y="67">        dispatch_async(dispatch_get_main_queue(), ^{</tspan> <tspan x="10" textLength="323" y="84">            [self.imageView setImage: imageCircle];</tspan> <tspan x="10" textLength="49" y="101">        });</tspan> <tspan x="10" textLength="31" y="118">    });</tspan> <tspan x="10" textLength="5" y="135">}</tspan> <tspan x="10" textLength="128" y="169">&quot;UIImage+Circle.h&quot;</tspan> <tspan x="10" textLength="225" y="186">- (instancetype)drawImageCircle{</tspan> <tspan x="10" textLength="423" y="203">    UIGraphicsBeginImageContextWithOptions(self.size, NO, 0);</tspan> <tspan x="10" textLength="257" y="220">    UIBezierPath *path = [UIBezierPath </tspan> <tspan x="10" textLength="408" y="237">bezierPathWithOvalInRect:CGRectMake(0, 0, self.size.width, </tspan> <tspan x="10" textLength="117" y="254">self.size.height)];</tspan> <tspan x="10" textLength="118" y="271">    [path addClip];</tspan> <tspan x="10" textLength="231" y="288">    [self drawAtPoint:CGPointZero];</tspan> <tspan x="10" textLength="18" y="305"></tspan> <tspan x="10" textLength="478" y="322">    UIImage *image = UIGraphicsGetImageFromCurrentImageContext();</tspan> <tspan x="10" textLength="224" y="339">    UIGraphicsEndImageContext();</tspan> <tspan x="10" textLength="110" y="356">    return image;</tspan> <tspan x="10" textLength="5" y="373">}</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,5619)" id="211" ed:width="307.4375" ed:height="24" ed:parentid="195"><text class="st18"><tspan x="10" textLength="286" y="16">（2）将CALayer的shouldRasteriz设置为YES</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,5652.75)" id="214" ed:width="517" ed:height="44" ed:parentid="211"><text class="st18"><tspan x="10" textLength="495" y="16">CALayer光栅化为bitmap，保存离屏渲染后的缓冲区，减少重复渲染的过程，适</tspan> <tspan x="10" textLength="292" y="36">用于复用圆角UIImageView的地方，例如cell上</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,5713.5)" id="216" ed:width="496.765625" ed:height="38" ed:parentid="211"><text class="st18"><tspan x="10" textLength="300" y="16">self.imageView.layer.shouldRasterize = YES;</tspan> <tspan x="10" textLength="476" y="33">self.imageView.layer.rasterizationScale = [UIScreen mainScreen].scale;</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,5768.25)" id="218" ed:width="334.140625" ed:height="24" ed:parentid="195"><text class="st18"><tspan x="10" textLength="313" y="16">（3）使用CASharpLayer和UIBezierPath设置圆角</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,5809)" id="220" ed:width="517" ed:height="140" ed:parentid="195"><text class="st18"><tspan x="10" textLength="247" y="16">UIBezierPath *bPath = [UIBezierPath </tspan> <tspan x="10" textLength="356" y="33">bezierPathWithRoundedRect:self.imageView.bounds </tspan> <tspan x="10" textLength="303" y="50">byRoundingCorners:UIRectCornerAllCorners </tspan> <tspan x="10" textLength="279" y="67">cornerRadii:self.imageView.bounds.size];</tspan> <tspan x="10" textLength="398" y="84">    CAShapeLayer *maskLayer = [[CAShapeLayer alloc] init];</tspan> <tspan x="10" textLength="315" y="101">    maskLayer.frame = self.imageView.bounds;</tspan> <tspan x="10" textLength="241" y="118">    maskLayer.path = bPath.CGPath;</tspan> <tspan x="10" textLength="293" y="135">    self.imageView.layer.mask = maskLayer;</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,5965.75)" id="222" ed:width="141.359375" ed:height="24" ed:parentid="195"><text class="st18"><tspan x="10" textLength="120" y="16">(4) 切图使用圆角图</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,5999.5)" id="224" ed:width="320.71875" ed:height="24" ed:parentid="222"><text class="st18"><tspan x="10" textLength="300" y="16">另外制作纯色背景圆角图(删除alfa通道)进行叠加</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,6033.25)" id="226" ed:width="239.21875" ed:height="24" ed:parentid="195"><text class="st18"><tspan x="10" textLength="218" y="16">(5) 删除alfa通道, opaque不透明度</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,6067)" id="228" ed:width="105" ed:height="24" ed:parentid="226"><text class="st18"><tspan x="10" textLength="84" y="16">能删除的删掉</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,6100.75)" id="230" ed:width="239.359375" ed:height="24" ed:parentid="195"><text class="st18"><tspan x="10" textLength="218" y="16">(6) 尽量保证图片显示不再进行裁剪</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,6134.5)" id="232" ed:width="439.78125" ed:height="24" ed:parentid="230"><text class="st18"><tspan x="10" textLength="419" y="16">contentMode 根据类型进行不同裁剪 (图片比例和Frame尽量一致 )</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,6168.25)" id="234" ed:width="70.53125" ed:height="21" ed:parentid="169"><text class="st18"><tspan x="10" textLength="50" y="16">UILabel</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,6199)" id="236" ed:width="210.53125" ed:height="24" ed:parentid="234"><text class="st18"><tspan x="10" textLength="190" y="16">使用UILabel时设置背景不透明</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,6232.75)" id="238" ed:width="231" ed:height="24" ed:parentid="234"><text class="st18"><tspan x="10" textLength="210" y="16">显示大量文本时采用异步文本绘制</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,6266.5)" id="240" ed:width="257.359375" ed:height="24" ed:parentid="238"><text class="st18"><tspan x="10" textLength="236" y="16">大量文本绘制时,CPU 的压力会非常大,</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,6300.25)" id="242" ed:width="331.78125" ed:height="24" ed:parentid="234"><text class="st18"><tspan x="10" textLength="311" y="16">用 TextKit 或最底层的 CoreText 对文本异步绘制</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,6357.25)" id="244" ed:width="85.3125" ed:height="36" ed:parentid="107"><path d="M4,0L81.3,0C84,0,85.3,1.3,85.3,4L85.3,32C85.3,34.7,84,36,81.3,36L4,36C1.3,36,0,34.7,0,32L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st17"><tspan x="19" textLength="47" y="24">block</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,6403)" id="246" ed:width="517" ed:height="44" ed:parentid="244"><text class="st18"><tspan x="10" textLength="485" y="16">非逃逸：声明的block的生命周期就是声明所在的函数体的生命周期。我们在函</tspan> <tspan x="10" textLength="354" y="36">数体中声明一个block，这个block会在函数体结束时释放</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,6456.75)" id="248" ed:width="517" ed:height="44" ed:parentid="244"><text class="st18"><tspan x="10" textLength="494" y="16">逃逸：声明的block生命周期和声明所在的函数体无关了。我们在函数A中声明的</tspan> <tspan x="10" textLength="157" y="36">block，在B中也可以调用</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,6510.5)" id="250" ed:width="118.1875" ed:height="21" ed:parentid="244"><text class="st18"><tspan x="10" textLength="97" y="16">NSGlobalBlock</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,6541.25)" id="252" ed:width="464.09375" ed:height="24" ed:parentid="250"><text class="st18"><tspan x="10" textLength="443" y="16">不捕获自动变量的类型或者捕获的是静态局部变量(全局变量不需要捕获)</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,6575)" id="254" ed:width="77" ed:height="24" ed:parentid="244"><text class="st18"><tspan x="10" textLength="56" y="16">值捕获：</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,6608.75)" id="256" ed:width="343" ed:height="24" ed:parentid="254"><text class="st18"><tspan x="10" textLength="322" y="16">捕获的变量为其指针指向的值，或基础数据类型的值</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,6642.5)" id="258" ed:width="91" ed:height="24" ed:parentid="244"><text class="st18"><tspan x="10" textLength="70" y="16">地址捕获：</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,6676.25)" id="260" ed:width="357" ed:height="24" ed:parentid="258"><text class="st18"><tspan x="10" textLength="336" y="16">捕获的变量为其指针本身，或指向基础数据类型的指针</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,6710)" id="262" ed:width="195.640625" ed:height="24" ed:parentid="244"><text class="st18"><tspan x="10" textLength="175" y="16">MRC 环境 Copy 修饰 Block</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,6743.75)" id="264" ed:width="205.859375" ed:height="24" ed:parentid="262"><text class="st18"><tspan x="10" textLength="185" y="16">会将栈区的 Block 拷贝到堆区</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,6777.5)" id="266" ed:width="284.15625" ed:height="24" ed:parentid="244"><text class="st18"><tspan x="10" textLength="263" y="16">ARC 环境 使用 Strong、Copy 修饰 Block</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,6811.25)" id="268" ed:width="219.859375" ed:height="24" ed:parentid="266"><text class="st18"><tspan x="10" textLength="199" y="16">都会将栈区的 Block 拷贝到堆区</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,6845)" id="270" ed:width="77" ed:height="24" ed:parentid="244"><text class="st18"><tspan x="10" textLength="56" y="16">循环引用</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,6878.75)" id="272" ed:width="517" ed:height="84" ed:parentid="270"><text class="st18"><tspan x="10" textLength="497" y="16">block会把写在block里的变量copy一份，如果直接在block里使用self，block就</tspan> <tspan x="10" textLength="496" y="36">会对self持有，而self对block持有（self对变量默认是强引用）, 导致循环引用，</tspan> <tspan x="10" textLength="491" y="56">所以这里需要声明一个弱引用weakSelf，让block引用weakSelf，打破循环引用</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,6972.5)" id="274" ed:width="90" ed:height="21" ed:parentid="244"><text class="st18"><tspan x="10" textLength="69" y="16">strongSelf</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,7003.25)" id="276" ed:width="517" ed:height="64" ed:parentid="274"><text class="st18"><tspan x="10" textLength="498" y="16">如果这个block是异步调用而且调用的时候self已经释放了，这个时候weakSelf已</tspan> <tspan x="10" textLength="460" y="36">就变成了nil, 此时用strongSelf对weakSelf强引用,，当block执行完毕后，</tspan> <tspan x="10" textLength="474" y="56">strongSelf会释放，这个时候将不再强引用weakSelf，所以self会正确的释放</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,7100.25)" id="278" ed:width="164" ed:height="40" ed:parentid="107"><path d="M4,0L160,0C162.7,0,164,1.3,164,4L164,36C164,38.7,162.7,40,160,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st17"><tspan x="19" textLength="126" y="24">深拷贝和浅拷贝</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,7150)" id="280" ed:width="85.109375" ed:height="24" ed:parentid="278"><text class="st18"><tspan x="10" textLength="64" y="16">1.浅拷贝 :</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,7183.75)" id="282" ed:width="150.859375" ed:height="24" ed:parentid="280"><text class="st18"><tspan x="10" textLength="130" y="16">不可变对象copy操作</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,7217.5)" id="284" ed:width="364.90625" ed:height="24" ed:parentid="282"><text class="st18"><tspan x="10" textLength="344" y="16">比如NSArray、NSString 、NSSet、NSDictionary 等等</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,7251.25)" id="286" ed:width="85.109375" ed:height="24" ed:parentid="278"><text class="st18"><tspan x="10" textLength="64" y="16">2.深拷贝 :</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,7285)" id="288" ed:width="200.28125" ed:height="24" ed:parentid="286"><text class="st18"><tspan x="10" textLength="179" y="16">可变(Mutable)对象copy操作</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,7318.75)" id="290" ed:width="258.140625" ed:height="24" ed:parentid="286"><text class="st18"><tspan x="10" textLength="237" y="16">可变(Mutable)对象mutableCopy操作</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,7352.5)" id="292" ed:width="77" ed:height="24" ed:parentid="278"><text class="st18"><tspan x="10" textLength="56" y="16">集合拷贝</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,7386.25)" id="294" ed:width="135.65625" ed:height="21" ed:parentid="292"><text class="st18"><tspan x="10" textLength="115" y="16">NSArray + copy :</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,7417)" id="296" ed:width="352.09375" ed:height="24" ed:parentid="294"><text class="st18"><tspan x="10" textLength="331" y="16">指向同一个内存地址(创建一个内存地址引用指针而已)</tspan></text></g> <g transform="matrix(1,0,0,1,324,7450.75)" id="298" ed:width="161" ed:height="24" ed:parentid="296"><text class="st18"><tspan x="10" textLength="140" y="16">集合内部对象地址不变</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,7484.5)" id="300" ed:width="63" ed:height="24" ed:parentid="294"><text class="st18"><tspan x="10" textLength="42" y="16">浅拷贝</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,7518.25)" id="302" ed:width="193.515625" ed:height="21" ed:parentid="292"><text class="st18"><tspan x="10" textLength="173" y="16">NSArray + mutableCopy :</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,7549)" id="304" ed:width="147" ed:height="24" ed:parentid="302"><text class="st18"><tspan x="10" textLength="126" y="16">内存地址发生了变化</tspan></text></g> <g transform="matrix(1,0,0,1,324,7582.75)" id="306" ed:width="161" ed:height="24" ed:parentid="304"><text class="st18"><tspan x="10" textLength="140" y="16">集合内部对象地址不变</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,7616.5)" id="308" ed:width="63" ed:height="24" ed:parentid="302"><text class="st18"><tspan x="10" textLength="42" y="16">深拷贝</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,7650.25)" id="310" ed:width="194.40625" ed:height="21" ed:parentid="292"><text class="st18"><tspan x="10" textLength="173" y="16">NSMutableArray + copy : </tspan></text></g> <g transform="matrix(1,0,0,1,270.1,7681)" id="312" ed:width="147" ed:height="24" ed:parentid="310"><text class="st18"><tspan x="10" textLength="126" y="16">内存地址发生了变化</tspan></text></g> <g transform="matrix(1,0,0,1,324,7714.75)" id="314" ed:width="161" ed:height="24" ed:parentid="312"><text class="st18"><tspan x="10" textLength="140" y="16">集合内部对象地址不变</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,7748.5)" id="316" ed:width="63" ed:height="24" ed:parentid="310"><text class="st18"><tspan x="10" textLength="42" y="16">深拷贝</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,7782.25)" id="318" ed:width="252.265625" ed:height="21" ed:parentid="292"><text class="st18"><tspan x="10" textLength="231" y="16">NSMutableArray + mutableCopy : </tspan></text></g> <g transform="matrix(1,0,0,1,270.1,7813)" id="320" ed:width="147" ed:height="24" ed:parentid="318"><text class="st18"><tspan x="10" textLength="126" y="16">内存地址发生了变化</tspan></text></g> <g transform="matrix(1,0,0,1,324,7846.75)" id="322" ed:width="161" ed:height="24" ed:parentid="320"><text class="st18"><tspan x="10" textLength="140" y="16">集合内部对象地址不变</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,7880.5)" id="324" ed:width="63" ed:height="24" ed:parentid="318"><text class="st18"><tspan x="10" textLength="42" y="16">深拷贝</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,7914.25)" id="326" ed:width="113.109375" ed:height="24" ed:parentid="278"><text class="st18"><tspan x="10" textLength="92" y="16">3.单层深拷贝 :</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,7948)" id="328" ed:width="517" ed:height="64" ed:parentid="326"><text class="st18"><tspan x="10" textLength="497" y="16">对于不可变的容器类对象(如NSArray、NSSet、NSDictionary)进 mutableCopy </tspan> <tspan x="10" textLength="490" y="36">操作，内存地址发生了变化，但是其中的元素内存地址并没有发生变化，属于单</tspan> <tspan x="10" textLength="56" y="56">层深拷贝</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,8045)" id="330" ed:width="74" ed:height="40" ed:parentid="107"><path d="M4,0L70,0C72.7,0,74,1.3,74,4L74,36C74,38.7,72.7,40,70,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st17"><tspan x="19" textLength="36" y="24">动画</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,8094.75)" id="332" ed:width="85.84375" ed:height="24" ed:parentid="330"><text class="st18"><tspan x="10" textLength="65" y="16">显式动画 :</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,8128.5)" id="334" ed:width="517" ed:height="44" ed:parentid="332"><text class="st18"><tspan x="10" textLength="489" y="16">比如:用户自己通过beginAnimations:context:和commitAnimations创建的动</tspan> <tspan x="10" textLength="14" y="36">画</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,8182.25)" id="336" ed:width="175" ed:height="24" ed:parentid="332"><text class="st18"><tspan x="10" textLength="154" y="16">开启需要手动创建并开启</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,8216)" id="338" ed:width="85.84375" ed:height="24" ed:parentid="330"><text class="st18"><tspan x="10" textLength="65" y="16">隐式动画 :</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,8249.75)" id="340" ed:width="318.6875" ed:height="24" ed:parentid="338"><text class="st18"><tspan x="10" textLength="298" y="16">系统偷偷执行的动画, 默认就有, 不需要手动创建</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,8283.5)" id="342" ed:width="466.046875" ed:height="24" ed:parentid="338"><text class="st18"><tspan x="10" textLength="445" y="16">比如:通过UIView的animateWithDuration:animations:方法创建的动画</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,8317.25)" id="344" ed:width="225.84375" ed:height="24" ed:parentid="338"><text class="st18"><tspan x="10" textLength="205" y="16">默认自动执行, 关闭需要手动设置</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,8374.25)" id="346" ed:width="201.265625" ed:height="36" ed:parentid="107"><path d="M4,0L197.3,0C200,0,201.3,1.3,201.3,4L201.3,32C201.3,34.7,200,36,197.3,36L4,36C1.3,36,0,34.7,0,32L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st17"><tspan x="19" textLength="163" y="24">NSAutoreleasePool</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,8420)" id="348" ed:width="518" ed:height="65" ed:parentid="346"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,61C518,63.7,516.7,65,514,65L4,65C1.3,65,0,63.7,0,61L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st18"><tspan x="10" textLength="490" y="16.5">每一个自动释放池都是由一系列的 AutoreleasePoolPage 组成的，并且每一个 </tspan> <tspan x="10" textLength="493" y="36.5">AutoreleasePoolPage 的大小都是 4096 字节（16 进制 0x1000）自动释放池</tspan> <tspan x="10" textLength="360" y="56.5">中的 AutoreleasePoolPage 是以双向链表的形式连接起来</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,8494.75)" id="350" ed:width="62.265625" ed:height="24" ed:parentid="346"><text class="st18"><tspan x="10" textLength="41" y="16">写法1:</tspan></text></g> <g transform="matrix(1,0,0,1,212.33,8535.5)" id="353" ed:width="517" ed:height="152" ed:parentid="350"><text class="st18"><tspan x="10" textLength="490" y="16">NSAutoreleasePool*pool = [[NSAutoreleasePoolalloc]init ];//创建一个自动</tspan> <tspan x="10" textLength="42" y="36">释放池</tspan> <tspan x="10" textLength="250" y="73">Person *person = [[Person alloc]init];</tspan> <tspan x="10" textLength="117" y="90">person.age = 10;</tspan> <tspan x="10" textLength="186" y="107">[person autorelease];//释放</tspan> <tspan x="10" textLength="139" y="144">[pool release];//释放</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,8704.25)" id="355" ed:width="62.265625" ed:height="24" ed:parentid="346"><text class="st18"><tspan x="10" textLength="41" y="16">写法2:</tspan></text></g> <g transform="matrix(1,0,0,1,212.33,8745)" id="358" ed:width="279.609375" ed:height="72" ed:parentid="355"><text class="st18"><tspan x="10" textLength="129" y="16">@autoreleasepool {</tspan> <tspan x="10" textLength="259" y="33">  Person *person = [[Person alloc]init];</tspan> <tspan x="10" textLength="126" y="50">  person.age = 10;</tspan> <tspan x="10" textLength="5" y="67">}</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,8833.75)" id="360" ed:width="85.84375" ed:height="24" ed:parentid="346"><text class="st18"><tspan x="10" textLength="65" y="16">最终执行 :</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,8874.5)" id="363" ed:width="320.828125" ed:height="92" ed:parentid="360"><text class="st18"><tspan x="10" textLength="300" y="16">void *context = objc_autoreleasePoolPush();</tspan> <tspan x="10" textLength="84" y="50">// {}中的代码</tspan> <tspan x="10" textLength="233" y="87">objc_autoreleasePoolPop(context);</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,8983.25)" id="365" ed:width="57.84375" ed:height="24" ed:parentid="346"><text class="st18"><tspan x="10" textLength="37" y="16">最终 :</tspan></text></g> <g transform="matrix(1,0,0,1,210.12,9017)" id="367" ed:width="381.890625" ed:height="24" ed:parentid="365"><text class="st18"><tspan x="10" textLength="361" y="16">autoreleasepool 本质就是调用Push开始, 调用Pop时释放</tspan></text></g> <g transform="matrix(1,0,0,1,210.12,9050.75)" id="369" ed:width="358.109375" ed:height="24" ed:parentid="365"><text class="st18"><tspan x="10" textLength="337" y="16">而这两个函数都是对AutoreleasePoolPage的简单封装</tspan></text></g> <g transform="matrix(1,0,0,1,210.12,9084.5)" id="371" ed:width="57.84375" ed:height="24" ed:layout="rightmap" ed:parentid="365"><text class="st18"><tspan x="10" textLength="37" y="16">销毁 :</tspan></text></g> <g transform="matrix(1,0,0,1,294.97,9084.5)" id="373" ed:width="167.453125" ed:height="24" ed:layout="rightmap" ed:parentid="371"><text class="st18"><tspan x="10" textLength="146" y="16">调用 objc_autorelease</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,9141.5)" id="375" ed:width="233.40625" ed:height="40" ed:parentid="107"><path d="M4,0L229.4,0C232.1,0,233.4,1.3,233.4,4L233.4,36C233.4,38.7,232.1,40,229.4,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st17"><tspan x="19" textLength="195" y="24">AFNetworking 做了啥 ?</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,9191.25)" id="377" ed:width="118.265625" ed:height="24" ed:parentid="375"><text class="st18"><tspan x="10" textLength="97" y="16">提前证书认证 : </tspan></text></g> <g transform="matrix(1,0,0,1,216.2,9225)" id="379" ed:width="517" ed:height="44" ed:parentid="377"><text class="st18"><tspan x="10" textLength="493" y="16">AF可以让你在系统验证证书之前，就去自主验证。然后如果自己验证不正确，直</tspan> <tspan x="10" textLength="322" y="36">接取消网络请求。否则验证通过则继续进行系统验证</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,9278.75)" id="381" ed:width="517" ed:height="44" ed:parentid="377"><text class="st18"><tspan x="10" textLength="490" y="16">系统验证的流程：系统的验证，首先是去系统的根证书找，看是否有能匹配服务</tspan> <tspan x="10" textLength="357" y="36">端的证书，如果匹配，则验证成功，返回https的安全数据</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,9332.5)" id="383" ed:width="517" ed:height="44" ed:parentid="377"><text class="st18"><tspan x="10" textLength="495" y="16">如果不匹配则去判断ATS是否关闭，如果关闭，则返回https不安全连接的数据。</tspan> <tspan x="10" textLength="264" y="36">如果开启ATS，则拒绝这个请求，请求失败</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,9386.25)" id="385" ed:width="176.953125" ed:height="24" ed:parentid="375"><text class="st18"><tspan x="10" textLength="156" y="16">2.x : 开辟一条常驻线程 :</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,9420)" id="388" ed:width="517" ed:height="44" ed:parentid="385"><text class="st18"><tspan x="10" textLength="493" y="16">多个异步请求同时返回数据, 如果回到主线程,会堵塞. 如果开辟多条子线程, 会导</tspan> <tspan x="10" textLength="438" y="36">致线程数太多, 因此,开辟一条常驻子线程,数据回调处理均在此线程处理</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,9473.75)" id="390" ed:width="199.265625" ed:height="24" ed:parentid="385"><text class="st18"><tspan x="10" textLength="178" y="16">1. 创建全局线程NSThread *</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,9514.5)" id="392" ed:width="517" ed:height="38" ed:parentid="385"><text class="st18"><tspan x="10" textLength="267" y="16">2. [runLoop addPort:[NSMachPort port] </tspan> <tspan x="10" textLength="254" y="33">forMode:NSRunLoopCommonModes];</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,9562.25)" id="394" ed:width="159.828125" ed:height="24" ed:parentid="392"><text class="st18"><tspan x="10" textLength="139" y="16">启动 : [runLoop run];</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,9603)" id="396" ed:width="342.125" ed:height="24" ed:parentid="385"><text class="st18"><tspan x="10" textLength="321" y="16">保持runLoop需要source和mode , 不然会立马退出</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,9636.75)" id="398" ed:width="517" ed:height="44" ed:parentid="375"><text class="st18"><tspan x="10" textLength="493" y="16">3.x 不再需要常驻线程, 因为苹果使用NSURLSession 替换NSURLConnection , </tspan> <tspan x="10" textLength="84" y="36">弥补了其缺陷</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,9690.5)" id="400" ed:width="493.875" ed:height="24" ed:parentid="398"><text class="st18"><tspan x="10" textLength="473" y="16">但是需要设置self.operationQueue.maxConcurrentOperationCount = 1;</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,9724.25)" id="402" ed:width="298.9375" ed:height="24" ed:parentid="398"><text class="st18"><tspan x="10" textLength="278" y="16">让并发的请求串行(xxCount = 1)的进行回调</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,9758)" id="404" ed:width="382.375" ed:height="24" ed:parentid="398"><text class="st18"><tspan x="10" textLength="361" y="16">operationQueue是用来接收NSURLSessionDelegate回调</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,9791.75)" id="406" ed:width="254.15625" ed:height="24" ed:parentid="375"><text class="st18"><tspan x="10" textLength="233" y="16">做了各种请求方式request的参数拼接</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,9825.5)" id="408" ed:width="209.796875" ed:height="24" ed:parentid="375"><text class="st18"><tspan x="10" textLength="189" y="16">Block 回调(失败,成功, 进度条)</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,9859.25)" id="410" ed:width="315" ed:height="24" ed:parentid="375"><text class="st18"><tspan x="10" textLength="294" y="16">做了各种错误的判断，保证了成功和失败的回调</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,9893)" id="412" ed:width="202.265625" ed:height="24" ed:parentid="375"><text class="st18"><tspan x="10" textLength="181" y="16">状态栏小菊花 : 并发请求操作</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,9926.75)" id="414" ed:width="49" ed:height="24" ed:parentid="375"><text class="st18"><tspan x="10" textLength="28" y="16">等等</tspan></text></g></svg></div> <div id="copyright">Created With  <a href="https://www.edrawsoft.com/" target="_blank" title="edrawsoft">MindMaster</a></div></div></div></body></html></div></div> <!----> <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/c0a875/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Socket</div></a> <a href="/pages/ce0242/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Bug收集分析</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/c0a875/" class="prev">Socket</a></span> <span class="next"><a href="/pages/ce0242/">Bug收集分析</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> <!----></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8e150978.js" defer></script><script src="/assets/js/2.d54d51d6.js" defer></script><script src="/assets/js/38.0f491d08.js" defer></script>
  </body>
</html>
