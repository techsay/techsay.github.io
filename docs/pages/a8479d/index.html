<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Block | 知识导图</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/images/logo.PNG">
    <meta name="description" content="复杂的知识体系需要一套精简的知识导图作参考和索引">
    
    <link rel="preload" href="/assets/css/0.styles.2fd1a9bd.css" as="style"><link rel="preload" href="/assets/js/app.31fa4f17.js" as="script"><link rel="preload" href="/assets/js/2.8191dd0a.js" as="script"><link rel="preload" href="/assets/js/33.79b54b7c.js" as="script"><link rel="prefetch" href="/assets/js/10.7250f468.js"><link rel="prefetch" href="/assets/js/11.ed490f97.js"><link rel="prefetch" href="/assets/js/12.883a2cb3.js"><link rel="prefetch" href="/assets/js/13.a0aa4fdc.js"><link rel="prefetch" href="/assets/js/14.fce186bf.js"><link rel="prefetch" href="/assets/js/15.793cf824.js"><link rel="prefetch" href="/assets/js/16.52628848.js"><link rel="prefetch" href="/assets/js/17.16cef7b6.js"><link rel="prefetch" href="/assets/js/18.d5b6c8ad.js"><link rel="prefetch" href="/assets/js/19.6aa302e1.js"><link rel="prefetch" href="/assets/js/20.2b1853d8.js"><link rel="prefetch" href="/assets/js/21.e7e4e529.js"><link rel="prefetch" href="/assets/js/22.84b47e83.js"><link rel="prefetch" href="/assets/js/23.b0242ae3.js"><link rel="prefetch" href="/assets/js/24.ee1fd0e9.js"><link rel="prefetch" href="/assets/js/25.bfe54561.js"><link rel="prefetch" href="/assets/js/26.5a18db21.js"><link rel="prefetch" href="/assets/js/27.e51c1318.js"><link rel="prefetch" href="/assets/js/28.949cf03d.js"><link rel="prefetch" href="/assets/js/29.ac7dd779.js"><link rel="prefetch" href="/assets/js/3.39135196.js"><link rel="prefetch" href="/assets/js/30.5d61ff1f.js"><link rel="prefetch" href="/assets/js/31.ecb01aa7.js"><link rel="prefetch" href="/assets/js/32.67a38645.js"><link rel="prefetch" href="/assets/js/34.20801b2b.js"><link rel="prefetch" href="/assets/js/35.fe8aa201.js"><link rel="prefetch" href="/assets/js/36.045ee731.js"><link rel="prefetch" href="/assets/js/37.299a71e4.js"><link rel="prefetch" href="/assets/js/38.2ef65c84.js"><link rel="prefetch" href="/assets/js/39.887103f5.js"><link rel="prefetch" href="/assets/js/4.cd3de622.js"><link rel="prefetch" href="/assets/js/40.266a5082.js"><link rel="prefetch" href="/assets/js/41.fe7bbe21.js"><link rel="prefetch" href="/assets/js/42.0b85af36.js"><link rel="prefetch" href="/assets/js/43.fc21a4f7.js"><link rel="prefetch" href="/assets/js/44.369693a5.js"><link rel="prefetch" href="/assets/js/45.25683995.js"><link rel="prefetch" href="/assets/js/46.93b1849f.js"><link rel="prefetch" href="/assets/js/47.e4a6f0f8.js"><link rel="prefetch" href="/assets/js/48.9350461f.js"><link rel="prefetch" href="/assets/js/49.fa85320e.js"><link rel="prefetch" href="/assets/js/5.dd16869c.js"><link rel="prefetch" href="/assets/js/50.fcc6f86d.js"><link rel="prefetch" href="/assets/js/51.2052b80e.js"><link rel="prefetch" href="/assets/js/52.0dced092.js"><link rel="prefetch" href="/assets/js/53.c20bc26f.js"><link rel="prefetch" href="/assets/js/54.e0ca1636.js"><link rel="prefetch" href="/assets/js/55.d3691fe3.js"><link rel="prefetch" href="/assets/js/56.7b122819.js"><link rel="prefetch" href="/assets/js/57.5b28d3a7.js"><link rel="prefetch" href="/assets/js/58.59018903.js"><link rel="prefetch" href="/assets/js/59.9a9da3dc.js"><link rel="prefetch" href="/assets/js/6.2f1bc80e.js"><link rel="prefetch" href="/assets/js/60.76118750.js"><link rel="prefetch" href="/assets/js/61.99e29364.js"><link rel="prefetch" href="/assets/js/62.b9a8363d.js"><link rel="prefetch" href="/assets/js/63.672bce6a.js"><link rel="prefetch" href="/assets/js/64.99f70657.js"><link rel="prefetch" href="/assets/js/65.51e77d8d.js"><link rel="prefetch" href="/assets/js/7.9017dd4f.js"><link rel="prefetch" href="/assets/js/8.bcabd355.js"><link rel="prefetch" href="/assets/js/9.3f5b0a88.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2fd1a9bd.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo.PNG" alt="知识导图" class="logo"> <span class="site-name can-hide">知识导图</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/3468b2/" class="nav-link">iOS知识</a></div><div class="nav-item"><a href="/pages/603316/" class="nav-link">计算机知识</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友情链接" class="dropdown-title"><!----> <span class="title" style="display:;">友情链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.52im.net/index.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  即时通讯网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://zhuanlan.zhihu.com/p/409277420" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发常用网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.xiaolincoding.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小林Coding
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/3468b2/" class="nav-link">iOS知识</a></div><div class="nav-item"><a href="/pages/603316/" class="nav-link">计算机知识</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友情链接" class="dropdown-title"><!----> <span class="title" style="display:;">友情链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.52im.net/index.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  即时通讯网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://zhuanlan.zhihu.com/p/409277420" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发常用网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.xiaolincoding.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小林Coding
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS开发-上篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>iOS开发-中篇</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/1a2531/" class="sidebar-link">KVO</a></li><li><a href="/pages/a8479d/" aria-current="page" class="active sidebar-link">Block</a></li><li><a href="/pages/be70e9/" class="sidebar-link">GCD</a></li><li><a href="/pages/f56bb5/" class="sidebar-link">NSNotification</a></li><li><a href="/pages/e01d5e/" class="sidebar-link">Delegate</a></li><li><a href="/pages/c0a875/" class="sidebar-link">Socket</a></li><li><a href="/pages/44385c/" class="sidebar-link">随笔</a></li><li><a href="/pages/ce0242/" class="sidebar-link">Bug收集分析</a></li><li><a href="/pages/1b1e3b/" class="sidebar-link">内存</a></li><li><a href="/pages/073276/" class="sidebar-link">内存管理</a></li><li><a href="/pages/aaad5a/" class="sidebar-link">锁</a></li><li><a href="/pages/2e933e/" class="sidebar-link">多线程-锁</a></li><li><a href="/pages/4c1594/" class="sidebar-link">数据库多线程</a></li><li><a href="/pages/4abadf/" class="sidebar-link">数据存储</a></li><li><a href="/pages/59f72f/" class="sidebar-link">响应链</a></li><li><a href="/pages/b72c04/" class="sidebar-link">设计模式</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS开发-下篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS开发-三方库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS开发-工具</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>iOS开发</span></li><li data-v-06225672><span data-v-06225672>iOS开发-中篇</span></li></ul> <div class="info" data-v-06225672><!----> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-05-14</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><!----> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Block<!----></h1> <!----> <div class="theme-vdoing-content content__default"><html><head><meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>iOS开发-上篇-2022</title> <style>
        body{
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif;
            font-size: 14px;
        }
        #content-info{
            width: auto;
            margin: 0 auto;
            text-align: center;
        }
        #author-info{
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
        }
        #title{
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
            padding-top: 10px;
            margin-bottom: 2px;
            font-size: 34px;
            color: #505050;
        }
        .text{
            white-space:nowrap;
            text-overflow: ellipsis;
            display: inline-block;
            margin-right: 20px;
            margin-bottom: 2px;
            font-size: 20px;
            color: #8c8c8c;
        }
        #navBar{
            width: auto;
            height: auto;
            position: fixed;
            right:0;
            bottom: 0;
            background-color: #f0f3f4;
            overflow-y: auto;
            text-align: center;
        }
        #svg-container{
            width: 100%;
            overflow-x: scroll;
            min-width: 0px;
            margin: 0 10px;
            overflow: visible;
            position: relative;
        }
        #nav-thumbs{
            overflow-y: scroll;
            padding: 0 5px;
        }
        .nav-thumb{
            position: relative;
            margin: 10px auto;
        }
        .nav-thumb &gt;p{
            text-align: center;
            font-size: 12px;
            margin: 4px 0 0 0;
        }
        .nav-thumb &gt;div{
            position: relative;
            display: inline-block;
            border: 1px solid #c6cfd5;
        }
        .nav-thumb img{
            display: block;
        }
        #main-content{
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #ffffff;
            display: flex;
            height: auto;
            flex-flow: row wrap;
            text-align:center;
        }
        #svg-container &gt;svg{
            overflow: visible;
            display: block;
            margin:5px auto;
            margin-bottom: 5px;
        }
        #copyright{
            bottom: 0;
            left: 50%;
            margin: 5px auto;
            font-size: 16px;
            color: #515151;
        }
        #copyright &gt;a{
            text-decoration: none;
            color: #77C;
        }
        .number{
            position: absolute;
            top:0;
            left:0;
            border-top:22px solid #08a1ef;
            border-right: 22px solid transparent;
        }
        .pagenum{
            font-size: 12px;
            color: #fff;
            position: absolute;
            top: -23px;
            left: 2px;
        }
            #navBar::-webkit-scrollbar{
            width: 8px;
            background-color: #f5f5f5;
        }
            #navBar::-webkit-scrollbar-track{
            -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,.3);
            border-radius: 8px;
            background-color: #fff;
        }
            #navBar::-webkit-scrollbar-thumb{
            border-radius: 8px;
            -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,.3);
            background-color: #6b6b70;
        }
        #navBar::-webkit-scrollbar-thumb:hover{
            background-color: #4a4a4f;
        }
</style></head> <body><div id="main-area"><div id="main-content"><div id="svg-container"><svg ed:name="Block" height="3497" xmlns:ed="https://www.edrawsoft.cn/xml/2017/SVGExtensions/" viewBox="0 0 779 3431" xmlns="http://www.w3.org/2000/svg" ed:hSpacing="30" ed:vSpacing="30" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" width="779" id="page4" preserveAspectRadio="xMinYMin meet"><style type="text/css">&lt;![CDATA[
g[ed\:togtopicid],g[ed\:hyperlink],g[ed\:comment],g[ed\:note] {cursor:pointer;}
g[id] {-moz-user-select: none;-ms-user-select: none;user-select: none;}
svg text::selection,svg tspan::selection{background-color: #4285f4;color: #ffffff;fill: #ffffff;}
.st21 {fill:#141414;font-family:Open Sans;font-size:10.5pt}
.st19 {fill:#4caf50;font-family:Open Sans;font-size:12pt;font-weight:bold}
.st20 {fill:#ffffff;font-family:Open Sans;font-size:13.5pt}
]]&gt;</style> <defs></defs> <rect y="0" height="3497" x="0" fill="#ffffff" width="779"></rect> <path stroke-width="2" ed:type="boundary" d="M8,0L441.9,0C447.3,0,449.9,2.6,449.9,8L449.9,90C449.9,95.4,447.3,98,441.9,98L8,98C2.6,98,0,95.4,0,90L0,8C0,2.6,2.6,0,8,0z" stroke-dasharray="5,2" ed:idlist="169" fill="#4caf50" stroke="#4caf50" id="167" transform="matrix(1,0,0,1,155.3,1618)" fill-opacity="0.2" ed:parentid="169" stroke-linejoin="round"></path> <path stroke-width="2" ed:type="boundary" d="M8,0L523,0C528.4,0,531,2.6,531,8L531,104C531,109.4,528.4,112,523,112L8,112C2.6,112,0,109.4,0,104L0,8C0,2.6,2.6,0,8,0z" stroke-dasharray="5,2" ed:idlist="171" fill="#4caf50" stroke="#4caf50" id="168" transform="matrix(1,0,0,1,155.3,1725.75)" fill-opacity="0.2" ed:parentid="171" stroke-linejoin="round"></path> <path stroke-width="2" ed:type="boundary" d="M8,0L347.1,0C352.5,0,355.1,2.6,355.1,8L355.1,185.8C355.1,191.1,352.5,193.8,347.1,193.8L8,193.8C2.6,193.8,0,191.1,0,185.8L0,8C0,2.6,2.6,0,8,0z" stroke-dasharray="5,2" ed:idlist="188,191,191" fill="#4caf50" stroke="#4caf50" id="187" transform="matrix(1,0,0,1,155.3,2203)" fill-opacity="0.2" ed:parentid="188" stroke-linejoin="round"></path> <path stroke-width="2" ed:type="boundary" d="M8,0L422.7,0C428.1,0,430.7,2.6,430.7,8L430.7,200C430.7,205.4,428.1,208,422.7,208L8,208C2.6,208,0,205.4,0,200L0,8C0,2.6,2.6,0,8,0z" stroke-dasharray="5,2" ed:idlist="231" fill="#4caf50" stroke="#4caf50" id="226" transform="matrix(1,0,0,1,155.3,3254.5)" fill-opacity="0.2" ed:parentid="231" stroke-linejoin="round"></path> <path stroke-width="2" ed:type="boundary" d="M8,0L523,0C528.4,0,531,2.6,531,8L531,50C531,55.4,528.4,58,523,58L8,58C2.6,58,0,55.4,0,50L0,8C0,2.6,2.6,0,8,0z" stroke-dasharray="5,2" ed:idlist="148" fill="#4caf50" stroke="#4caf50" id="145" transform="matrix(1,0,0,1,209.2,1147.75)" fill-opacity="0.2" ed:parentid="148" stroke-linejoin="round"></path> <path stroke-width="2" ed:type="boundary" d="M8,0L540.1,0C545.4,0,548.1,2.6,548.1,8L548.1,83.7C548.1,89.1,545.4,91.8,540.1,91.8L8,91.8C2.6,91.8,0,89.1,0,83.8L0,8C0,2.6,2.6,0,8,0z" stroke-dasharray="5,2" ed:idlist="155,157,157" fill="#4caf50" stroke="#4caf50" id="152" transform="matrix(1,0,0,1,209.2,1283)" fill-opacity="0.2" ed:parentid="155" stroke-linejoin="round"></path> <path stroke-width="2" ed:type="boundary" d="M8,0L286.2,0C291.6,0,294.2,2.6,294.2,8L294.2,138C294.2,143.4,291.6,146,286.2,146L8,146C2.6,146,0,143.4,0,138L0,8C0,2.6,2.6,0,8,0z" stroke-dasharray="5,2" ed:idlist="191" fill="#4caf50" stroke="#4caf50" id="190" transform="matrix(1,0,0,1,209.2,2243.75)" fill-opacity="0.2" ed:parentid="191" stroke-linejoin="round"></path> <path stroke-width="2" ed:type="boundary" d="M8,0L523,0C528.4,0,531,2.6,531,8L531,70C531,75.4,528.4,78,523,78L8,78C2.6,78,0,75.4,0,70L0,8C0,2.6,2.6,0,8,0z" stroke-dasharray="5,2" ed:idlist="212" fill="#4caf50" stroke="#4caf50" id="211" transform="matrix(1,0,0,1,209.2,2767.25)" fill-opacity="0.2" ed:parentid="212" stroke-linejoin="round"></path> <path stroke-width="2" ed:type="boundary" d="M8,0L523,0C528.4,0,531,2.6,531,8L531,70C531,75.4,528.4,78,523,78L8,78C2.6,78,0,75.4,0,70L0,8C0,2.6,2.6,0,8,0z" stroke-dasharray="5,2" ed:idlist="217" fill="#4caf50" stroke="#4caf50" id="216" transform="matrix(1,0,0,1,209.2,2888.75)" fill-opacity="0.2" ed:parentid="217" stroke-linejoin="round"></path> <path stroke-width="2" ed:type="boundary" d="M8,0L523,0C528.4,0,531,2.6,531,8L531,50C531,55.4,528.4,58,523,58L8,58C2.6,58,0,55.4,0,50L0,8C0,2.6,2.6,0,8,0z" stroke-dasharray="5,2" ed:idlist="222" fill="#4caf50" stroke="#4caf50" id="221" transform="matrix(1,0,0,1,209.2,3010.25)" fill-opacity="0.2" ed:parentid="222" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-25.2,-26.5L-25.2,20.5C-25.2,23.8,-22.5,26.5,-19.2,26.5L25.2,26.5" ed:tosuperid="107" stroke="#4caf50" fill="none" id="108" transform="matrix(1,0,0,1,83.2,155.5)" ed:parentid="105" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-30.9L-9.5,24.9C-9.5,28.2,-6.8,30.9,-3.5,30.9L9.5,30.9" ed:tosuperid="109" stroke="#4caf50" fill="none" id="110" transform="matrix(1,0,0,1,152.85,232.88)" ed:parentid="107" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-67L-9.5,61C-9.5,64.3,-6.8,67,-3.5,67L9.5,67" ed:tosuperid="111" stroke="#4caf50" fill="none" id="112" transform="matrix(1,0,0,1,152.85,269)" ed:parentid="107" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-25.2,-135.3L-25.2,129.3C-25.2,132.6,-22.5,135.3,-19.2,135.3L25.2,135.3" ed:tosuperid="113" stroke="#4caf50" fill="none" id="114" transform="matrix(1,0,0,1,83.2,264.25)" ed:parentid="105" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" ed:tosuperid="115" stroke="#4caf50" fill="none" id="116" transform="matrix(1,0,0,1,152.85,430.38)" ed:parentid="113" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.4,-20.9L-9.4,14.9C-9.4,18.2,-6.8,20.9,-3.4,20.9L9.5,20.9" ed:tosuperid="117" stroke="#4caf50" fill="none" id="118" transform="matrix(1,0,0,1,206.75,474.13)" ed:parentid="115" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.4,-57.8L-9.4,51.8C-9.4,55.1,-6.8,57.8,-3.4,57.8L9.5,57.8" ed:tosuperid="119" stroke="#4caf50" fill="none" id="120" transform="matrix(1,0,0,1,206.75,511)" ed:parentid="115" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-101.5L-9.5,95.5C-9.5,98.8,-6.8,101.5,-3.5,101.5L9.5,101.5" ed:tosuperid="121" stroke="#4caf50" fill="none" id="122" transform="matrix(1,0,0,1,152.85,521)" ed:parentid="113" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" ed:tosuperid="123" stroke="#4caf50" fill="none" id="124" transform="matrix(1,0,0,1,206.75,645.38)" ed:parentid="121" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-25.2,-296.1L-25.2,290.1C-25.2,293.4,-22.5,296.1,-19.2,296.1L25.2,296.1" ed:tosuperid="125" stroke="#4caf50" fill="none" id="126" transform="matrix(1,0,0,1,83.2,425.13)" ed:parentid="105" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" ed:tosuperid="127" stroke="#4caf50" fill="none" id="128" transform="matrix(1,0,0,1,152.85,752.13)" ed:parentid="125" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" ed:tosuperid="129" stroke="#4caf50" fill="none" id="130" transform="matrix(1,0,0,1,206.75,785.88)" ed:parentid="127" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-44.6L-9.5,38.6C-9.5,41.9,-6.8,44.6,-3.5,44.6L9.5,44.6" ed:tosuperid="131" stroke="#4caf50" fill="none" id="132" transform="matrix(1,0,0,1,152.85,785.88)" ed:parentid="125" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" ed:tosuperid="133" stroke="#4caf50" fill="none" id="134" transform="matrix(1,0,0,1,206.75,853.38)" ed:parentid="131" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-25.2,-400.1L-25.2,394.1C-25.2,397.4,-22.5,400.1,-19.2,400.1L25.2,400.1" ed:tosuperid="135" stroke="#4caf50" fill="none" id="136" transform="matrix(1,0,0,1,83.2,529.13)" ed:parentid="105" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" ed:tosuperid="137" stroke="#4caf50" fill="none" id="138" transform="matrix(1,0,0,1,152.85,960.13)" ed:parentid="135" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" ed:tosuperid="139" stroke="#4caf50" fill="none" id="140" transform="matrix(1,0,0,1,203.25,993.88)" ed:parentid="137" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.4,-32.8L-9.4,26.8C-9.4,30.1,-6.8,32.8,-3.4,32.8L9.5,32.8" ed:tosuperid="141" stroke="#4caf50" fill="none" id="142" transform="matrix(1,0,0,1,203.25,1015.75)" ed:parentid="137" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-71.5L-9.5,65.5C-9.5,68.8,-6.8,71.5,-3.5,71.5L9.5,71.5" ed:tosuperid="143" stroke="#4caf50" fill="none" id="144" transform="matrix(1,0,0,1,152.85,1020.75)" ed:parentid="135" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" ed:tosuperid="146" stroke="#4caf50" fill="none" id="147" transform="matrix(1,0,0,1,206.75,1115.13)" ed:parentid="143" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.4,-36.3L-9.4,30.3C-9.4,33.6,-6.8,36.3,-3.4,36.3L9.5,36.3" ed:tosuperid="148" stroke="#4caf50" fill="none" id="149" transform="matrix(1,0,0,1,206.75,1140.5)" ed:parentid="143" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-139.1L-9.5,133.1C-9.5,136.4,-6.8,139.1,-3.5,139.1L9.5,139.1" ed:tosuperid="150" stroke="#4caf50" fill="none" id="151" transform="matrix(1,0,0,1,152.85,1088.38)" ed:parentid="135" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" ed:tosuperid="153" stroke="#4caf50" fill="none" id="154" transform="matrix(1,0,0,1,206.75,1250.38)" ed:parentid="150" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.4,-36.3L-9.4,30.3C-9.4,33.6,-6.8,36.3,-3.4,36.3L9.5,36.3" ed:tosuperid="155" stroke="#4caf50" fill="none" id="156" transform="matrix(1,0,0,1,206.75,1275.75)" ed:parentid="150" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.4,10.9" ed:tosuperid="157" stroke="#4caf50" fill="none" id="158" transform="matrix(1,0,0,1,260.65,1344.88)" ed:parentid="155" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.4,-83.5L-9.4,77.5C-9.4,80.8,-6.8,83.5,-3.4,83.5L9.5,83.5" ed:tosuperid="159" stroke="#4caf50" fill="none" id="160" transform="matrix(1,0,0,1,206.75,1323)" ed:parentid="150" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-25.2,-676.3L-25.2,670.3C-25.2,673.6,-22.5,676.3,-19.2,676.3L25.2,676.3" ed:tosuperid="161" stroke="#4caf50" fill="none" id="162" transform="matrix(1,0,0,1,83.2,805.25)" ed:parentid="105" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" ed:tosuperid="163" stroke="#4caf50" fill="none" id="164" transform="matrix(1,0,0,1,152.85,1512.38)" ed:parentid="161" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-25.2,-729.6L-25.2,723.6C-25.2,726.9,-22.5,729.6,-19.2,729.6L25.2,729.6" ed:tosuperid="165" stroke="#4caf50" fill="none" id="166" transform="matrix(1,0,0,1,83.2,858.63)" ed:parentid="105" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-29.4L-9.5,23.4C-9.5,26.7,-6.8,29.4,-3.5,29.4L9.5,29.4" ed:tosuperid="169" stroke="#4caf50" fill="none" id="170" transform="matrix(1,0,0,1,152.85,1637.63)" ed:parentid="165" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-86.8L-9.5,80.8C-9.5,84.1,-6.8,86.8,-3.5,86.8L9.5,86.8" ed:tosuperid="171" stroke="#4caf50" fill="none" id="172" transform="matrix(1,0,0,1,152.85,1695)" ed:parentid="165" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-130.6L-9.5,124.6C-9.5,127.9,-6.8,130.6,-3.5,130.6L9.5,130.6" ed:tosuperid="173" stroke="#4caf50" fill="none" id="174" transform="matrix(1,0,0,1,152.85,1738.88)" ed:parentid="165" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" ed:tosuperid="175" stroke="#4caf50" fill="none" id="176" transform="matrix(1,0,0,1,206.75,1902.38)" ed:parentid="173" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.4,-27.8L-9.4,21.8C-9.4,25.1,-6.8,27.8,-3.4,27.8L9.5,27.8" ed:tosuperid="177" stroke="#4caf50" fill="none" id="178" transform="matrix(1,0,0,1,206.75,1919.25)" ed:parentid="173" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.4,-49.6L-9.4,43.6C-9.4,46.9,-6.8,49.6,-3.4,49.6L9.5,49.6" ed:tosuperid="179" stroke="#4caf50" fill="none" id="180" transform="matrix(1,0,0,1,206.75,1941.13)" ed:parentid="173" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-218.1L-9.5,212.1C-9.5,215.4,-6.8,218.1,-3.5,218.1L9.5,218.1" ed:tosuperid="181" stroke="#4caf50" fill="none" id="182" transform="matrix(1,0,0,1,152.85,1826.38)" ed:parentid="165" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-245L-9.5,239C-9.5,242.3,-6.8,245,-3.5,245L9.5,245" ed:tosuperid="183" stroke="#4caf50" fill="none" id="184" transform="matrix(1,0,0,1,152.85,1853.25)" ed:parentid="165" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-25.2,-1022.1L-25.2,1016.1C-25.2,1019.4,-22.5,1022.1,-19.2,1022.1L25.2,1022.1" ed:tosuperid="185" stroke="#4caf50" fill="none" id="186" transform="matrix(1,0,0,1,83.2,1151.13)" ed:parentid="105" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-14.4L-9.5,8.4C-9.5,11.7,-6.8,14.4,-3.5,14.4L9.5,14.4" ed:tosuperid="188" stroke="#4caf50" fill="none" id="189" transform="matrix(1,0,0,1,152.85,2207.63)" ed:parentid="185" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.4,-41.4L-9.4,35.4C-9.4,38.7,-6.8,41.4,-3.4,41.4L9.5,41.4" ed:tosuperid="191" stroke="#4caf50" fill="none" id="192" transform="matrix(1,0,0,1,206.75,2275.38)" ed:parentid="188" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-117.6L-9.5,111.6C-9.5,114.9,-6.8,117.6,-3.5,117.6L9.5,117.6" ed:tosuperid="193" stroke="#4caf50" fill="none" id="194" transform="matrix(1,0,0,1,152.85,2310.88)" ed:parentid="185" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-149.5L-9.5,143.5C-9.5,146.8,-6.8,149.5,-3.5,149.5L9.5,149.5" ed:tosuperid="195" stroke="#4caf50" fill="none" id="196" transform="matrix(1,0,0,1,152.85,2342.75)" ed:parentid="185" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-175.6L-9.5,169.6C-9.5,172.9,-6.8,175.6,-3.5,175.6L9.5,175.6" ed:tosuperid="197" stroke="#4caf50" fill="none" id="198" transform="matrix(1,0,0,1,152.85,2368.88)" ed:parentid="185" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" ed:tosuperid="199" stroke="#4caf50" fill="none" id="200" transform="matrix(1,0,0,1,206.75,2565.88)" ed:parentid="197" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" ed:tosuperid="201" stroke="#4caf50" fill="none" id="202" transform="matrix(1,0,0,1,260.65,2599.63)" ed:parentid="199" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.4,-44.6L-9.4,38.6C-9.4,41.9,-6.8,44.6,-3.4,44.6L9.5,44.6" ed:tosuperid="203" stroke="#4caf50" fill="none" id="204" transform="matrix(1,0,0,1,206.75,2599.63)" ed:parentid="197" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.4,10.9" ed:tosuperid="205" stroke="#4caf50" fill="none" id="206" transform="matrix(1,0,0,1,260.65,2667.13)" ed:parentid="203" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-27.8L-9.5,21.8C-9.5,25.1,-6.8,27.8,-3.5,27.8L9.5,27.8" ed:tosuperid="207" stroke="#4caf50" fill="none" id="208" transform="matrix(1,0,0,1,260.65,2684)" ed:parentid="203" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-276.1L-9.5,270.1C-9.5,273.4,-6.8,276.1,-3.5,276.1L9.5,276.1" ed:tosuperid="209" stroke="#4caf50" fill="none" id="210" transform="matrix(1,0,0,1,152.85,2469.38)" ed:parentid="185" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.4,-24.4L-9.4,18.4C-9.4,21.7,-6.8,24.4,-3.4,24.4L9.5,24.4" ed:tosuperid="212" stroke="#4caf50" fill="none" id="213" transform="matrix(1,0,0,1,206.75,2781.88)" ed:parentid="209" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-336.9L-9.5,330.9C-9.5,334.2,-6.8,336.9,-3.5,336.9L9.5,336.9" ed:tosuperid="214" stroke="#4caf50" fill="none" id="215" transform="matrix(1,0,0,1,152.85,2530.13)" ed:parentid="185" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.4,-24.4L-9.4,18.4C-9.4,21.7,-6.8,24.4,-3.4,24.4L9.5,24.4" ed:tosuperid="217" stroke="#4caf50" fill="none" id="218" transform="matrix(1,0,0,1,206.75,2903.38)" ed:parentid="214" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-397.6L-9.5,391.6C-9.5,394.9,-6.8,397.6,-3.5,397.6L9.5,397.6" ed:tosuperid="219" stroke="#4caf50" fill="none" id="220" transform="matrix(1,0,0,1,152.85,2590.88)" ed:parentid="185" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.4,-19.4L-9.4,13.4C-9.4,16.7,-6.8,19.4,-3.4,19.4L9.5,19.4" ed:tosuperid="222" stroke="#4caf50" fill="none" id="223" transform="matrix(1,0,0,1,206.75,3019.88)" ed:parentid="219" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-25.2,-1495.1L-25.2,1489.1C-25.2,1492.4,-22.5,1495.1,-19.2,1495.1L25.2,1495.1" ed:tosuperid="224" stroke="#4caf50" fill="none" id="225" transform="matrix(1,0,0,1,83.2,1624.13)" ed:parentid="105" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.5,15.9" ed:tosuperid="227" stroke="#4caf50" fill="none" id="228" transform="matrix(1,0,0,1,152.85,3153.13)" ed:parentid="224" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-42.8L-9.5,36.8C-9.5,40.1,-6.8,42.8,-3.5,42.8L9.5,42.8" ed:tosuperid="229" stroke="#4caf50" fill="none" id="230" transform="matrix(1,0,0,1,152.85,3180)" ed:parentid="224" stroke-linejoin="round"></path> <path stroke-width="3" stroke-linecap="round" d="M-9.5,-110.6L-9.5,104.6C-9.5,107.9,-6.8,110.6,-3.5,110.6L9.5,110.6" ed:tosuperid="231" stroke="#4caf50" fill="none" id="232" transform="matrix(1,0,0,1,152.85,3247.88)" ed:parentid="224" stroke-linejoin="round"></path> <g ed:width="113.140625" ed:height="52" ed:layout="righttree" id="105" transform="matrix(1,0,0,1,23,77)" ed:topictype="mainidea"><path stroke-width="3" d="M4,0L109.1,0C111.8,0,113.1,1.3,113.1,4L113.1,48C113.1,50.7,111.8,52,109.1,52L4,52C1.3,52,0,50.7,0,48L0,4C0,1.3,1.3,0,4,0z" stroke="#4caf50" fill="none" stroke-linejoin="round"></path> <g transform="translate(21,16.1)"><use transform="translate(0,0)" xlink:href="#imgflag4"></use></g> <text class="st19"><tspan textLength="44" y="31.5" x="48">Block</tspan></text></g> <symbol id="imgflag4"><image height="16" width="16" xlink:href="data:image/png;base64,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"></image></symbol> <g ed:width="157.3125" ed:height="40" id="107" transform="matrix(1,0,0,1,108.4,162)" ed:parentid="105"><path d="M4,0L153.3,0C156,0,157.3,1.3,157.3,4L157.3,36C157.3,38.7,156,40,153.3,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st20"><tspan textLength="119" y="24" x="19">block基本概念</tspan></text></g> <g ed:width="517" ed:height="104" id="109" transform="matrix(1,0,0,1,162.3,211.75)" ed:parentid="107"><text class="st21"><tspan textLength="169" y="16" x="10">block的本质是一个OC对象</tspan> <tspan textLength="350" y="36" x="10">因为block底层结构的第一个成员实际上是一个isa指针。</tspan> <tspan textLength="247" y="56" x="10">block封装了函数调用和函数调用环境。</tspan> <tspan textLength="466" y="76" x="10">因为block的内部存储了block函数实现的入口地址（函数调用），还捕获了</tspan> <tspan textLength="345" y="96" x="10">block函数所用到的外部的一些变量（函数调用环境）。</tspan></text></g> <g ed:width="346.96875" ed:height="21" id="111" transform="matrix(1,0,0,1,162.3,325.5)" ed:parentid="107"><text class="st21"><tspan textLength="326" y="16" x="10">@property (nonatomic, copy) void(^block)(void);</tspan></text></g> <g ed:width="92" ed:height="40" id="113" transform="matrix(1,0,0,1,108.4,379.5)" ed:parentid="105"><path d="M4,0L88,0C90.7,0,92,1.3,92,4L92,36C92,38.7,90.7,40,88,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st20"><tspan textLength="54" y="24" x="19">值捕获</tspan></text></g> <g ed:width="183.03125" ed:height="24" id="115" transform="matrix(1,0,0,1,162.3,429.25)" ed:parentid="113"><text class="st21"><tspan textLength="162" y="16" x="10">1.局部变量会被block捕获</tspan></text></g> <g ed:width="517" ed:height="64" id="117" transform="matrix(1,0,0,1,216.2,463)" ed:parentid="115"><text class="st21"><tspan textLength="473" y="16" x="10">自动变量（auto），block通过值拷贝方式捕获，在其内部创建一个同类型变</tspan> <tspan textLength="494" y="36" x="10">量，并且将自动变量的值拷贝给block的内部变量，block代码块执行的时候，直</tspan> <tspan textLength="168" y="56" x="10">接访问它的这个内部变量。</tspan></text></g> <g ed:width="517" ed:height="64" id="119" transform="matrix(1,0,0,1,216.2,536.75)" ed:parentid="115"><text class="st21"><tspan textLength="493" y="16" x="10">静态变量（static），block通过地址拷贝方式捕获，在其内部创建一个指向同类</tspan> <tspan textLength="498" y="36" x="10">型变量的指针， 将静态变量的地址值拷贝给block内部的这个指针，block代码块</tspan> <tspan textLength="336" y="56" x="10">执行的时候，通过内部存储的指针间接访问静态变量。</tspan></text></g> <g ed:width="197.03125" ed:height="24" id="121" transform="matrix(1,0,0,1,162.3,610.5)" ed:parentid="113"><text class="st21"><tspan textLength="176" y="16" x="10">2.全局变量不会被block捕获</tspan></text></g> <g ed:width="351.765625" ed:height="24" id="123" transform="matrix(1,0,0,1,216.2,644.25)" ed:parentid="121"><text class="st21"><tspan textLength="331" y="16" x="10">block代码块执行的时候，通过全局变量名直接访问。</tspan></text></g> <g ed:width="123" ed:height="40" id="125" transform="matrix(1,0,0,1,108.4,701.25)" ed:parentid="105"><path d="M4,0L119,0C121.7,0,123,1.3,123,4L123,36C123,38.7,121.7,40,119,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st20"><tspan textLength="85" y="24" x="19">self值捕获</tspan></text></g> <g ed:width="179.796875" ed:height="24" id="127" transform="matrix(1,0,0,1,162.3,751)" ed:parentid="125"><text class="st21"><tspan textLength="159" y="16" x="10">block 内部使用 self.age </tspan></text></g> <g ed:width="101.109375" ed:height="24" id="129" transform="matrix(1,0,0,1,216.2,784.75)" ed:parentid="127"><text class="st21"><tspan textLength="80" y="16" x="10">self会被捕获</tspan></text></g> <g ed:width="158.265625" ed:height="24" id="131" transform="matrix(1,0,0,1,162.3,818.5)" ed:parentid="125"><text class="st21"><tspan textLength="137" y="16" x="10">block 内部使用 _age </tspan></text></g> <g ed:width="309.328125" ed:height="24" id="133" transform="matrix(1,0,0,1,216.2,852.25)" ed:parentid="131"><text class="st21"><tspan textLength="288" y="16" x="10">self会被捕获，_age 的写法等同与self-&gt;_age</tspan></text></g> <g ed:width="110" ed:height="40" id="135" transform="matrix(1,0,0,1,108.4,909.25)" ed:parentid="105"><path d="M4,0L106,0C108.7,0,110,1.3,110,4L110,36C110,38.7,108.7,40,106,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st20"><tspan textLength="72" y="24" x="19">内存位置</tspan></text></g> <g ed:width="63" ed:height="24" id="137" transform="matrix(1,0,0,1,162.3,959)" ed:parentid="135"><text class="st21"><tspan textLength="42" y="16" x="10">全局区</tspan></text></g> <g ed:width="164.609375" ed:height="24" id="139" transform="matrix(1,0,0,1,212.7,992.75)" ed:parentid="137"><text class="st21"><tspan textLength="144" y="16" x="10">NSGlobalBlock 数据段</tspan></text></g> <g ed:width="517" ed:height="44" id="141" transform="matrix(1,0,0,1,212.7,1026.5)" ed:parentid="137"><text class="st21"><tspan textLength="466" y="16" x="10">如果一个block内部没有使用/访问 自动变量(auto变量)，那么它的类型即为</tspan> <tspan textLength="340" y="36" x="10">__NSGlobalBlock__，它会被存储在应用程序的 数据段</tspan></text></g> <g ed:width="71.765625" ed:height="24" id="143" transform="matrix(1,0,0,1,162.3,1080.25)" ed:parentid="135"><text class="st21"><tspan textLength="51" y="16" x="10">栈block</tspan></text></g> <g ed:width="144.21875" ed:height="24" id="146" transform="matrix(1,0,0,1,216.2,1114)" ed:parentid="143"><text class="st21"><tspan textLength="123" y="16" x="10">NSStaticBlock 栈区</tspan></text></g> <g ed:width="517" ed:height="44" id="148" transform="matrix(1,0,0,1,216.2,1154.75)" ed:parentid="143"><text class="st21"><tspan textLength="473" y="16" x="10">MRC ：如果一个block有使用/访问 自动变量(auto变量)，那么它的类型即为</tspan> <tspan textLength="319" y="36" x="10">__NSStaticBlock__，它会被存储在应用程序的 栈区</tspan></text></g> <g ed:width="71.765625" ed:height="24" id="150" transform="matrix(1,0,0,1,162.3,1215.5)" ed:parentid="135"><text class="st21"><tspan textLength="51" y="16" x="10">堆block</tspan></text></g> <g ed:width="150.90625" ed:height="24" id="153" transform="matrix(1,0,0,1,216.2,1249.25)" ed:parentid="150"><text class="st21"><tspan textLength="130" y="16" x="10">NSMallocBlock 堆区</tspan></text></g> <g ed:width="517" ed:height="44" id="155" transform="matrix(1,0,0,1,216.2,1290)" ed:parentid="150"><text class="st21"><tspan textLength="488" y="16" x="10">ARC ：如果一个block有使用/访问 自动变量(auto变量)，自动从栈区copy到堆</tspan> <tspan textLength="377" y="36" x="10">区，就可以转变成__NSMallocBlock__，它会被存储在堆区上</tspan></text></g> <g ed:width="480.171875" ed:height="24" id="157" transform="matrix(1,0,0,1,270.1,1343.75)" ed:parentid="155"><text class="st21"><tspan textLength="459" y="16" x="10">ARC下auto变量可能被释放了，影响block获取变量，所以干脆复制到堆上</tspan></text></g> <g ed:width="517" ed:height="44" id="159" transform="matrix(1,0,0,1,216.2,1384.5)" ed:parentid="150"><text class="st21"><tspan textLength="493" y="16" x="10">对__NSMallocBlock__调用copy方法，就可以转变成__NSMallocBlock__，它会</tspan> <tspan textLength="98" y="36" x="10">被存储在堆区上</tspan></text></g> <g ed:width="186.28125" ed:height="40" id="161" transform="matrix(1,0,0,1,108.4,1461.5)" ed:parentid="105"><path d="M4,0L182.3,0C185,0,186.3,1.3,186.3,4L186.3,36C186.3,38.7,185,40,182.3,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st20"><tspan textLength="148" y="24" x="19">ARC栈copy到堆 1</tspan></text></g> <g ed:width="421.9375" ed:height="24" id="163" transform="matrix(1,0,0,1,162.3,1511.25)" ed:parentid="161"><text class="st21"><tspan textLength="401" y="16" x="10">在ARC环境下，编译器会根据情况自动将栈上的block复制到堆上</tspan></text></g> <g ed:width="186.28125" ed:height="40" id="165" transform="matrix(1,0,0,1,108.4,1568.25)" ed:parentid="105"><path d="M4,0L182.3,0C185,0,186.3,1.3,186.3,4L186.3,36C186.3,38.7,185,40,182.3,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st20"><tspan textLength="148" y="24" x="19">ARC栈copy到堆2 </tspan></text></g> <g ed:width="435.890625" ed:height="84" id="169" transform="matrix(1,0,0,1,162.3,1625)" ed:parentid="165"><text class="st21"><tspan textLength="204" y="16" x="10">1.block作为函数参数返回的时候</tspan> <tspan textLength="234" y="36" x="10">2.将block赋值给__strong指针的时候</tspan> <tspan textLength="415" y="56" x="10">3.block作为Cocoa API中方法名里面含有usingBlock的方法参数时</tspan> <tspan textLength="246" y="76" x="10">4.block作为GCD API的方法参数的时候</tspan></text></g> <g ed:width="517" ed:height="98" id="171" transform="matrix(1,0,0,1,162.3,1732.75)" ed:parentid="165"><text class="st21"><tspan textLength="142" y="16" x="10">__xxx_block_copy_x(</tspan> <tspan textLength="490" y="33" x="10">                   struct __main_block_impl_0*dst,    // 拷贝之前栈空间的block</tspan> <tspan textLength="466" y="53" x="10">                   struct __main_block_impl_0*src     // 拷贝之后堆空间上的</tspan> <tspan textLength="37" y="73" x="10">block</tspan> <tspan textLength="93" y="93" x="10">                   );</tspan></text></g> <g ed:width="517" ed:height="44" id="173" transform="matrix(1,0,0,1,162.3,1847.5)" ed:parentid="165"><text class="st21"><tspan textLength="493" y="16" x="10">（1）CLPerson *person 对象局部变量在被block捕获后，出了作用域并没有自</tspan> <tspan textLength="42" y="36" x="10">动释放</tspan></text></g> <g ed:width="405.640625" ed:height="24" id="175" transform="matrix(1,0,0,1,216.2,1901.25)" ed:parentid="173"><text class="st21"><tspan textLength="385" y="16" x="10">【ARC环境--&gt;堆上的block--&gt;强指针CLPerson *person 】</tspan></text></g> <g ed:width="285.96875" ed:height="24" id="177" transform="matrix(1,0,0,1,216.2,1935)" ed:parentid="173"><text class="st21"><tspan textLength="265" y="16" x="10">没有显试weak修饰的相当于strong 强指针</tspan></text></g> <g ed:width="517" ed:height="44" id="179" transform="matrix(1,0,0,1,216.2,1968.75)" ed:parentid="173"><text class="st21"><tspan textLength="394" y="16" x="10">会引用该对象，retain 后引用奇计数+1，当block释放时，通过</tspan> <tspan textLength="219" y="36" x="10">_Block_object_dispose 来计数-1 </tspan></text></g> <g ed:width="517" ed:height="44" id="181" transform="matrix(1,0,0,1,162.3,2022.5)" ed:parentid="165"><text class="st21"><tspan textLength="490" y="16" x="10">（2）使用弱指针__weak CLPerson *person 局部变量在被block捕获后，出了</tspan> <tspan textLength="130" y="36" x="10">作用域并 自动释放了</tspan></text></g> <g ed:width="517" ed:height="44" id="183" transform="matrix(1,0,0,1,162.3,2076.25)" ed:parentid="165"><text class="st21"><tspan textLength="463" y="16" x="10">（3）__weak + __strong : 只有外部使用weak时，避免对象过早释放，而</tspan> <tspan textLength="466" y="36" x="10">block内 刚好有 【延迟方法】时，会无法获取对象，起到一个延迟释放作用</tspan></text></g> <g ed:width="157.546875" ed:height="40" id="185" transform="matrix(1,0,0,1,108.4,2153.25)" ed:parentid="105"><path d="M4,0L153.5,0C156.2,0,157.5,1.3,157.5,4L157.5,36C157.5,38.7,156.2,40,153.5,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st20"><tspan textLength="120" y="24" x="19">ARC：__block</tspan></text></g> <g ed:width="99.765625" ed:height="24" id="188" transform="matrix(1,0,0,1,162.3,2210)" ed:parentid="185"><text class="st21"><tspan textLength="79" y="16" x="10">__block结构</tspan></text></g> <g ed:width="280.234375" ed:height="132" id="191" transform="matrix(1,0,0,1,216.2,2250.75)" ed:parentid="188"><text class="st21"><tspan textLength="186" y="16" x="10">struct __Block_byref_val_0 {</tspan> <tspan textLength="165" y="33" x="10">    void *__isa; // isa指针</tspan> <tspan textLength="259" y="53" x="10">    __Block_byref_val_0 *__forwarding; </tspan> <tspan textLength="91" y="70" x="10">    int __flags;</tspan> <tspan textLength="215" y="87" x="10">    int __size; // Block结构体大小</tspan> <tspan textLength="176" y="107" x="10">    int age; // 捕获到的变量</tspan> <tspan textLength="5" y="127" x="10">}</tspan></text></g> <g ed:width="517" ed:height="44" id="193" transform="matrix(1,0,0,1,162.3,2406.5)" ed:parentid="185"><text class="st21"><tspan textLength="489" y="16" x="10">__block只可以用来作用于auto变量，它的目的就是为了能够让auto变量能够在</tspan> <tspan textLength="361" y="36" x="10">block内部内修改，这才有了 __Block_byref_val_0 结构体</tspan></text></g> <g ed:width="517" ed:height="64" id="195" transform="matrix(1,0,0,1,162.3,2460.25)" ed:parentid="185"><text class="st21"><tspan textLength="478" y="16" x="10">被捕获的对象不再直接操作，而是将其封装到 __Block_byref_val_0 结构体里</tspan> <tspan textLength="494" y="36" x="10">面，通过这个结构体来操作 变量。复制到堆上就是将结构体直接复制，然后修改</tspan> <tspan textLength="28" y="56" x="10">指针</tspan></text></g> <g ed:width="108.921875" ed:height="21" id="197" transform="matrix(1,0,0,1,162.3,2534)" ed:parentid="185"><text class="st21"><tspan textLength="88" y="16" x="10">__forwarding</tspan></text></g> <g ed:width="71.765625" ed:height="24" id="199" transform="matrix(1,0,0,1,216.2,2564.75)" ed:parentid="197"><text class="st21"><tspan textLength="51" y="16" x="10">栈block</tspan></text></g> <g ed:width="267.34375" ed:height="24" id="201" transform="matrix(1,0,0,1,270.1,2598.5)" ed:parentid="199"><text class="st21"><tspan textLength="246" y="16" x="10">__forwarding 指针就是指向栈上的自己</tspan></text></g> <g ed:width="113.828125" ed:height="24" id="203" transform="matrix(1,0,0,1,216.2,2632.25)" ed:parentid="197"><text class="st21"><tspan textLength="93" y="16" x="10">栈 -&gt; 堆block</tspan></text></g> <g ed:width="461.390625" ed:height="24" id="205" transform="matrix(1,0,0,1,270.1,2666)" ed:parentid="203"><text class="st21"><tspan textLength="440" y="16" x="10">栈上的__forwarding 指针就是指向堆上的__Block_byref_val_0 结构体</tspan></text></g> <g ed:width="313.765625" ed:height="24" id="207" transform="matrix(1,0,0,1,270.1,2699.75)" ed:parentid="203"><text class="st21"><tspan textLength="293" y="16" x="10">堆上的__forwarding 指针就是指向 堆上的自己</tspan></text></g> <g ed:width="203.265625" ed:height="24" id="209" transform="matrix(1,0,0,1,162.3,2733.5)" ed:parentid="185"><text class="st21"><tspan textLength="182" y="16" x="10">_block + 基本类型变量 int a</tspan></text></g> <g ed:width="517" ed:height="64" id="212" transform="matrix(1,0,0,1,216.2,2774.25)" ed:parentid="209"><text class="st21"><tspan textLength="485" y="16" x="10">将int a包装在struct __Block_byref_a_0内部，这样block实际上捕获的是这个</tspan> <tspan textLength="464" y="36" x="10">struct __Block_byref_a_0，它可以被当作一个对象来看待，因此需要通过 </tspan> <tspan textLength="170" y="56" x="10">retain 和 release 管理内存</tspan></text></g> <g ed:width="147.734375" ed:height="24" id="214" transform="matrix(1,0,0,1,162.3,2855)" ed:parentid="185"><text class="st21"><tspan textLength="127" y="16" x="10">__block + 对象变量</tspan></text></g> <g ed:width="517" ed:height="64" id="217" transform="matrix(1,0,0,1,216.2,2895.75)" ed:parentid="214"><text class="st21"><tspan textLength="443" y="16" x="10">相比较基本类型变量，对象类型的变量被__block修饰后，底层所生成的</tspan> <tspan textLength="336" y="36" x="10">__Block_byref_xxx_x结构体里面多了两个函数指针，</tspan> <tspan textLength="425" y="56" x="10">__Block_byref_id_object_copy和__Block_byref_id_object_dispos</tspan></text></g> <g ed:width="216.171875" ed:height="24" id="219" transform="matrix(1,0,0,1,162.3,2976.5)" ed:parentid="185"><text class="st21"><tspan textLength="195" y="16" x="10">__block + __weak + 对象变量</tspan></text></g> <g ed:width="517" ed:height="44" id="222" transform="matrix(1,0,0,1,216.2,3017.25)" ed:parentid="219"><text class="st21"><tspan textLength="484" y="16" x="10">加上了__weak，因此struct __Block_byref_xxx_x内部封装的就是一个指向对</tspan> <tspan textLength="313" y="36" x="10">象的弱指针CLPerson *__weak weakBlockPerson</tspan></text></g> <g ed:width="112.671875" ed:height="36" id="224" transform="matrix(1,0,0,1,108.4,3101.25)" ed:parentid="105"><path d="M4,0L108.7,0C111.4,0,112.7,1.3,112.7,4L112.7,32C112.7,34.7,111.4,36,108.7,36L4,36C1.3,36,0,34.7,0,32L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st20"><tspan textLength="75" y="24" x="19">__strong</tspan></text></g> <g ed:width="517" ed:height="44" id="227" transform="matrix(1,0,0,1,162.3,3147)" ed:parentid="224"><text class="st21"><tspan textLength="491" y="16" x="10">为避免循环引用使用 __weak， 但是常规都可能是多线程环境，对象可能被提前</tspan> <tspan textLength="348" y="36" x="10">释放，此时block内部有延时函数就会导致对象获取nil。</tspan></text></g> <g ed:width="517" ed:height="44" id="229" transform="matrix(1,0,0,1,162.3,3200.75)" ed:parentid="224"><text class="st21"><tspan textLength="492" y="16" x="10">而__strong在Block内部修饰的对象,会保证在使用这个对象在scope内,这个对象</tspan> <tspan textLength="266" y="36" x="10">都不会被释放,出了scope,引用计数就会-1,</tspan></text></g> <g ed:width="416.6875" ed:height="194" id="231" transform="matrix(1,0,0,1,162.3,3261.5)" ed:parentid="224"><text class="st21"><tspan textLength="241" y="16" x="10">__weak typeof(self) weakSelf = self;</tspan> <tspan textLength="296" y="33" x="10">    model.dataChanged = ^(NSString *title) {</tspan> <tspan textLength="330" y="50" x="10">        __strong typeof(self) strongSelf = weakSelf;</tspan> <tspan textLength="253" y="67" x="10">        strongSelf.titleLabel.text = title;</tspan> <tspan textLength="185" y="84" x="10">        // 多层嵌套 ，使用多次</tspan> <tspan textLength="330" y="104" x="10">        __weak typeof(self) weakSelf2 = strongSelf;</tspan> <tspan textLength="396" y="121" x="10">        strongSelf.model.dataChanged = ^(NSString *title2) {</tspan> <tspan textLength="366" y="138" x="10">            __strong typeof(self) strongSelf2 = weakSelf2;</tspan> <tspan textLength="288" y="155" x="10">            strongSelf2.titleLabel.text = title2;</tspan> <tspan textLength="44" y="172" x="10">        };</tspan> <tspan textLength="27" y="189" x="10">    };</tspan></text></g></svg></div> <div id="copyright">Created With  <a href="https://www.edrawsoft.com/" target="_blank" title="edrawsoft">MindMaster</a></div></div></div></body></html></div></div> <!----> <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/1a2531/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">KVO</div></a> <a href="/pages/be70e9/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">GCD</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/1a2531/" class="prev">KVO</a></span> <span class="next"><a href="/pages/be70e9/">GCD</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> <!----></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.31fa4f17.js" defer></script><script src="/assets/js/2.8191dd0a.js" defer></script><script src="/assets/js/33.79b54b7c.js" defer></script>
  </body>
</html>
