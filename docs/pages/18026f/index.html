<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Realm | 知识导图</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/images/hlogo.png">
    <meta name="description" content="复杂的知识体系需要一套精简的知识导图作参考和索引">
    
    <link rel="preload" href="/assets/css/0.styles.3623805a.css" as="style"><link rel="preload" href="/assets/js/app.a3b82193.js" as="script"><link rel="preload" href="/assets/js/2.d54d51d6.js" as="script"><link rel="preload" href="/assets/js/60.f4e5d65c.js" as="script"><link rel="prefetch" href="/assets/js/10.8a22e577.js"><link rel="prefetch" href="/assets/js/100.cc228644.js"><link rel="prefetch" href="/assets/js/101.7abd20dc.js"><link rel="prefetch" href="/assets/js/102.b6e8bb4c.js"><link rel="prefetch" href="/assets/js/103.b6924ad1.js"><link rel="prefetch" href="/assets/js/104.18b70194.js"><link rel="prefetch" href="/assets/js/105.b53d4947.js"><link rel="prefetch" href="/assets/js/106.2a3ab6f4.js"><link rel="prefetch" href="/assets/js/107.9bbdee8b.js"><link rel="prefetch" href="/assets/js/108.1dfb122b.js"><link rel="prefetch" href="/assets/js/109.6846811d.js"><link rel="prefetch" href="/assets/js/11.a6f160f2.js"><link rel="prefetch" href="/assets/js/110.22a16287.js"><link rel="prefetch" href="/assets/js/111.17984dbd.js"><link rel="prefetch" href="/assets/js/112.34e2f17a.js"><link rel="prefetch" href="/assets/js/113.d82efdcb.js"><link rel="prefetch" href="/assets/js/114.9fde6014.js"><link rel="prefetch" href="/assets/js/115.cdd3228d.js"><link rel="prefetch" href="/assets/js/116.be9ef65c.js"><link rel="prefetch" href="/assets/js/117.363a96c3.js"><link rel="prefetch" href="/assets/js/118.a4f8ace2.js"><link rel="prefetch" href="/assets/js/119.70cc87db.js"><link rel="prefetch" href="/assets/js/12.cbfb0fc9.js"><link rel="prefetch" href="/assets/js/120.db74bc46.js"><link rel="prefetch" href="/assets/js/121.ce530bb2.js"><link rel="prefetch" href="/assets/js/122.f7281237.js"><link rel="prefetch" href="/assets/js/123.a1463c2b.js"><link rel="prefetch" href="/assets/js/124.e5ec8e65.js"><link rel="prefetch" href="/assets/js/125.9259e07e.js"><link rel="prefetch" href="/assets/js/126.ae0b9c8f.js"><link rel="prefetch" href="/assets/js/127.addf2c23.js"><link rel="prefetch" href="/assets/js/128.1fcd1bad.js"><link rel="prefetch" href="/assets/js/129.2a238421.js"><link rel="prefetch" href="/assets/js/13.a823d506.js"><link rel="prefetch" href="/assets/js/130.1b40f524.js"><link rel="prefetch" href="/assets/js/131.3c21c521.js"><link rel="prefetch" href="/assets/js/132.8744c310.js"><link rel="prefetch" href="/assets/js/133.48f94fe7.js"><link rel="prefetch" href="/assets/js/134.7babdd28.js"><link rel="prefetch" href="/assets/js/135.5f439c4c.js"><link rel="prefetch" href="/assets/js/136.6e01bdd7.js"><link rel="prefetch" href="/assets/js/137.893e6aa8.js"><link rel="prefetch" href="/assets/js/138.17f3c475.js"><link rel="prefetch" href="/assets/js/139.48316f10.js"><link rel="prefetch" href="/assets/js/14.aecfb713.js"><link rel="prefetch" href="/assets/js/140.3bce8a59.js"><link rel="prefetch" href="/assets/js/141.ac4af52b.js"><link rel="prefetch" href="/assets/js/142.dfd46f83.js"><link rel="prefetch" href="/assets/js/143.6589a0c8.js"><link rel="prefetch" href="/assets/js/144.066151c0.js"><link rel="prefetch" href="/assets/js/145.80abd027.js"><link rel="prefetch" href="/assets/js/146.0d332ab5.js"><link rel="prefetch" href="/assets/js/147.b32f6964.js"><link rel="prefetch" href="/assets/js/148.7ac200d7.js"><link rel="prefetch" href="/assets/js/149.4803c8c0.js"><link rel="prefetch" href="/assets/js/15.61f5a6c0.js"><link rel="prefetch" href="/assets/js/150.2c7c07fc.js"><link rel="prefetch" href="/assets/js/151.630d6b69.js"><link rel="prefetch" href="/assets/js/152.23af7a3c.js"><link rel="prefetch" href="/assets/js/16.d8b31f9a.js"><link rel="prefetch" href="/assets/js/17.35dc5655.js"><link rel="prefetch" href="/assets/js/18.4ebff7a9.js"><link rel="prefetch" href="/assets/js/19.3f19dfee.js"><link rel="prefetch" href="/assets/js/20.4ffdcd8d.js"><link rel="prefetch" href="/assets/js/21.1d888fc6.js"><link rel="prefetch" href="/assets/js/22.33c08924.js"><link rel="prefetch" href="/assets/js/23.3364477d.js"><link rel="prefetch" href="/assets/js/24.936f00d5.js"><link rel="prefetch" href="/assets/js/25.8392ddfe.js"><link rel="prefetch" href="/assets/js/26.405fd225.js"><link rel="prefetch" href="/assets/js/27.426c5ae4.js"><link rel="prefetch" href="/assets/js/28.7f9e34eb.js"><link rel="prefetch" href="/assets/js/29.41787567.js"><link rel="prefetch" href="/assets/js/3.13bef712.js"><link rel="prefetch" href="/assets/js/30.3ae460e5.js"><link rel="prefetch" href="/assets/js/31.37e76399.js"><link rel="prefetch" href="/assets/js/32.bc515f29.js"><link rel="prefetch" href="/assets/js/33.bf14a655.js"><link rel="prefetch" href="/assets/js/34.313e9482.js"><link rel="prefetch" href="/assets/js/35.3e1ae712.js"><link rel="prefetch" href="/assets/js/36.48420051.js"><link rel="prefetch" href="/assets/js/37.26dbb304.js"><link rel="prefetch" href="/assets/js/38.924c0e9e.js"><link rel="prefetch" href="/assets/js/39.2146d9ae.js"><link rel="prefetch" href="/assets/js/4.dd3209f8.js"><link rel="prefetch" href="/assets/js/40.7b101de0.js"><link rel="prefetch" href="/assets/js/41.24328cd3.js"><link rel="prefetch" href="/assets/js/42.d6f38887.js"><link rel="prefetch" href="/assets/js/43.ac158bd8.js"><link rel="prefetch" href="/assets/js/44.b5bd3608.js"><link rel="prefetch" href="/assets/js/45.e77d9e70.js"><link rel="prefetch" href="/assets/js/46.f94a51d4.js"><link rel="prefetch" href="/assets/js/47.da7bde79.js"><link rel="prefetch" href="/assets/js/48.0e0d5197.js"><link rel="prefetch" href="/assets/js/49.3489ec61.js"><link rel="prefetch" href="/assets/js/5.020fa441.js"><link rel="prefetch" href="/assets/js/50.1554b72f.js"><link rel="prefetch" href="/assets/js/51.b4c4b861.js"><link rel="prefetch" href="/assets/js/52.af633457.js"><link rel="prefetch" href="/assets/js/53.28863e5c.js"><link rel="prefetch" href="/assets/js/54.9aea4fbe.js"><link rel="prefetch" href="/assets/js/55.38d2a213.js"><link rel="prefetch" href="/assets/js/56.a27b3256.js"><link rel="prefetch" href="/assets/js/57.361ac458.js"><link rel="prefetch" href="/assets/js/58.e4a26ef7.js"><link rel="prefetch" href="/assets/js/59.05257860.js"><link rel="prefetch" href="/assets/js/6.c9a8bc8e.js"><link rel="prefetch" href="/assets/js/61.9b891674.js"><link rel="prefetch" href="/assets/js/62.1ee8e952.js"><link rel="prefetch" href="/assets/js/63.1daec703.js"><link rel="prefetch" href="/assets/js/64.9c90ddbd.js"><link rel="prefetch" href="/assets/js/65.1b84d085.js"><link rel="prefetch" href="/assets/js/66.cb21a958.js"><link rel="prefetch" href="/assets/js/67.efabaa6b.js"><link rel="prefetch" href="/assets/js/68.19cb5e02.js"><link rel="prefetch" href="/assets/js/69.e9c9d828.js"><link rel="prefetch" href="/assets/js/7.e7700faf.js"><link rel="prefetch" href="/assets/js/70.5bea1e15.js"><link rel="prefetch" href="/assets/js/71.f03111f5.js"><link rel="prefetch" href="/assets/js/72.5ce65e3a.js"><link rel="prefetch" href="/assets/js/73.8c39c276.js"><link rel="prefetch" href="/assets/js/74.48ea60a1.js"><link rel="prefetch" href="/assets/js/75.53910406.js"><link rel="prefetch" href="/assets/js/76.f5945432.js"><link rel="prefetch" href="/assets/js/77.1c4c2504.js"><link rel="prefetch" href="/assets/js/78.bfd2cdaa.js"><link rel="prefetch" href="/assets/js/79.f79279f8.js"><link rel="prefetch" href="/assets/js/8.8776466b.js"><link rel="prefetch" href="/assets/js/80.4a09494e.js"><link rel="prefetch" href="/assets/js/81.b487df66.js"><link rel="prefetch" href="/assets/js/82.e2240ff4.js"><link rel="prefetch" href="/assets/js/83.7f7b6b02.js"><link rel="prefetch" href="/assets/js/84.b632e4dc.js"><link rel="prefetch" href="/assets/js/85.58083699.js"><link rel="prefetch" href="/assets/js/86.93c62768.js"><link rel="prefetch" href="/assets/js/87.f478666a.js"><link rel="prefetch" href="/assets/js/88.7ce3bad8.js"><link rel="prefetch" href="/assets/js/89.2f450387.js"><link rel="prefetch" href="/assets/js/9.89748a59.js"><link rel="prefetch" href="/assets/js/90.3e9b2927.js"><link rel="prefetch" href="/assets/js/91.8dea6bec.js"><link rel="prefetch" href="/assets/js/92.096d05e5.js"><link rel="prefetch" href="/assets/js/93.5324e5df.js"><link rel="prefetch" href="/assets/js/94.54b2cc7f.js"><link rel="prefetch" href="/assets/js/95.d1e94a4f.js"><link rel="prefetch" href="/assets/js/96.524c78ac.js"><link rel="prefetch" href="/assets/js/97.202c075a.js"><link rel="prefetch" href="/assets/js/98.fcfc6ecb.js"><link rel="prefetch" href="/assets/js/99.b6547cdd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3623805a.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo2.png" alt="知识导图" class="logo"> <span class="site-name can-hide">知识导图</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/7004ee/" class="nav-link">iOS知识</a></div><div class="nav-item"><a href="/pages/603316/" class="nav-link">计算机软件</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友情链接" class="dropdown-title"><!----> <span class="title" style="display:;">友情链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.52im.net/index.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  即时通讯网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://zhuanlan.zhihu.com/p/409277420" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发常用网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/7004ee/" class="nav-link">iOS知识</a></div><div class="nav-item"><a href="/pages/603316/" class="nav-link">计算机软件</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友情链接" class="dropdown-title"><!----> <span class="title" style="display:;">友情链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.52im.net/index.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  即时通讯网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://zhuanlan.zhihu.com/p/409277420" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发常用网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>OC知识笔记(标清版)</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>iOS开发-上篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>iOS开发-中篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>iOS开发-下篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>iOS开发-三方库</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/0ba215/" class="sidebar-link">AFNetworking</a></li><li><a href="/pages/a8b31c/" class="sidebar-link">Aspects</a></li><li><a href="/pages/e52348/" class="sidebar-link">SDWebImage</a></li><li><a href="/pages/9d8ba7/" class="sidebar-link">RAC</a></li><li><a href="/pages/18026f/" aria-current="page" class="active sidebar-link">Realm</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>iOS开发-工具</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>OC知识笔记(高清版)</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>iOS开发</span></li><li data-v-06225672><span data-v-06225672>OC知识笔记(标清版)</span></li><li data-v-06225672><span data-v-06225672>iOS开发-三方库</span></li></ul> <div class="info" data-v-06225672><!----> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-05-14</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><!----> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">Realm<!----></h1> <!----> <div class="theme-vdoing-content content__default"><html><head><meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>iOS开发-中篇-2022</title> <style>
        body{
            margin: 0;
        }
        #content-info{
            width: auto;
            margin: 0 auto;
            text-align: center;
        }
        #author-info{
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
        }
        #title{
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
            padding-top: 10px;
            margin-bottom: 2px;
            font-size: 34px;
            color: #505050;
        }
        .text{
            white-space:nowrap;
            text-overflow: ellipsis;
            display: inline-block;
            margin-right: 20px;
            margin-bottom: 2px;
            font-size: 20px;
            color: #8c8c8c;
        }
        #navBar{
            width: auto;
            height: auto;
            position: fixed;
            right:0;
            bottom: 0;
            background-color: #f0f3f4;
            overflow-y: auto;
            text-align: center;
        }
        #svg-container{
            width: 100%;
            overflow-x: scroll;
            min-width: 0px;
            margin: 0 10px;
            overflow: visible;
            position: relative;
        }
        #nav-thumbs{
            overflow-y: scroll;
            padding: 0 5px;
        }
        .nav-thumb{
            position: relative;
            margin: 10px auto;
        }
        .nav-thumb &gt;p{
            text-align: center;
            font-size: 12px;
            margin: 4px 0 0 0;
        }
        .nav-thumb &gt;div{
            position: relative;
            display: inline-block;
            border: 1px solid #c6cfd5;
        }
        .nav-thumb img{
            display: block;
        }
        #main-content{
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #ffffff;
            display: flex;
            height: auto;
            flex-flow: row wrap;
            text-align:center;
        }
        #svg-container &gt;svg{
            overflow: visible;
            display: block;
            margin:5px auto;
            margin-bottom: 5px;
        }
        #copyright{
            bottom: 0;
            left: 50%;
            margin: 5px auto;
            font-size: 16px;
            color: #515151;
        }
        #copyright &gt;a{
            text-decoration: none;
            color: #77C;
        }
        .number{
            position: absolute;
            top:0;
            left:0;
            border-top:22px solid #08a1ef;
            border-right: 22px solid transparent;
        }
        .pagenum{
            font-size: 12px;
            color: #fff;
            position: absolute;
            top: -23px;
            left: 2px;
        }
            #navBar::-webkit-scrollbar{
            width: 8px;
            background-color: #f5f5f5;
        }
            #navBar::-webkit-scrollbar-track{
            -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,.3);
            border-radius: 8px;
            background-color: #fff;
        }
            #navBar::-webkit-scrollbar-thumb{
            border-radius: 8px;
            -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,.3);
            background-color: #6b6b70;
        }
        #navBar::-webkit-scrollbar-thumb:hover{
            background-color: #4a4a4f;
        }
</style></head> <body><div id="main-area"><div id="main-content"><div id="svg-container"><svg preserveAspectRadio="xMinYMin meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="page18" width="852" viewBox="0 0 852 15942" xmlns:ed="https://www.edrawsoft.cn/xml/2017/SVGExtensions/" height="16013" ed:name="Realm" ed:hSpacing="30" ed:vSpacing="30"><style type="text/css">&lt;![CDATA[
g[ed\:togtopicid],g[ed\:hyperlink],g[ed\:comment],g[ed\:note] {cursor:pointer;}
g[id] {-moz-user-select: none;-ms-user-select: none;user-select: none;}
svg text::selection,svg tspan::selection{background-color: #4285f4;color: #ffffff;fill: #ffffff;}
.st51 {fill:#141414;font-family:Open Sans;font-size:10.5pt}
.st49 {fill:#4caf50;font-family:Open Sans;font-size:27pt;font-weight:bold}
.st50 {fill:#ffffff;font-family:Open Sans;font-size:13.5pt}
]]&gt;</style> <defs></defs> <rect x="0" fill="#ffffff" width="852" y="0" height="16013"></rect> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,1288C531,1293.4,528.4,1296,523,1296L8,1296C2.6,1296,0,1293.4,0,1288L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,155.3,13191.5)" ed:type="boundary" ed:idlist="469" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="466" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="469"></path> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,593C531,598.4,528.4,601,523,601L8,601C2.6,601,0,598.4,0,593L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,252.79,8409)" ed:type="boundary" ed:idlist="341" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="334" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="341"></path> <path d="M8,0L347.6,0C353,0,355.6,2.6,355.6,8L355.6,203C355.6,208.4,353,211,347.6,211L8,211C2.6,211,0,208.4,0,203L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,252.79,9087.25)" ed:type="boundary" ed:idlist="352" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="345" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="352"></path> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,240C531,245.4,528.4,248,523,248L8,248C2.6,248,0,245.4,0,240L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,252.79,9341.75)" ed:type="boundary" ed:idlist="356" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="346" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="356"></path> <path d="M8,0L475.4,0C480.8,0,483.4,2.6,483.4,8L483.4,115C483.4,120.4,480.8,123,475.4,123L8,123C2.6,123,0,120.4,0,115L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,252.79,9633.25)" ed:type="boundary" ed:idlist="360" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="347" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="360"></path> <path d="M8,0L522.2,0C527.6,0,530.2,2.6,530.2,8L530.2,166C530.2,171.4,527.6,174,522.2,174L8,174C2.6,174,0,171.4,0,166L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,252.79,9893)" ed:type="boundary" ed:idlist="370" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="348" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="370"></path> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,342C531,347.4,528.4,350,523,350L8,350C2.6,350,0,347.4,0,342L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,252.79,10110.5)" ed:type="boundary" ed:idlist="374" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="349" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="374"></path> <path stroke-linecap="round" d="M-25.2,-26.5L-25.2,20.5C-25.2,23.8,-22.5,26.5,-19.2,26.5L25.2,26.5" transform="matrix(1,0,0,1,83.2,181.5)" fill="none" stroke-width="3" id="121" ed:tosuperid="120" stroke-linejoin="round" stroke="#4caf50" ed:parentid="119"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,152.85,238.88)" fill="none" stroke-width="3" id="123" ed:tosuperid="122" stroke-linejoin="round" stroke="#4caf50" ed:parentid="120"></path> <path stroke-linecap="round" d="M-9.4,-10.1L-9.4,4.1C-9.4,7.4,-6.8,10.1,-3.4,10.1L9.5,10.1" transform="matrix(1,0,0,1,206.75,271.88)" fill="none" stroke-width="3" id="125" ed:tosuperid="124" stroke-linejoin="round" stroke="#4caf50" ed:parentid="122"></path> <path stroke-linecap="round" d="M-9.5,-43.1L-9.5,37.1C-9.5,40.4,-6.8,43.1,-3.5,43.1L9.5,43.1" transform="matrix(1,0,0,1,152.85,271.13)" fill="none" stroke-width="3" id="127" ed:tosuperid="126" stroke-linejoin="round" stroke="#4caf50" ed:parentid="120"></path> <path stroke-linecap="round" d="M-9.4,-10.1L-9.4,4.1C-9.4,7.4,-6.8,10.1,-3.4,10.1L9.5,10.1" transform="matrix(1,0,0,1,196.25,336.38)" fill="none" stroke-width="3" id="129" ed:tosuperid="128" stroke-linejoin="round" stroke="#4caf50" ed:parentid="126"></path> <path stroke-linecap="round" d="M-9.4,-25.5L-9.4,19.5C-9.4,22.8,-6.8,25.5,-3.4,25.5L9.5,25.5" transform="matrix(1,0,0,1,196.25,351.75)" fill="none" stroke-width="3" id="131" ed:tosuperid="130" stroke-linejoin="round" stroke="#4caf50" ed:parentid="126"></path> <path stroke-linecap="round" d="M-9.5,-90.8L-9.5,84.8C-9.5,88.1,-6.8,90.8,-3.5,90.8L9.5,90.8" transform="matrix(1,0,0,1,152.85,318.75)" fill="none" stroke-width="3" id="133" ed:tosuperid="132" stroke-linejoin="round" stroke="#4caf50" ed:parentid="120"></path> <path stroke-linecap="round" d="M-9.4,-10.1L-9.4,4.1C-9.4,7.4,-6.8,10.1,-3.4,10.1L9.5,10.1" transform="matrix(1,0,0,1,206.75,431.63)" fill="none" stroke-width="3" id="135" ed:tosuperid="134" stroke-linejoin="round" stroke="#4caf50" ed:parentid="132"></path> <path stroke-linecap="round" d="M-9.5,-123L-9.5,117C-9.5,120.3,-6.8,123,-3.5,123L9.5,123" transform="matrix(1,0,0,1,152.85,351)" fill="none" stroke-width="3" id="137" ed:tosuperid="136" stroke-linejoin="round" stroke="#4caf50" ed:parentid="120"></path> <path stroke-linecap="round" d="M-9.4,-10.1L-9.4,4.1C-9.4,7.4,-6.8,10.1,-3.4,10.1L9.5,10.1" transform="matrix(1,0,0,1,206.75,496.13)" fill="none" stroke-width="3" id="139" ed:tosuperid="138" stroke-linejoin="round" stroke="#4caf50" ed:parentid="136"></path> <path stroke-linecap="round" d="M-25.2,-207.4L-25.2,201.4C-25.2,204.7,-22.5,207.4,-19.2,207.4L25.2,207.4" transform="matrix(1,0,0,1,83.2,362.38)" fill="none" stroke-width="3" id="141" ed:tosuperid="140" stroke-linejoin="round" stroke="#4caf50" ed:parentid="119"></path> <path stroke-linecap="round" d="M-25.2,-242.9L-25.2,236.9C-25.2,240.2,-22.5,242.9,-19.2,242.9L25.2,242.9" transform="matrix(1,0,0,1,83.2,397.88)" fill="none" stroke-width="3" id="143" ed:tosuperid="142" stroke-linejoin="round" stroke="#4caf50" ed:parentid="119"></path> <path stroke-linecap="round" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.5,15.9" transform="matrix(1,0,0,1,142.54,674.63)" fill="none" stroke-width="3" id="145" ed:tosuperid="144" stroke-linejoin="round" stroke="#4caf50" ed:parentid="142"></path> <path stroke-linecap="round" d="M-9.5,-37.8L-9.5,31.8C-9.5,35.1,-6.8,37.8,-3.5,37.8L9.5,37.8" transform="matrix(1,0,0,1,142.54,696.5)" fill="none" stroke-width="3" id="147" ed:tosuperid="146" stroke-linejoin="round" stroke="#4caf50" ed:parentid="142"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,185.94,757.13)" fill="none" stroke-width="3" id="149" ed:tosuperid="148" stroke-linejoin="round" stroke="#4caf50" ed:parentid="146"></path> <path stroke-linecap="round" d="M-9.4,-27.8L-9.4,21.8C-9.4,25.1,-6.8,27.8,-3.4,27.8L9.5,27.8" transform="matrix(1,0,0,1,185.94,774)" fill="none" stroke-width="3" id="151" ed:tosuperid="150" stroke-linejoin="round" stroke="#4caf50" ed:parentid="146"></path> <path stroke-linecap="round" d="M-9.4,-44.6L-9.4,38.6C-9.4,41.9,-6.8,44.6,-3.4,44.6L9.5,44.6" transform="matrix(1,0,0,1,185.94,790.88)" fill="none" stroke-width="3" id="153" ed:tosuperid="152" stroke-linejoin="round" stroke="#4caf50" ed:parentid="146"></path> <path stroke-linecap="round" d="M-9.5,-8.9L-9.5,2.9C-9.5,6.2,-6.8,8.9,-3.5,8.9L9.5,8.9" transform="matrix(1,0,0,1,239.84,856.38)" fill="none" stroke-width="3" id="155" ed:tosuperid="154" stroke-linejoin="round" stroke="#4caf50" ed:parentid="152"></path> <path stroke-linecap="round" d="M-9.5,-118.1L-9.5,112.1C-9.5,115.4,-6.8,118.1,-3.5,118.1L9.5,118.1" transform="matrix(1,0,0,1,142.54,776.88)" fill="none" stroke-width="3" id="157" ed:tosuperid="156" stroke-linejoin="round" stroke="#4caf50" ed:parentid="142"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,185.94,917.88)" fill="none" stroke-width="3" id="159" ed:tosuperid="158" stroke-linejoin="round" stroke="#4caf50" ed:parentid="156"></path> <path stroke-linecap="round" d="M-9.5,-10.1L-9.5,4.1C-9.5,7.4,-6.8,10.1,-3.5,10.1L9.5,10.1" transform="matrix(1,0,0,1,239.84,950.88)" fill="none" stroke-width="3" id="161" ed:tosuperid="160" stroke-linejoin="round" stroke="#4caf50" ed:parentid="158"></path> <path stroke-linecap="round" d="M-9.4,-43.1L-9.4,37.1C-9.4,40.4,-6.8,43.1,-3.4,43.1L9.5,43.1" transform="matrix(1,0,0,1,185.94,950.13)" fill="none" stroke-width="3" id="163" ed:tosuperid="162" stroke-linejoin="round" stroke="#4caf50" ed:parentid="156"></path> <path stroke-linecap="round" d="M-9.5,-10.1L-9.5,4.1C-9.5,7.4,-6.8,10.1,-3.5,10.1L9.5,10.1" transform="matrix(1,0,0,1,239.84,1015.38)" fill="none" stroke-width="3" id="165" ed:tosuperid="164" stroke-linejoin="round" stroke="#4caf50" ed:parentid="162"></path> <path stroke-linecap="round" d="M-9.4,-80.4L-9.4,74.4C-9.4,77.7,-6.8,80.4,-3.4,80.4L9.5,80.4" transform="matrix(1,0,0,1,185.94,987.38)" fill="none" stroke-width="3" id="167" ed:tosuperid="166" stroke-linejoin="round" stroke="#4caf50" ed:parentid="156"></path> <path stroke-linecap="round" d="M-9.5,-226.4L-9.5,220.4C-9.5,223.7,-6.8,226.4,-3.5,226.4L9.5,226.4" transform="matrix(1,0,0,1,142.54,885.13)" fill="none" stroke-width="3" id="169" ed:tosuperid="168" stroke-linejoin="round" stroke="#4caf50" ed:parentid="142"></path> <path stroke-linecap="round" d="M-9.4,-10.1L-9.4,4.1C-9.4,7.4,-6.8,10.1,-3.4,10.1L9.5,10.1" transform="matrix(1,0,0,1,185.94,1133.63)" fill="none" stroke-width="3" id="171" ed:tosuperid="170" stroke-linejoin="round" stroke="#4caf50" ed:parentid="168"></path> <path stroke-linecap="round" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.4,15.9" transform="matrix(1,0,0,1,239.84,1170.13)" fill="none" stroke-width="3" id="173" ed:tosuperid="172" stroke-linejoin="round" stroke="#4caf50" ed:parentid="170"></path> <path stroke-linecap="round" d="M-9.4,-52.4L-9.4,46.4C-9.4,49.7,-6.8,52.4,-3.4,52.4L9.5,52.4" transform="matrix(1,0,0,1,185.94,1175.88)" fill="none" stroke-width="3" id="175" ed:tosuperid="174" stroke-linejoin="round" stroke="#4caf50" ed:parentid="168"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,239.84,1249.63)" fill="none" stroke-width="3" id="177" ed:tosuperid="176" stroke-linejoin="round" stroke="#4caf50" ed:parentid="174"></path> <path stroke-linecap="round" d="M-9.4,-84.6L-9.4,78.6C-9.4,81.9,-6.8,84.6,-3.4,84.6L9.5,84.6" transform="matrix(1,0,0,1,185.94,1208.13)" fill="none" stroke-width="3" id="179" ed:tosuperid="178" stroke-linejoin="round" stroke="#4caf50" ed:parentid="168"></path> <path stroke-linecap="round" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.4,15.9" transform="matrix(1,0,0,1,239.84,1319.13)" fill="none" stroke-width="3" id="181" ed:tosuperid="180" stroke-linejoin="round" stroke="#4caf50" ed:parentid="178"></path> <path stroke-linecap="round" d="M-9.4,-127.6L-9.4,121.6C-9.4,124.9,-6.8,127.6,-3.4,127.6L9.5,127.6" transform="matrix(1,0,0,1,185.94,1251.13)" fill="none" stroke-width="3" id="183" ed:tosuperid="182" stroke-linejoin="round" stroke="#4caf50" ed:parentid="168"></path> <path stroke-linecap="round" d="M-9.5,-8.9L-9.5,2.9C-9.5,6.2,-6.8,8.9,-3.5,8.9L9.5,8.9" transform="matrix(1,0,0,1,229.34,1399.63)" fill="none" stroke-width="3" id="185" ed:tosuperid="184" stroke-linejoin="round" stroke="#4caf50" ed:parentid="182"></path> <path stroke-linecap="round" d="M-9.5,-21.8L-9.5,15.8C-9.5,19.1,-6.8,21.8,-3.5,21.8L9.5,21.8" transform="matrix(1,0,0,1,229.34,1412.5)" fill="none" stroke-width="3" id="187" ed:tosuperid="186" stroke-linejoin="round" stroke="#4caf50" ed:parentid="182"></path> <path stroke-linecap="round" d="M-9.4,-168.3L-9.4,162.3C-9.4,165.6,-6.8,168.3,-3.4,168.3L9.5,168.3" transform="matrix(1,0,0,1,185.94,1291.75)" fill="none" stroke-width="3" id="189" ed:tosuperid="188" stroke-linejoin="round" stroke="#4caf50" ed:parentid="168"></path> <path stroke-linecap="round" d="M-9.5,-415.5L-9.5,409.5C-9.5,412.8,-6.8,415.5,-3.5,415.5L9.5,415.5" transform="matrix(1,0,0,1,142.54,1074.25)" fill="none" stroke-width="3" id="191" ed:tosuperid="190" stroke-linejoin="round" stroke="#4caf50" ed:parentid="142"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,196.44,1512.63)" fill="none" stroke-width="3" id="193" ed:tosuperid="192" stroke-linejoin="round" stroke="#4caf50" ed:parentid="190"></path> <path stroke-linecap="round" d="M-9.5,-118.9L-9.5,112.9C-9.5,116.2,-6.8,118.9,-3.5,118.9L9.4,118.9" transform="matrix(1,0,0,1,246.84,1654.38)" fill="none" stroke-width="3" id="195" ed:tosuperid="194" stroke-linejoin="round" stroke="#4caf50" ed:parentid="192"></path> <path stroke-linecap="round" d="M-9.4,-260.6L-9.4,254.6C-9.4,257.9,-6.8,260.6,-3.4,260.6L9.5,260.6" transform="matrix(1,0,0,1,196.44,1762.38)" fill="none" stroke-width="3" id="197" ed:tosuperid="196" stroke-linejoin="round" stroke="#4caf50" ed:parentid="190"></path> <path stroke-linecap="round" d="M-9.5,-20.9L-9.5,14.9C-9.5,18.2,-6.8,20.9,-3.5,20.9L9.4,20.9" transform="matrix(1,0,0,1,250.34,2055.88)" fill="none" stroke-width="3" id="199" ed:tosuperid="198" stroke-linejoin="round" stroke="#4caf50" ed:parentid="196"></path> <path stroke-linecap="round" d="M-9.5,-60L-9.5,54C-9.5,57.3,-6.8,60,-3.5,60L9.4,60" transform="matrix(1,0,0,1,250.34,2095)" fill="none" stroke-width="3" id="201" ed:tosuperid="200" stroke-linejoin="round" stroke="#4caf50" ed:parentid="196"></path> <path stroke-linecap="round" d="M-9.5,-99.1L-9.5,93.1C-9.5,96.4,-6.8,99.1,-3.5,99.1L9.4,99.1" transform="matrix(1,0,0,1,250.34,2134.13)" fill="none" stroke-width="3" id="203" ed:tosuperid="202" stroke-linejoin="round" stroke="#4caf50" ed:parentid="196"></path> <path stroke-linecap="round" d="M-9.5,-136L-9.5,130C-9.5,133.3,-6.8,136,-3.5,136L9.4,136" transform="matrix(1,0,0,1,250.34,2171)" fill="none" stroke-width="3" id="205" ed:tosuperid="204" stroke-linejoin="round" stroke="#4caf50" ed:parentid="196"></path> <path stroke-linecap="round" d="M-9.4,-427.5L-9.4,421.5C-9.4,424.8,-6.8,427.5,-3.4,427.5L9.5,427.5" transform="matrix(1,0,0,1,196.44,1929.25)" fill="none" stroke-width="3" id="207" ed:tosuperid="206" stroke-linejoin="round" stroke="#4caf50" ed:parentid="190"></path> <path stroke-linecap="round" d="M-9.5,-863.9L-9.5,857.9C-9.5,861.2,-6.8,863.9,-3.5,863.9L9.5,863.9" transform="matrix(1,0,0,1,142.54,1522.63)" fill="none" stroke-width="3" id="209" ed:tosuperid="208" stroke-linejoin="round" stroke="#4caf50" ed:parentid="142"></path> <path stroke-linecap="round" d="M-9.4,-10.1L-9.4,4.1C-9.4,7.4,-6.8,10.1,-3.4,10.1L9.5,10.1" transform="matrix(1,0,0,1,194.78,2408.63)" fill="none" stroke-width="3" id="211" ed:tosuperid="210" stroke-linejoin="round" stroke="#4caf50" ed:parentid="208"></path> <path stroke-linecap="round" d="M-9.5,-114.1L-9.5,108.1C-9.5,111.4,-6.8,114.1,-3.5,114.1L9.5,114.1" transform="matrix(1,0,0,1,248.68,2543.38)" fill="none" stroke-width="3" id="213" ed:tosuperid="212" stroke-linejoin="round" stroke="#4caf50" ed:parentid="210"></path> <path stroke-linecap="round" d="M-9.4,-249.6L-9.4,243.6C-9.4,246.9,-6.8,249.6,-3.4,249.6L9.5,249.6" transform="matrix(1,0,0,1,194.78,2648.13)" fill="none" stroke-width="3" id="215" ed:tosuperid="214" stroke-linejoin="round" stroke="#4caf50" ed:parentid="208"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,248.68,2920.63)" fill="none" stroke-width="3" id="217" ed:tosuperid="216" stroke-linejoin="round" stroke="#4caf50" ed:parentid="214"></path> <path stroke-linecap="round" d="M-9.5,-10.1L-9.5,4.1C-9.5,7.4,-6.8,10.1,-3.5,10.1L9.4,10.1" transform="matrix(1,0,0,1,299.08,2953.63)" fill="none" stroke-width="3" id="219" ed:tosuperid="218" stroke-linejoin="round" stroke="#4caf50" ed:parentid="216"></path> <path stroke-linecap="round" d="M-9.5,-43.1L-9.5,37.1C-9.5,40.4,-6.8,43.1,-3.5,43.1L9.5,43.1" transform="matrix(1,0,0,1,248.68,2952.88)" fill="none" stroke-width="3" id="221" ed:tosuperid="220" stroke-linejoin="round" stroke="#4caf50" ed:parentid="214"></path> <path stroke-linecap="round" d="M-9.5,-10.1L-9.5,4.1C-9.5,7.4,-6.8,10.1,-3.5,10.1L9.4,10.1" transform="matrix(1,0,0,1,299.08,3018.13)" fill="none" stroke-width="3" id="223" ed:tosuperid="222" stroke-linejoin="round" stroke="#4caf50" ed:parentid="220"></path> <path stroke-linecap="round" d="M-9.5,-75.4L-9.5,69.4C-9.5,72.7,-6.8,75.4,-3.5,75.4L9.5,75.4" transform="matrix(1,0,0,1,248.68,2985.13)" fill="none" stroke-width="3" id="225" ed:tosuperid="224" stroke-linejoin="round" stroke="#4caf50" ed:parentid="214"></path> <path stroke-linecap="round" d="M-9.5,-62.1L-9.5,56.1C-9.5,59.4,-6.8,62.1,-3.5,62.1L9.4,62.1" transform="matrix(1,0,0,1,302.58,3134.63)" fill="none" stroke-width="3" id="227" ed:tosuperid="226" stroke-linejoin="round" stroke="#4caf50" ed:parentid="224"></path> <path stroke-linecap="round" d="M-9.4,-477.3L-9.4,471.3C-9.4,474.6,-6.8,477.3,-3.4,477.3L9.5,477.3" transform="matrix(1,0,0,1,194.78,2875.75)" fill="none" stroke-width="3" id="229" ed:tosuperid="228" stroke-linejoin="round" stroke="#4caf50" ed:parentid="208"></path> <path stroke-linecap="round" d="M-9.4,-623.6L-9.4,617.6C-9.4,620.9,-6.8,623.6,-3.4,623.6L9.5,623.6" transform="matrix(1,0,0,1,194.78,3022.13)" fill="none" stroke-width="3" id="231" ed:tosuperid="230" stroke-linejoin="round" stroke="#4caf50" ed:parentid="208"></path> <path stroke-linecap="round" d="M-9.5,-1629.9L-9.5,1623.9C-9.5,1627.2,-6.8,1629.9,-3.5,1629.9L9.5,1629.9" transform="matrix(1,0,0,1,142.54,2288.63)" fill="none" stroke-width="3" id="233" ed:tosuperid="232" stroke-linejoin="round" stroke="#4caf50" ed:parentid="142"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,196.44,3941.38)" fill="none" stroke-width="3" id="235" ed:tosuperid="234" stroke-linejoin="round" stroke="#4caf50" ed:parentid="232"></path> <path stroke-linecap="round" d="M-9.5,-50.9L-9.5,44.9C-9.5,48.2,-6.8,50.9,-3.5,50.9L9.4,50.9" transform="matrix(1,0,0,1,250.34,4015.13)" fill="none" stroke-width="3" id="237" ed:tosuperid="236" stroke-linejoin="round" stroke="#4caf50" ed:parentid="234"></path> <path stroke-linecap="round" d="M-9.5,-107.8L-9.5,101.8C-9.5,105.1,-6.8,107.8,-3.5,107.8L9.5,107.8" transform="matrix(1,0,0,1,250.34,4072)" fill="none" stroke-width="3" id="239" ed:tosuperid="238" stroke-linejoin="round" stroke="#4caf50" ed:parentid="234"></path> <path stroke-linecap="round" d="M-9.4,-141.5L-9.4,135.5C-9.4,138.8,-6.8,141.5,-3.4,141.5L9.5,141.5" transform="matrix(1,0,0,1,196.44,4072)" fill="none" stroke-width="3" id="241" ed:tosuperid="240" stroke-linejoin="round" stroke="#4caf50" ed:parentid="232"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,232.84,4236.38)" fill="none" stroke-width="3" id="243" ed:tosuperid="242" stroke-linejoin="round" stroke="#4caf50" ed:parentid="240"></path> <path stroke-linecap="round" d="M-9.5,-52.8L-9.5,46.8C-9.5,50.1,-6.8,52.8,-3.5,52.8L9.4,52.8" transform="matrix(1,0,0,1,232.84,4278.25)" fill="none" stroke-width="3" id="245" ed:tosuperid="244" stroke-linejoin="round" stroke="#4caf50" ed:parentid="240"></path> <path stroke-linecap="round" d="M-9.5,-94.6L-9.5,88.6C-9.5,91.9,-6.8,94.6,-3.5,94.6L9.5,94.6" transform="matrix(1,0,0,1,232.84,4320.13)" fill="none" stroke-width="3" id="247" ed:tosuperid="246" stroke-linejoin="round" stroke="#4caf50" ed:parentid="240"></path> <path stroke-linecap="round" d="M-9.5,-119.3L-9.5,113.3C-9.5,116.6,-6.8,119.3,-3.5,119.3L9.5,119.3" transform="matrix(1,0,0,1,232.84,4344.75)" fill="none" stroke-width="3" id="249" ed:tosuperid="248" stroke-linejoin="round" stroke="#4caf50" ed:parentid="240"></path> <path stroke-linecap="round" d="M-9.4,-291.4L-9.4,285.4C-9.4,288.7,-6.8,291.4,-3.4,291.4L9.5,291.4" transform="matrix(1,0,0,1,196.44,4221.88)" fill="none" stroke-width="3" id="251" ed:tosuperid="250" stroke-linejoin="round" stroke="#4caf50" ed:parentid="232"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,232.84,4536.13)" fill="none" stroke-width="3" id="253" ed:tosuperid="252" stroke-linejoin="round" stroke="#4caf50" ed:parentid="250"></path> <path stroke-linecap="round" d="M-9.5,-63.5L-9.5,57.5C-9.5,60.8,-6.8,63.5,-3.5,63.5L9.5,63.5" transform="matrix(1,0,0,1,232.84,4588.75)" fill="none" stroke-width="3" id="255" ed:tosuperid="254" stroke-linejoin="round" stroke="#4caf50" ed:parentid="250"></path> <path stroke-linecap="round" d="M-9.4,-413.5L-9.4,407.5C-9.4,410.8,-6.8,413.5,-3.4,413.5L9.5,413.5" transform="matrix(1,0,0,1,196.44,4344)" fill="none" stroke-width="3" id="257" ed:tosuperid="256" stroke-linejoin="round" stroke="#4caf50" ed:parentid="232"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,232.84,4780.38)" fill="none" stroke-width="3" id="259" ed:tosuperid="258" stroke-linejoin="round" stroke="#4caf50" ed:parentid="256"></path> <path stroke-linecap="round" d="M-9.5,-14.4L-9.5,8.4C-9.5,11.7,-6.8,14.4,-3.5,14.4L9.4,14.4" transform="matrix(1,0,0,1,286.74,4817.63)" fill="none" stroke-width="3" id="261" ed:tosuperid="260" stroke-linejoin="round" stroke="#4caf50" ed:parentid="258"></path> <path stroke-linecap="round" d="M-9.5,-39.8L-9.5,33.8C-9.5,37.1,-6.8,39.8,-3.5,39.8L9.4,39.8" transform="matrix(1,0,0,1,286.74,4843)" fill="none" stroke-width="3" id="263" ed:tosuperid="262" stroke-linejoin="round" stroke="#4caf50" ed:parentid="258"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,340.64,4915.63)" fill="none" stroke-width="3" id="265" ed:tosuperid="264" stroke-linejoin="round" stroke="#4caf50" ed:parentid="262"></path> <path stroke-linecap="round" d="M-9.5,-95.4L-9.5,89.4C-9.5,92.7,-6.8,95.4,-3.5,95.4L9.5,95.4" transform="matrix(1,0,0,1,232.84,4864.88)" fill="none" stroke-width="3" id="267" ed:tosuperid="266" stroke-linejoin="round" stroke="#4caf50" ed:parentid="256"></path> <path stroke-linecap="round" d="M-9.5,-10.1L-9.5,4.1C-9.5,7.4,-6.8,10.1,-3.5,10.1L9.4,10.1" transform="matrix(1,0,0,1,286.74,4982.38)" fill="none" stroke-width="3" id="269" ed:tosuperid="268" stroke-linejoin="round" stroke="#4caf50" ed:parentid="266"></path> <path stroke-linecap="round" d="M-9.5,-31.3L-9.5,25.3C-9.5,28.6,-6.8,31.3,-3.5,31.3L9.4,31.3" transform="matrix(1,0,0,1,286.74,5003.5)" fill="none" stroke-width="3" id="271" ed:tosuperid="270" stroke-linejoin="round" stroke="#4caf50" ed:parentid="266"></path> <path stroke-linecap="round" d="M-9.4,-574L-9.4,568C-9.4,571.3,-6.8,574,-3.4,574L9.5,574" transform="matrix(1,0,0,1,196.44,4504.5)" fill="none" stroke-width="3" id="273" ed:tosuperid="272" stroke-linejoin="round" stroke="#4caf50" ed:parentid="232"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,232.84,5101.38)" fill="none" stroke-width="3" id="275" ed:tosuperid="274" stroke-linejoin="round" stroke="#4caf50" ed:parentid="272"></path> <path stroke-linecap="round" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.4,15.9" transform="matrix(1,0,0,1,276.24,5140.13)" fill="none" stroke-width="3" id="277" ed:tosuperid="276" stroke-linejoin="round" stroke="#4caf50" ed:parentid="274"></path> <path stroke-linecap="round" d="M-9.5,-59.6L-9.5,53.6C-9.5,56.9,-6.8,59.6,-3.5,59.6L9.4,59.6" transform="matrix(1,0,0,1,232.84,5150.13)" fill="none" stroke-width="3" id="279" ed:tosuperid="278" stroke-linejoin="round" stroke="#4caf50" ed:parentid="272"></path> <path stroke-linecap="round" d="M-9.5,-86.5L-9.5,80.5C-9.5,83.8,-6.8,86.5,-3.5,86.5L9.4,86.5" transform="matrix(1,0,0,1,232.84,5177)" fill="none" stroke-width="3" id="281" ed:tosuperid="280" stroke-linejoin="round" stroke="#4caf50" ed:parentid="272"></path> <path stroke-linecap="round" d="M-9.5,-108.4L-9.5,102.4C-9.5,105.7,-6.8,108.4,-3.5,108.4L9.5,108.4" transform="matrix(1,0,0,1,232.84,5198.88)" fill="none" stroke-width="3" id="283" ed:tosuperid="282" stroke-linejoin="round" stroke="#4caf50" ed:parentid="272"></path> <path stroke-linecap="round" d="M-9.5,-125.3L-9.5,119.3C-9.5,122.6,-6.8,125.3,-3.5,125.3L9.5,125.3" transform="matrix(1,0,0,1,232.84,5215.75)" fill="none" stroke-width="3" id="285" ed:tosuperid="284" stroke-linejoin="round" stroke="#4caf50" ed:parentid="272"></path> <path stroke-linecap="round" d="M-9.5,-222.9L-9.5,216.9C-9.5,220.2,-6.8,222.9,-3.5,222.9L9.4,222.9" transform="matrix(1,0,0,1,232.84,5313.38)" fill="none" stroke-width="3" id="287" ed:tosuperid="286" stroke-linejoin="round" stroke="#4caf50" ed:parentid="272"></path> <path stroke-linecap="round" d="M-9.5,-320.5L-9.5,314.5C-9.5,317.8,-6.8,320.5,-3.5,320.5L9.5,320.5" transform="matrix(1,0,0,1,232.84,5411)" fill="none" stroke-width="3" id="289" ed:tosuperid="288" stroke-linejoin="round" stroke="#4caf50" ed:parentid="272"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.4,10.9" transform="matrix(1,0,0,1,286.74,5754.38)" fill="none" stroke-width="3" id="291" ed:tosuperid="290" stroke-linejoin="round" stroke="#4caf50" ed:parentid="288"></path> <path stroke-linecap="round" d="M-9.5,-35.8L-9.5,29.8C-9.5,33.1,-6.8,35.8,-3.5,35.8L9.4,35.8" transform="matrix(1,0,0,1,286.74,5779.25)" fill="none" stroke-width="3" id="293" ed:tosuperid="292" stroke-linejoin="round" stroke="#4caf50" ed:parentid="288"></path> <path stroke-linecap="round" d="M-9.4,-967.1L-9.4,961.1C-9.4,964.4,-6.8,967.1,-3.4,967.1L9.5,967.1" transform="matrix(1,0,0,1,196.44,4897.63)" fill="none" stroke-width="3" id="295" ed:tosuperid="294" stroke-linejoin="round" stroke="#4caf50" ed:parentid="232"></path> <path stroke-linecap="round" d="M-9.5,-20.9L-9.5,14.9C-9.5,18.2,-6.8,20.9,-3.5,20.9L9.4,20.9" transform="matrix(1,0,0,1,250.34,5897.63)" fill="none" stroke-width="3" id="297" ed:tosuperid="296" stroke-linejoin="round" stroke="#4caf50" ed:parentid="294"></path> <path stroke-linecap="round" d="M-9.5,-79.3L-9.5,73.3C-9.5,76.6,-6.8,79.3,-3.5,79.3L9.4,79.3" transform="matrix(1,0,0,1,250.34,5956)" fill="none" stroke-width="3" id="299" ed:tosuperid="298" stroke-linejoin="round" stroke="#4caf50" ed:parentid="294"></path> <path stroke-linecap="round" d="M-9.5,-137.6L-9.5,131.6C-9.5,134.9,-6.8,137.6,-3.5,137.6L9.4,137.6" transform="matrix(1,0,0,1,250.34,6014.38)" fill="none" stroke-width="3" id="301" ed:tosuperid="300" stroke-linejoin="round" stroke="#4caf50" ed:parentid="294"></path> <path stroke-linecap="round" d="M-9.4,-1137.6L-9.4,1131.6C-9.4,1134.9,-6.8,1137.6,-3.4,1137.6L9.5,1137.6" transform="matrix(1,0,0,1,196.44,5068.13)" fill="none" stroke-width="3" id="303" ed:tosuperid="302" stroke-linejoin="round" stroke="#4caf50" ed:parentid="232"></path> <path stroke-linecap="round" d="M-9.5,-25.9L-9.5,19.9C-9.5,23.2,-6.8,25.9,-3.5,25.9L9.4,25.9" transform="matrix(1,0,0,1,250.34,6243.63)" fill="none" stroke-width="3" id="305" ed:tosuperid="304" stroke-linejoin="round" stroke="#4caf50" ed:parentid="302"></path> <path stroke-linecap="round" d="M-9.5,-57.8L-9.5,51.8C-9.5,55.1,-6.8,57.8,-3.5,57.8L9.5,57.8" transform="matrix(1,0,0,1,250.34,6275.5)" fill="none" stroke-width="3" id="307" ed:tosuperid="306" stroke-linejoin="round" stroke="#4caf50" ed:parentid="302"></path> <path stroke-linecap="round" d="M-9.5,-140.9L-9.5,134.9C-9.5,138.2,-6.8,140.9,-3.5,140.9L9.4,140.9" transform="matrix(1,0,0,1,250.34,6358.63)" fill="none" stroke-width="3" id="309" ed:tosuperid="308" stroke-linejoin="round" stroke="#4caf50" ed:parentid="302"></path> <path stroke-linecap="round" d="M-9.4,-1367.6L-9.4,1361.6C-9.4,1364.9,-6.8,1367.6,-3.4,1367.6L9.5,1367.6" transform="matrix(1,0,0,1,196.44,5298.13)" fill="none" stroke-width="3" id="311" ed:tosuperid="310" stroke-linejoin="round" stroke="#4caf50" ed:parentid="232"></path> <path stroke-linecap="round" d="M-9.5,-50.1L-9.5,44.1C-9.5,47.4,-6.8,50.1,-3.5,50.1L9.4,50.1" transform="matrix(1,0,0,1,239.84,6727.88)" fill="none" stroke-width="3" id="313" ed:tosuperid="312" stroke-linejoin="round" stroke="#4caf50" ed:parentid="310"></path> <path stroke-linecap="round" d="M-9.5,-111.3L-9.5,105.3C-9.5,108.6,-6.8,111.3,-3.5,111.3L9.4,111.3" transform="matrix(1,0,0,1,239.84,6789)" fill="none" stroke-width="3" id="315" ed:tosuperid="314" stroke-linejoin="round" stroke="#4caf50" ed:parentid="310"></path> <path stroke-linecap="round" d="M-9.5,-283.6L-9.5,277.6C-9.5,280.9,-6.8,283.6,-3.5,283.6L9.4,283.6" transform="matrix(1,0,0,1,239.84,6961.38)" fill="none" stroke-width="3" id="317" ed:tosuperid="316" stroke-linejoin="round" stroke="#4caf50" ed:parentid="310"></path> <path stroke-linecap="round" d="M-9.5,-451L-9.5,445C-9.5,448.3,-6.8,451,-3.5,451L9.5,451" transform="matrix(1,0,0,1,239.84,7128.75)" fill="none" stroke-width="3" id="319" ed:tosuperid="318" stroke-linejoin="round" stroke="#4caf50" ed:parentid="310"></path> <path stroke-linecap="round" d="M-9.5,-45.1L-9.5,39.1C-9.5,42.4,-6.8,45.1,-3.5,45.1L9.4,45.1" transform="matrix(1,0,0,1,293.74,7636.88)" fill="none" stroke-width="3" id="321" ed:tosuperid="320" stroke-linejoin="round" stroke="#4caf50" ed:parentid="318"></path> <path stroke-linecap="round" d="M-9.5,-155.3L-9.5,149.3C-9.5,152.6,-6.8,155.3,-3.5,155.3L9.4,155.3" transform="matrix(1,0,0,1,293.74,7747)" fill="none" stroke-width="3" id="323" ed:tosuperid="322" stroke-linejoin="round" stroke="#4caf50" ed:parentid="318"></path> <path stroke-linecap="round" d="M-9.5,-687.4L-9.5,681.4C-9.5,684.7,-6.8,687.4,-3.5,687.4L9.5,687.4" transform="matrix(1,0,0,1,239.84,7365.13)" fill="none" stroke-width="3" id="325" ed:tosuperid="324" stroke-linejoin="round" stroke="#4caf50" ed:parentid="310"></path> <path stroke-linecap="round" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.4,15.9" transform="matrix(1,0,0,1,273.66,8078.88)" fill="none" stroke-width="3" id="327" ed:tosuperid="326" stroke-linejoin="round" stroke="#4caf50" ed:parentid="324"></path> <path stroke-linecap="round" d="M-9.5,-42.8L-9.5,36.8C-9.5,40.1,-6.8,42.8,-3.5,42.8L9.4,42.8" transform="matrix(1,0,0,1,273.66,8105.75)" fill="none" stroke-width="3" id="329" ed:tosuperid="328" stroke-linejoin="round" stroke="#4caf50" ed:parentid="324"></path> <path stroke-linecap="round" d="M-9.5,-74.6L-9.5,68.6C-9.5,71.9,-6.8,74.6,-3.5,74.6L9.4,74.6" transform="matrix(1,0,0,1,273.66,8137.63)" fill="none" stroke-width="3" id="331" ed:tosuperid="330" stroke-linejoin="round" stroke="#4caf50" ed:parentid="324"></path> <path stroke-linecap="round" d="M-9.4,-2167.8L-9.4,2161.8C-9.4,2165.1,-6.8,2167.8,-3.4,2167.8L9.5,2167.8" transform="matrix(1,0,0,1,196.44,6098.25)" fill="none" stroke-width="3" id="333" ed:tosuperid="332" stroke-linejoin="round" stroke="#4caf50" ed:parentid="232"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,250.34,8288.88)" fill="none" stroke-width="3" id="336" ed:tosuperid="335" stroke-linejoin="round" stroke="#4caf50" ed:parentid="332"></path> <path stroke-linecap="round" d="M-9.5,-32.8L-9.5,26.8C-9.5,30.1,-6.8,32.8,-3.5,32.8L9.4,32.8" transform="matrix(1,0,0,1,250.34,8310.75)" fill="none" stroke-width="3" id="338" ed:tosuperid="337" stroke-linejoin="round" stroke="#4caf50" ed:parentid="332"></path> <path stroke-linecap="round" d="M-9.5,-54.6L-9.5,48.6C-9.5,51.9,-6.8,54.6,-3.5,54.6L9.5,54.6" transform="matrix(1,0,0,1,250.34,8332.63)" fill="none" stroke-width="3" id="340" ed:tosuperid="339" stroke-linejoin="round" stroke="#4caf50" ed:parentid="332"></path> <path stroke-linecap="round" d="M-9.5,-215.8L-9.5,209.8C-9.5,213.1,-6.8,215.8,-3.5,215.8L9.4,215.8" transform="matrix(1,0,0,1,250.34,8493.75)" fill="none" stroke-width="3" id="342" ed:tosuperid="341" stroke-linejoin="round" stroke="#4caf50" ed:parentid="332"></path> <path stroke-linecap="round" d="M-9.4,-2550.6L-9.4,2544.6C-9.4,2547.9,-6.8,2550.6,-3.4,2550.6L9.5,2550.6" transform="matrix(1,0,0,1,196.44,6481.13)" fill="none" stroke-width="3" id="344" ed:tosuperid="343" stroke-linejoin="round" stroke="#4caf50" ed:parentid="232"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,250.34,9054.63)" fill="none" stroke-width="3" id="351" ed:tosuperid="350" stroke-linejoin="round" stroke="#4caf50" ed:parentid="343"></path> <path stroke-linecap="round" d="M-9.5,-74.5L-9.5,68.5C-9.5,71.8,-6.8,74.5,-3.5,74.5L9.5,74.5" transform="matrix(1,0,0,1,250.34,9118.25)" fill="none" stroke-width="3" id="353" ed:tosuperid="352" stroke-linejoin="round" stroke="#4caf50" ed:parentid="343"></path> <path stroke-linecap="round" d="M-9.5,-138.1L-9.5,132.1C-9.5,135.4,-6.8,138.1,-3.5,138.1L9.5,138.1" transform="matrix(1,0,0,1,250.34,9181.88)" fill="none" stroke-width="3" id="355" ed:tosuperid="354" stroke-linejoin="round" stroke="#4caf50" ed:parentid="343"></path> <path stroke-linecap="round" d="M-9.5,-211L-9.5,205C-9.5,208.3,-6.8,211,-3.5,211L9.4,211" transform="matrix(1,0,0,1,250.34,9254.75)" fill="none" stroke-width="3" id="357" ed:tosuperid="356" stroke-linejoin="round" stroke="#4caf50" ed:parentid="343"></path> <path stroke-linecap="round" d="M-9.5,-283.9L-9.5,277.9C-9.5,281.2,-6.8,283.9,-3.5,283.9L9.5,283.9" transform="matrix(1,0,0,1,250.34,9327.63)" fill="none" stroke-width="3" id="359" ed:tosuperid="358" stroke-linejoin="round" stroke="#4caf50" ed:parentid="343"></path> <path stroke-linecap="round" d="M-9.5,-325.5L-9.5,319.5C-9.5,322.8,-6.8,325.5,-3.5,325.5L9.4,325.5" transform="matrix(1,0,0,1,250.34,9369.25)" fill="none" stroke-width="3" id="361" ed:tosuperid="360" stroke-linejoin="round" stroke="#4caf50" ed:parentid="343"></path> <path stroke-linecap="round" d="M-9.5,-367.1L-9.5,361.1C-9.5,364.4,-6.8,367.1,-3.5,367.1L9.5,367.1" transform="matrix(1,0,0,1,250.34,9410.88)" fill="none" stroke-width="3" id="363" ed:tosuperid="362" stroke-linejoin="round" stroke="#4caf50" ed:parentid="343"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.4,10.9" transform="matrix(1,0,0,1,304.24,9800.88)" fill="none" stroke-width="3" id="365" ed:tosuperid="364" stroke-linejoin="round" stroke="#4caf50" ed:parentid="362"></path> <path stroke-linecap="round" d="M-9.5,-400.9L-9.5,394.9C-9.5,398.2,-6.8,400.9,-3.5,400.9L9.5,400.9" transform="matrix(1,0,0,1,250.34,9444.63)" fill="none" stroke-width="3" id="367" ed:tosuperid="366" stroke-linejoin="round" stroke="#4caf50" ed:parentid="343"></path> <path stroke-linecap="round" d="M-9.5,-8.9L-9.5,2.9C-9.5,6.2,-6.8,8.9,-3.5,8.9L9.4,8.9" transform="matrix(1,0,0,1,304.24,9866.38)" fill="none" stroke-width="3" id="369" ed:tosuperid="368" stroke-linejoin="round" stroke="#4caf50" ed:parentid="366"></path> <path stroke-linecap="round" d="M-9.5,-468.1L-9.5,462.1C-9.5,465.4,-6.8,468.1,-3.5,468.1L9.4,468.1" transform="matrix(1,0,0,1,250.34,9511.88)" fill="none" stroke-width="3" id="371" ed:tosuperid="370" stroke-linejoin="round" stroke="#4caf50" ed:parentid="343"></path> <path stroke-linecap="round" d="M-9.5,-522.5L-9.5,516.5C-9.5,519.8,-6.8,522.5,-3.5,522.5L9.5,522.5" transform="matrix(1,0,0,1,250.34,9566.25)" fill="none" stroke-width="3" id="373" ed:tosuperid="372" stroke-linejoin="round" stroke="#4caf50" ed:parentid="343"></path> <path stroke-linecap="round" d="M-9.5,-620.9L-9.5,614.9C-9.5,618.2,-6.8,620.9,-3.5,620.9L9.4,620.9" transform="matrix(1,0,0,1,250.34,9664.63)" fill="none" stroke-width="3" id="375" ed:tosuperid="374" stroke-linejoin="round" stroke="#4caf50" ed:parentid="343"></path> <path stroke-linecap="round" d="M-9.5,-719.3L-9.5,713.3C-9.5,716.6,-6.8,719.3,-3.5,719.3L9.5,719.3" transform="matrix(1,0,0,1,250.34,9763)" fill="none" stroke-width="3" id="377" ed:tosuperid="376" stroke-linejoin="round" stroke="#4caf50" ed:parentid="343"></path> <path stroke-linecap="round" d="M-9.5,-54.6L-9.5,48.6C-9.5,51.9,-6.8,54.6,-3.5,54.6L9.4,54.6" transform="matrix(1,0,0,1,300.74,10548.88)" fill="none" stroke-width="3" id="379" ed:tosuperid="378" stroke-linejoin="round" stroke="#4caf50" ed:parentid="376"></path> <path stroke-linecap="round" d="M-25.2,-5299.5L-25.2,5293.5C-25.2,5296.8,-22.5,5299.5,-19.2,5299.5L25.2,5299.5" transform="matrix(1,0,0,1,83.2,5454.5)" fill="none" stroke-width="3" id="381" ed:tosuperid="380" stroke-linejoin="round" stroke="#4caf50" ed:parentid="119"></path> <path stroke-linecap="round" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.5,15.9" transform="matrix(1,0,0,1,142.54,10787.88)" fill="none" stroke-width="3" id="383" ed:tosuperid="382" stroke-linejoin="round" stroke="#4caf50" ed:parentid="380"></path> <path stroke-linecap="round" d="M-9.4,-8.9L-9.4,2.9C-9.4,6.2,-6.8,8.9,-3.4,8.9L9.5,8.9" transform="matrix(1,0,0,1,196.44,10834.63)" fill="none" stroke-width="3" id="385" ed:tosuperid="384" stroke-linejoin="round" stroke="#4caf50" ed:parentid="382"></path> <path stroke-linecap="round" d="M-9.5,-60.6L-9.5,54.6C-9.5,57.9,-6.8,60.6,-3.5,60.6L9.5,60.6" transform="matrix(1,0,0,1,142.54,10832.63)" fill="none" stroke-width="3" id="387" ed:tosuperid="386" stroke-linejoin="round" stroke="#4caf50" ed:parentid="380"></path> <path stroke-linecap="round" d="M-9.5,-87.5L-9.5,81.5C-9.5,84.8,-6.8,87.5,-3.5,87.5L9.5,87.5" transform="matrix(1,0,0,1,142.54,10859.5)" fill="none" stroke-width="3" id="389" ed:tosuperid="388" stroke-linejoin="round" stroke="#4caf50" ed:parentid="380"></path> <path stroke-linecap="round" d="M-9.5,-109.4L-9.5,103.4C-9.5,106.7,-6.8,109.4,-3.5,109.4L9.5,109.4" transform="matrix(1,0,0,1,142.54,10881.38)" fill="none" stroke-width="3" id="391" ed:tosuperid="390" stroke-linejoin="round" stroke="#4caf50" ed:parentid="380"></path> <path stroke-linecap="round" d="M-9.5,-136.3L-9.5,130.3C-9.5,133.6,-6.8,136.3,-3.5,136.3L9.5,136.3" transform="matrix(1,0,0,1,142.54,10908.25)" fill="none" stroke-width="3" id="393" ed:tosuperid="392" stroke-linejoin="round" stroke="#4caf50" ed:parentid="380"></path> <path stroke-linecap="round" d="M-25.2,-5481.3L-25.2,5475.3C-25.2,5478.6,-22.5,5481.3,-19.2,5481.3L25.2,5481.3" transform="matrix(1,0,0,1,83.2,5636.25)" fill="none" stroke-width="3" id="395" ed:tosuperid="394" stroke-linejoin="round" stroke="#4caf50" ed:parentid="119"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,142.54,11146.38)" fill="none" stroke-width="3" id="397" ed:tosuperid="396" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-27.8L-9.5,21.8C-9.5,25.1,-6.8,27.8,-3.5,27.8L9.5,27.8" transform="matrix(1,0,0,1,142.54,11163.25)" fill="none" stroke-width="3" id="399" ed:tosuperid="398" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-59.6L-9.5,53.6C-9.5,56.9,-6.8,59.6,-3.5,59.6L9.5,59.6" transform="matrix(1,0,0,1,142.54,11195.13)" fill="none" stroke-width="3" id="401" ed:tosuperid="400" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-101.5L-9.5,95.5C-9.5,98.8,-6.8,101.5,-3.5,101.5L9.5,101.5" transform="matrix(1,0,0,1,142.54,11237)" fill="none" stroke-width="3" id="403" ed:tosuperid="402" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-126.4L-9.5,120.4C-9.5,123.7,-6.8,126.4,-3.5,126.4L9.5,126.4" transform="matrix(1,0,0,1,142.54,11261.88)" fill="none" stroke-width="3" id="405" ed:tosuperid="404" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-141.3L-9.5,135.3C-9.5,138.6,-6.8,141.3,-3.5,141.3L9.5,141.3" transform="matrix(1,0,0,1,142.54,11276.75)" fill="none" stroke-width="3" id="407" ed:tosuperid="406" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-173.1L-9.5,167.1C-9.5,170.4,-6.8,173.1,-3.5,173.1L9.5,173.1" transform="matrix(1,0,0,1,142.54,11308.63)" fill="none" stroke-width="3" id="409" ed:tosuperid="408" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-205L-9.5,199C-9.5,202.3,-6.8,205,-3.5,205L9.5,205" transform="matrix(1,0,0,1,142.54,11340.5)" fill="none" stroke-width="3" id="411" ed:tosuperid="410" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.4,-20.9L-9.4,14.9C-9.4,18.2,-6.8,20.9,-3.4,20.9L9.5,20.9" transform="matrix(1,0,0,1,196.44,11578.38)" fill="none" stroke-width="3" id="413" ed:tosuperid="412" stroke-linejoin="round" stroke="#4caf50" ed:parentid="410"></path> <path stroke-linecap="round" d="M-9.5,-283.8L-9.5,277.8C-9.5,281.1,-6.8,283.8,-3.5,283.8L9.5,283.8" transform="matrix(1,0,0,1,142.54,11419.25)" fill="none" stroke-width="3" id="415" ed:tosuperid="414" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-325.6L-9.5,319.6C-9.5,322.9,-6.8,325.6,-3.5,325.6L9.5,325.6" transform="matrix(1,0,0,1,142.54,11461.13)" fill="none" stroke-width="3" id="417" ed:tosuperid="416" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-352.5L-9.5,346.5C-9.5,349.8,-6.8,352.5,-3.5,352.5L9.5,352.5" transform="matrix(1,0,0,1,142.54,11488)" fill="none" stroke-width="3" id="419" ed:tosuperid="418" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-389.4L-9.5,383.4C-9.5,386.7,-6.8,389.4,-3.5,389.4L9.5,389.4" transform="matrix(1,0,0,1,142.54,11524.88)" fill="none" stroke-width="3" id="421" ed:tosuperid="420" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-426.3L-9.5,420.3C-9.5,423.6,-6.8,426.3,-3.5,426.3L9.5,426.3" transform="matrix(1,0,0,1,142.54,11561.75)" fill="none" stroke-width="3" id="423" ed:tosuperid="422" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-453.1L-9.5,447.1C-9.5,450.4,-6.8,453.1,-3.5,453.1L9.5,453.1" transform="matrix(1,0,0,1,142.54,11588.63)" fill="none" stroke-width="3" id="425" ed:tosuperid="424" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-480L-9.5,474C-9.5,477.3,-6.8,480,-3.5,480L9.5,480" transform="matrix(1,0,0,1,142.54,11615.5)" fill="none" stroke-width="3" id="427" ed:tosuperid="426" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-506.9L-9.5,500.9C-9.5,504.2,-6.8,506.9,-3.5,506.9L9.5,506.9" transform="matrix(1,0,0,1,142.54,11642.38)" fill="none" stroke-width="3" id="429" ed:tosuperid="428" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-528.8L-9.5,522.8C-9.5,526.1,-6.8,528.8,-3.5,528.8L9.5,528.8" transform="matrix(1,0,0,1,142.54,11664.25)" fill="none" stroke-width="3" id="431" ed:tosuperid="430" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-550.6L-9.5,544.6C-9.5,547.9,-6.8,550.6,-3.5,550.6L9.5,550.6" transform="matrix(1,0,0,1,142.54,11686.13)" fill="none" stroke-width="3" id="433" ed:tosuperid="432" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-577.5L-9.5,571.5C-9.5,574.8,-6.8,577.5,-3.5,577.5L9.5,577.5" transform="matrix(1,0,0,1,142.54,11713)" fill="none" stroke-width="3" id="435" ed:tosuperid="434" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-609.4L-9.5,603.4C-9.5,606.7,-6.8,609.4,-3.5,609.4L9.5,609.4" transform="matrix(1,0,0,1,142.54,11744.88)" fill="none" stroke-width="3" id="437" ed:tosuperid="436" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-646.3L-9.5,640.3C-9.5,643.6,-6.8,646.3,-3.5,646.3L9.5,646.3" transform="matrix(1,0,0,1,142.54,11781.75)" fill="none" stroke-width="3" id="439" ed:tosuperid="438" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-683.1L-9.5,677.1C-9.5,680.4,-6.8,683.1,-3.5,683.1L9.5,683.1" transform="matrix(1,0,0,1,142.54,11818.63)" fill="none" stroke-width="3" id="441" ed:tosuperid="440" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,196.44,12534.63)" fill="none" stroke-width="3" id="443" ed:tosuperid="442" stroke-linejoin="round" stroke="#4caf50" ed:parentid="440"></path> <path stroke-linecap="round" d="M-9.4,-27.8L-9.4,21.8C-9.4,25.1,-6.8,27.8,-3.4,27.8L9.5,27.8" transform="matrix(1,0,0,1,196.44,12551.5)" fill="none" stroke-width="3" id="445" ed:tosuperid="444" stroke-linejoin="round" stroke="#4caf50" ed:parentid="440"></path> <path stroke-linecap="round" d="M-9.5,-738.8L-9.5,732.8C-9.5,736.1,-6.8,738.8,-3.5,738.8L9.5,738.8" transform="matrix(1,0,0,1,142.54,11874.25)" fill="none" stroke-width="3" id="447" ed:tosuperid="446" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.4,-15.9L-9.4,9.9C-9.4,13.2,-6.8,15.9,-3.4,15.9L9.5,15.9" transform="matrix(1,0,0,1,196.44,12640.88)" fill="none" stroke-width="3" id="449" ed:tosuperid="448" stroke-linejoin="round" stroke="#4caf50" ed:parentid="446"></path> <path stroke-linecap="round" d="M-9.4,-37.8L-9.4,31.8C-9.4,35.1,-6.8,37.8,-3.4,37.8L9.5,37.8" transform="matrix(1,0,0,1,196.44,12662.75)" fill="none" stroke-width="3" id="451" ed:tosuperid="450" stroke-linejoin="round" stroke="#4caf50" ed:parentid="446"></path> <path stroke-linecap="round" d="M-9.4,-54.6L-9.4,48.6C-9.4,51.9,-6.8,54.6,-3.4,54.6L9.5,54.6" transform="matrix(1,0,0,1,196.44,12679.63)" fill="none" stroke-width="3" id="453" ed:tosuperid="452" stroke-linejoin="round" stroke="#4caf50" ed:parentid="446"></path> <path stroke-linecap="round" d="M-9.5,-816.3L-9.5,810.3C-9.5,813.6,-6.8,816.3,-3.5,816.3L9.5,816.3" transform="matrix(1,0,0,1,142.54,11951.75)" fill="none" stroke-width="3" id="455" ed:tosuperid="454" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-833.1L-9.5,827.1C-9.5,830.4,-6.8,833.1,-3.5,833.1L9.5,833.1" transform="matrix(1,0,0,1,142.54,11968.63)" fill="none" stroke-width="3" id="457" ed:tosuperid="456" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-860L-9.5,854C-9.5,857.3,-6.8,860,-3.5,860L9.5,860" transform="matrix(1,0,0,1,142.54,11995.5)" fill="none" stroke-width="3" id="459" ed:tosuperid="458" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-906.9L-9.5,900.9C-9.5,904.2,-6.8,906.9,-3.5,906.9L9.5,906.9" transform="matrix(1,0,0,1,142.54,12042.38)" fill="none" stroke-width="3" id="461" ed:tosuperid="460" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-9.5,-953.8L-9.5,947.8C-9.5,951.1,-6.8,953.8,-3.5,953.8L9.5,953.8" transform="matrix(1,0,0,1,142.54,12089.25)" fill="none" stroke-width="3" id="463" ed:tosuperid="462" stroke-linejoin="round" stroke="#4caf50" ed:parentid="394"></path> <path stroke-linecap="round" d="M-25.2,-6486.5L-25.2,6480.5C-25.2,6483.8,-22.5,6486.5,-19.2,6486.5L25.2,6486.5" transform="matrix(1,0,0,1,83.2,6641.5)" fill="none" stroke-width="3" id="465" ed:tosuperid="464" stroke-linejoin="round" stroke="#4caf50" ed:parentid="119"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,152.85,13158.88)" fill="none" stroke-width="3" id="468" ed:tosuperid="467" stroke-linejoin="round" stroke="#4caf50" ed:parentid="464"></path> <path stroke-linecap="round" d="M-9.5,-345.8L-9.5,339.8C-9.5,343.1,-6.8,345.8,-3.5,345.8L9.5,345.8" transform="matrix(1,0,0,1,152.85,13493.75)" fill="none" stroke-width="3" id="470" ed:tosuperid="469" stroke-linejoin="round" stroke="#4caf50" ed:parentid="464"></path> <path stroke-linecap="round" d="M-25.2,-7192.8L-25.2,7186.8C-25.2,7190.1,-22.5,7192.8,-19.2,7192.8L25.2,7192.8" transform="matrix(1,0,0,1,83.2,7347.75)" fill="none" stroke-width="3" id="472" ed:tosuperid="471" stroke-linejoin="round" stroke="#4caf50" ed:parentid="119"></path> <path stroke-linecap="round" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.5,15.9" transform="matrix(1,0,0,1,152.85,14576.38)" fill="none" stroke-width="3" id="474" ed:tosuperid="473" stroke-linejoin="round" stroke="#4caf50" ed:parentid="471"></path> <path stroke-linecap="round" d="M-9.5,-37.8L-9.5,31.8C-9.5,35.1,-6.8,37.8,-3.5,37.8L9.5,37.8" transform="matrix(1,0,0,1,152.85,14598.25)" fill="none" stroke-width="3" id="476" ed:tosuperid="475" stroke-linejoin="round" stroke="#4caf50" ed:parentid="471"></path> <path stroke-linecap="round" d="M-9.5,-64.6L-9.5,58.6C-9.5,61.9,-6.8,64.6,-3.5,64.6L9.5,64.6" transform="matrix(1,0,0,1,152.85,14625.13)" fill="none" stroke-width="3" id="478" ed:tosuperid="477" stroke-linejoin="round" stroke="#4caf50" ed:parentid="471"></path> <path stroke-linecap="round" d="M-9.5,-91.5L-9.5,85.5C-9.5,88.8,-6.8,91.5,-3.5,91.5L9.5,91.5" transform="matrix(1,0,0,1,152.85,14652)" fill="none" stroke-width="3" id="480" ed:tosuperid="479" stroke-linejoin="round" stroke="#4caf50" ed:parentid="471"></path> <path stroke-linecap="round" d="M-9.4,-15.9L-9.4,9.9C-9.4,13.2,-6.8,15.9,-3.4,15.9L9.5,15.9" transform="matrix(1,0,0,1,206.75,14771.38)" fill="none" stroke-width="3" id="482" ed:tosuperid="481" stroke-linejoin="round" stroke="#4caf50" ed:parentid="479"></path> <path stroke-linecap="round" d="M-9.5,-135.3L-9.5,129.3C-9.5,132.6,-6.8,135.3,-3.5,135.3L9.5,135.3" transform="matrix(1,0,0,1,152.85,14695.75)" fill="none" stroke-width="3" id="484" ed:tosuperid="483" stroke-linejoin="round" stroke="#4caf50" ed:parentid="471"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,14853.88)" fill="none" stroke-width="3" id="486" ed:tosuperid="485" stroke-linejoin="round" stroke="#4caf50" ed:parentid="483"></path> <path stroke-linecap="round" d="M-9.5,-169L-9.5,163C-9.5,166.3,-6.8,169,-3.5,169L9.5,169" transform="matrix(1,0,0,1,152.85,14729.5)" fill="none" stroke-width="3" id="488" ed:tosuperid="487" stroke-linejoin="round" stroke="#4caf50" ed:parentid="471"></path> <path stroke-linecap="round" d="M-9.4,-15.9L-9.4,9.9C-9.4,13.2,-6.8,15.9,-3.4,15.9L9.5,15.9" transform="matrix(1,0,0,1,206.75,14926.38)" fill="none" stroke-width="3" id="490" ed:tosuperid="489" stroke-linejoin="round" stroke="#4caf50" ed:parentid="487"></path> <path stroke-linecap="round" d="M-9.5,-210.8L-9.5,204.8C-9.5,208.1,-6.8,210.8,-3.5,210.8L9.5,210.8" transform="matrix(1,0,0,1,152.85,14771.25)" fill="none" stroke-width="3" id="492" ed:tosuperid="491" stroke-linejoin="round" stroke="#4caf50" ed:parentid="471"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,187.75,15000.88)" fill="none" stroke-width="3" id="494" ed:tosuperid="493" stroke-linejoin="round" stroke="#4caf50" ed:parentid="491"></path> <path stroke-linecap="round" d="M-9.4,-32.8L-9.4,26.8C-9.4,30.1,-6.8,32.8,-3.4,32.8L9.5,32.8" transform="matrix(1,0,0,1,187.75,15022.75)" fill="none" stroke-width="3" id="496" ed:tosuperid="495" stroke-linejoin="round" stroke="#4caf50" ed:parentid="491"></path> <path stroke-linecap="round" d="M-9.4,-54.6L-9.4,48.6C-9.4,51.9,-6.8,54.6,-3.4,54.6L9.5,54.6" transform="matrix(1,0,0,1,187.75,15044.63)" fill="none" stroke-width="3" id="498" ed:tosuperid="497" stroke-linejoin="round" stroke="#4caf50" ed:parentid="491"></path> <path stroke-linecap="round" d="M-9.4,-71.5L-9.4,65.5C-9.4,68.8,-6.8,71.5,-3.4,71.5L9.5,71.5" transform="matrix(1,0,0,1,187.75,15061.5)" fill="none" stroke-width="3" id="500" ed:tosuperid="499" stroke-linejoin="round" stroke="#4caf50" ed:parentid="491"></path> <path stroke-linecap="round" d="M-25.2,-7521.5L-25.2,7515.5C-25.2,7518.8,-22.5,7521.5,-19.2,7521.5L25.2,7521.5" transform="matrix(1,0,0,1,83.2,7676.5)" fill="none" stroke-width="3" id="502" ed:tosuperid="501" stroke-linejoin="round" stroke="#4caf50" ed:parentid="119"></path> <path stroke-linecap="round" d="M-9.5,-25.9L-9.5,19.9C-9.5,23.2,-6.8,25.9,-3.5,25.9L9.5,25.9" transform="matrix(1,0,0,1,152.85,15243.88)" fill="none" stroke-width="3" id="504" ed:tosuperid="503" stroke-linejoin="round" stroke="#4caf50" ed:parentid="501"></path> <path stroke-linecap="round" d="M-25.2,-7604.9L-25.2,7598.9C-25.2,7602.2,-22.5,7604.9,-19.2,7604.9L25.2,7604.9" transform="matrix(1,0,0,1,83.2,7759.88)" fill="none" stroke-width="3" id="506" ed:tosuperid="505" stroke-linejoin="round" stroke="#4caf50" ed:parentid="119"></path> <path stroke-linecap="round" d="M-9.5,-20.9L-9.5,14.9C-9.5,18.2,-6.8,20.9,-3.5,20.9L9.5,20.9" transform="matrix(1,0,0,1,152.85,15405.63)" fill="none" stroke-width="3" id="508" ed:tosuperid="507" stroke-linejoin="round" stroke="#4caf50" ed:parentid="505"></path> <path stroke-linecap="round" d="M-9.5,-67.8L-9.5,61.8C-9.5,65.1,-6.8,67.8,-3.5,67.8L9.5,67.8" transform="matrix(1,0,0,1,152.85,15452.5)" fill="none" stroke-width="3" id="510" ed:tosuperid="509" stroke-linejoin="round" stroke="#4caf50" ed:parentid="505"></path> <path stroke-linecap="round" d="M-9.5,-104.6L-9.5,98.6C-9.5,101.9,-6.8,104.6,-3.5,104.6L9.5,104.6" transform="matrix(1,0,0,1,152.85,15489.38)" fill="none" stroke-width="3" id="512" ed:tosuperid="511" stroke-linejoin="round" stroke="#4caf50" ed:parentid="505"></path> <path stroke-linecap="round" d="M-25.2,-7751L-25.2,7745C-25.2,7748.3,-22.5,7751,-19.2,7751L25.2,7751" transform="matrix(1,0,0,1,83.2,7906)" fill="none" stroke-width="3" id="514" ed:tosuperid="513" stroke-linejoin="round" stroke="#4caf50" ed:parentid="119"></path> <path stroke-linecap="round" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.5,15.9" transform="matrix(1,0,0,1,152.85,15690.88)" fill="none" stroke-width="3" id="516" ed:tosuperid="515" stroke-linejoin="round" stroke="#4caf50" ed:parentid="513"></path> <path stroke-linecap="round" d="M-9.5,-42.8L-9.5,36.8C-9.5,40.1,-6.8,42.8,-3.5,42.8L9.5,42.8" transform="matrix(1,0,0,1,152.85,15717.75)" fill="none" stroke-width="3" id="518" ed:tosuperid="517" stroke-linejoin="round" stroke="#4caf50" ed:parentid="513"></path> <path stroke-linecap="round" d="M-9.5,-69.6L-9.5,63.6C-9.5,66.9,-6.8,69.6,-3.5,69.6L9.5,69.6" transform="matrix(1,0,0,1,152.85,15744.63)" fill="none" stroke-width="3" id="520" ed:tosuperid="519" stroke-linejoin="round" stroke="#4caf50" ed:parentid="513"></path> <path stroke-linecap="round" d="M-9.5,-90.8L-9.5,84.8C-9.5,88.1,-6.8,90.8,-3.5,90.8L9.5,90.8" transform="matrix(1,0,0,1,152.85,15765.75)" fill="none" stroke-width="3" id="522" ed:tosuperid="521" stroke-linejoin="round" stroke="#4caf50" ed:parentid="513"></path> <path stroke-linecap="round" d="M-9.4,-15.9L-9.4,9.9C-9.4,13.2,-6.8,15.9,-3.4,15.9L9.5,15.9" transform="matrix(1,0,0,1,206.75,15882.88)" fill="none" stroke-width="3" id="524" ed:tosuperid="523" stroke-linejoin="round" stroke="#4caf50" ed:parentid="521"></path> <path stroke-linecap="round" d="M-25.2,-7905.9L-25.2,7899.9C-25.2,7903.2,-22.5,7905.9,-19.2,7905.9L25.2,7905.9" transform="matrix(1,0,0,1,83.2,8060.88)" fill="none" stroke-width="3" id="526" ed:tosuperid="525" stroke-linejoin="round" stroke="#4caf50" ed:parentid="119"></path> <g transform="matrix(1,0,0,1,23,82)" id="119" ed:width="157.6875" ed:height="73" ed:layout="righttree" ed:topictype="mainidea"><path d="M4,0L153.7,0C156.4,0,157.7,1.3,157.7,4L157.7,69C157.7,71.7,156.4,73,153.7,73L4,73C1.3,73,0,71.7,0,69L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="3" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st49"><tspan x="22" textLength="114" y="50">Realm</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,188)" id="120" ed:width="92" ed:height="40" ed:parentid="119"><path d="M4,0L88,0C90.7,0,92,1.3,92,4L92,36C92,38.7,90.7,40,88,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st50"><tspan x="19" textLength="54" y="24">参考：</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,237.75)" id="122" ed:width="204.015625" ed:height="24" ed:parentid="120"><text class="st51"><tspan x="10" textLength="183" y="16">Realm数据库 从入门到“放弃”</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,271.5)" id="124" ed:width="314.703125" ed:height="21" ed:parentid="122"><text class="st51"><tspan x="10" textLength="293" y="16">https://www.jianshu.com/p/50e0efb66bdf</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,302.25)" id="126" ed:width="49" ed:height="24" ed:parentid="120"><text class="st51"><tspan x="10" textLength="28" y="16">官网</tspan></text></g> <g transform="matrix(1,0,0,1,205.7,336)" id="128" ed:width="253.703125" ed:height="21" ed:parentid="126"><text class="st51"><tspan x="10" textLength="233" y="16">https://realm.io/docs/swift/latest</tspan></text></g> <g transform="matrix(1,0,0,1,205.7,366.75)" id="130" ed:width="280.671875" ed:height="21" ed:parentid="126"><text class="st51"><tspan x="10" textLength="260" y="16">https://realm.io/cn/docs/objc/latest/</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,397.5)" id="132" ed:width="182.921875" ed:height="24" ed:parentid="120"><text class="st51"><tspan x="10" textLength="162" y="16">Realm在iOS中的简单使用</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,431.25)" id="134" ed:width="318.453125" ed:height="21" ed:parentid="132"><text class="st51"><tspan x="10" textLength="297" y="16">https://www.jianshu.com/p/f415d07bc446</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,462)" id="136" ed:width="169.3125" ed:height="24" ed:parentid="120"><text class="st51"><tspan x="10" textLength="148" y="16">Realm使用深入详解篇1</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,495.75)" id="138" ed:width="320.1875" ed:height="21" ed:parentid="136"><text class="st51"><tspan x="10" textLength="299" y="16">https://www.jianshu.com/p/90f79201b309</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,549.75)" id="140" ed:width="273.296875" ed:height="40" ed:parentid="119"><path d="M4,0L269.3,0C272,0,273.3,1.3,273.3,4L273.3,36C273.3,38.7,272,40,269.3,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st50"><tspan x="19" textLength="235" y="24">Realm数据库 从入门到“放弃”</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,622.75)" id="142" ed:width="49.375" ed:height="36" ed:parentid="119"><path d="M4,0L45.4,0C48.1,0,49.4,1.3,49.4,4L49.4,32C49.4,34.7,48.1,36,45.4,36L4,36C1.3,36,0,34.7,0,32L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st50"><tspan x="19" textLength="11" y="24">1</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,668.5)" id="144" ed:width="517" ed:height="44" ed:parentid="142"><text class="st51"><tspan x="10" textLength="470" y="16">2012年起，后支持的平台包括Java，Objective-C，Swift，React Native，</tspan> <tspan x="10" textLength="70" y="36">Xamarin。</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,722.25)" id="146" ed:width="49" ed:height="24" ed:parentid="142"><text class="st51"><tspan x="10" textLength="28" y="16">优点</tspan></text></g> <g transform="matrix(1,0,0,1,195.39,756)" id="148" ed:width="63" ed:height="24" ed:parentid="146"><text class="st51"><tspan x="10" textLength="42" y="16">跨平台</tspan></text></g> <g transform="matrix(1,0,0,1,195.39,789.75)" id="150" ed:width="382.5625" ed:height="24" ed:parentid="146"><text class="st51"><tspan x="10" textLength="362" y="16">简单易用：Core Data 和 SQLite 冗余、繁杂的知识和代码</tspan></text></g> <g transform="matrix(1,0,0,1,195.39,823.5)" id="152" ed:width="237.09375" ed:height="24" ed:parentid="146"><text class="st51"><tspan x="10" textLength="216" y="16">可视化：Realm Browser 这个工具</tspan></text></g> <g transform="matrix(1,0,0,1,249.29,857.25)" id="154" ed:width="32" ed:height="16" ed:parentid="152"><text class="st51"></text></g> <g transform="matrix(1,0,0,1,151.99,883)" id="156" ed:width="49" ed:height="24" ed:parentid="142"><text class="st51"><tspan x="10" textLength="28" y="16">安装</tspan></text></g> <g transform="matrix(1,0,0,1,195.39,916.75)" id="158" ed:width="215.5625" ed:height="24" ed:parentid="156"><text class="st51"><tspan x="10" textLength="195" y="16">纯OC项目，就安装OC的Realm</tspan></text></g> <g transform="matrix(1,0,0,1,249.29,950.5)" id="160" ed:width="99.484375" ed:height="21" ed:parentid="158"><text class="st51"><tspan x="10" textLength="78" y="16">pod 'Realm'</tspan></text></g> <g transform="matrix(1,0,0,1,195.39,981.25)" id="162" ed:width="239.9375" ed:height="24" ed:parentid="156"><text class="st51"><tspan x="10" textLength="219" y="16">纯Swift项目，就安装Swift的Realm</tspan></text></g> <g transform="matrix(1,0,0,1,249.29,1015)" id="164" ed:width="132.21875" ed:height="21" ed:parentid="162"><text class="st51"><tspan x="10" textLength="111" y="16">pod 'RealmSwift'</tspan></text></g> <g transform="matrix(1,0,0,1,195.39,1045.75)" id="166" ed:width="517" ed:height="44" ed:parentid="156"><text class="st51"><tspan x="10" textLength="486" y="16">混编项目，就需要安装OC的Realm，然后要把 Swift/RLMSupport.swift  文件</tspan> <tspan x="10" textLength="84" y="36">一同编译进去</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,1099.5)" id="168" ed:width="49" ed:height="24" ed:parentid="142"><text class="st51"><tspan x="10" textLength="28" y="16">术语</tspan></text></g> <g transform="matrix(1,0,0,1,195.39,1133.25)" id="170" ed:width="90.8125" ed:height="21" ed:parentid="168"><text class="st51"><tspan x="10" textLength="70" y="16">RLMRealm</tspan></text></g> <g transform="matrix(1,0,0,1,249.29,1164)" id="172" ed:width="517" ed:height="44" ed:parentid="170"><text class="st51"><tspan x="10" textLength="437" y="16">defaultRealm( )如同Core Data的管理对象上下文（managed object </tspan> <tspan x="10" textLength="93" y="36">context）一样</tspan></text></g> <g transform="matrix(1,0,0,1,195.39,1217.75)" id="174" ed:width="93.453125" ed:height="21" ed:parentid="168"><text class="st51"><tspan x="10" textLength="72" y="16">RLMObject</tspan></text></g> <g transform="matrix(1,0,0,1,249.29,1248.5)" id="176" ed:width="191.75" ed:height="24" ed:parentid="174"><text class="st51"><tspan x="10" textLength="171" y="16">model要继承于RLMObject</tspan></text></g> <g transform="matrix(1,0,0,1,195.39,1282.25)" id="178" ed:width="98.203125" ed:height="21" ed:parentid="168"><text class="st51"><tspan x="10" textLength="77" y="16">RLMResults</tspan></text></g> <g transform="matrix(1,0,0,1,249.29,1313)" id="180" ed:width="517" ed:height="44" ed:parentid="178"><text class="st51"><tspan x="10" textLength="498" y="16">查询结果RLMResults和NSArray类似，包含了一系列的RLMObject对象，包括排</tspan> <tspan x="10" textLength="126" y="36">序、查找等等操作。</tspan></text></g> <g transform="matrix(1,0,0,1,195.39,1366.75)" id="182" ed:width="49" ed:height="24" ed:parentid="168"><text class="st51"><tspan x="10" textLength="28" y="16">属性</tspan></text></g> <g transform="matrix(1,0,0,1,238.79,1400.5)" id="184" ed:width="32" ed:height="16" ed:parentid="182"><text class="st51"></text></g> <g transform="matrix(1,0,0,1,238.79,1426.25)" id="186" ed:width="32" ed:height="16" ed:parentid="182"><text class="st51"></text></g> <g transform="matrix(1,0,0,1,195.39,1452)" id="188" ed:width="32" ed:height="16" ed:parentid="168"><text class="st51"></text></g> <g transform="matrix(1,0,0,1,151.99,1477.75)" id="190" ed:width="108.6875" ed:height="24" ed:parentid="142"><text class="st51"><tspan x="10" textLength="88" y="16">1. 创建数据库</tspan></text></g> <g transform="matrix(1,0,0,1,205.89,1511.5)" id="192" ed:width="63" ed:height="24" ed:parentid="190"><text class="st51"><tspan x="10" textLength="42" y="16">代码：</tspan></text></g> <g transform="matrix(1,0,0,1,256.29,1545.25)" id="194" ed:width="518" ed:height="456" ed:parentid="192"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,452C518,454.7,516.7,456,514,456L4,456C1.3,456,0,454.7,0,452L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st51"><tspan x="10" textLength="406" y="16.5">- (void)creatDataBaseWithName:(NSString *)databaseName {</tspan> <tspan x="10" textLength="157" y="33.5">    NSArray *docPath = </tspan> <tspan x="10" textLength="423" y="50.5">NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, </tspan> <tspan x="10" textLength="177" y="67.5">NSUserDomainMask, YES);</tspan> <tspan x="10" textLength="317" y="84.5">    NSString *path = [docPath objectAtIndex:0];</tspan> <tspan x="10" textLength="196" y="101.5">    NSString *filePath = [path </tspan> <tspan x="10" textLength="351" y="118.5">stringByAppendingPathComponent:databaseName];</tspan> <tspan x="10" textLength="262" y="135.5">    NSLog(@&quot;数据库目录 = %@&quot;,filePath);</tspan> <tspan x="10" textLength="426" y="172.5">    RLMRealmConfiguration *config = [RLMRealmConfiguration </tspan> <tspan x="10" textLength="150" y="189.5">defaultConfiguration];</tspan> <tspan x="10" textLength="343" y="206.5">    config.fileURL = [NSURL URLWithString:filePath];</tspan> <tspan x="10" textLength="435" y="223.5">    config.objectClasses = @[MyClass.class, MyOtherClass.class];</tspan> <tspan x="10" textLength="171" y="240.5">    config.readOnly = NO;</tspan> <tspan x="10" textLength="276" y="257.5">    int currentVersion = 1.0; //当前版本号</tspan> <tspan x="10" textLength="291" y="277.5">    config.schemaVersion = currentVersion;</tspan> <tspan x="10" textLength="18" y="294.5"></tspan> <tspan x="10" textLength="444" y="311.5">    config.migrationBlock = ^(RLMMigration *migration , uint64_t </tspan> <tspan x="10" textLength="138" y="328.5">oldSchemaVersion) {</tspan> <tspan x="10" textLength="227" y="345.5">       // 这里是设置数据迁移的block</tspan> <tspan x="10" textLength="312" y="365.5">        if (oldSchemaVersion &lt; currentVersion) {</tspan> <tspan x="10" textLength="40" y="382.5">        }</tspan> <tspan x="10" textLength="27" y="399.5">    };</tspan> <tspan x="10" textLength="18" y="416.5"></tspan> <tspan x="10" textLength="408" y="433.5">    [RLMRealmConfiguration setDefaultConfiguration:config];</tspan> <tspan x="10" textLength="5" y="450.5">}</tspan></text></g> <g transform="matrix(1,0,0,1,205.89,2011)" id="196" ed:width="91" ed:height="24" ed:parentid="190"><text class="st51"><tspan x="10" textLength="70" y="16">内存数据库</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,2044.75)" id="198" ed:width="517" ed:height="64" ed:parentid="196"><text class="st51"><tspan x="10" textLength="424" y="16">通常情况下，Realm 数据库是存储在硬盘中的，但是您能够通过设置</tspan> <tspan x="10" textLength="497" y="36">inMemoryIdentifier而不是设置RLMRealmConfiguration中的 fileURL属性，以</tspan> <tspan x="10" textLength="238" y="56">创建一个完全在内存中运行的数据库。</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,2118.5)" id="200" ed:width="518" ed:height="73" ed:parentid="196"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,69C518,71.7,516.7,73,514,73L4,73C1.3,73,0,71.7,0,69L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st51"><tspan x="10" textLength="409" y="16.5">RLMRealmConfiguration *config = [RLMRealmConfiguration </tspan> <tspan x="10" textLength="150" y="33.5">defaultConfiguration];</tspan> <tspan x="10" textLength="350" y="50.5">config.inMemoryIdentifier = @&quot;MyInMemoryRealm&quot;;</tspan> <tspan x="10" textLength="494" y="67.5">RLMRealm *realm = [RLMRealm realmWithConfiguration:config error:nil];</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,2201.25)" id="202" ed:width="517" ed:height="64" ed:parentid="196"><text class="st51"><tspan x="10" textLength="489" y="16">1.内存数据库会在临时文件夹中创建多个文件，用来协调处理诸如跨进程通知之</tspan> <tspan x="10" textLength="494" y="36">类的事务。 实际上没有任何的数据会被写入到这些文件当中，除非操作系统由于</tspan> <tspan x="10" textLength="308" y="56">内存过满，才会去把内存里面的数据存入到文件中</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,2275)" id="204" ed:width="517" ed:height="64" ed:parentid="196"><text class="st51"><tspan x="10" textLength="498" y="16">2.如果某个内存 Realm 数据库实例没有被引用，那么所有的数据就会被释放。所</tspan> <tspan x="10" textLength="489" y="36">以必须要在应用的生命周期内保持对Realm内存数据库的强引用，以避免数据丢</tspan> <tspan x="10" textLength="14" y="56">失</tspan></text></g> <g transform="matrix(1,0,0,1,205.89,2348.75)" id="206" ed:width="32" ed:height="16" ed:parentid="190"><text class="st51"></text></g> <g transform="matrix(1,0,0,1,151.99,2374.5)" id="208" ed:width="66.6875" ed:height="24" ed:parentid="142"><text class="st51"><tspan x="10" textLength="46" y="16">2. 建表</tspan></text></g> <g transform="matrix(1,0,0,1,204.23,2408.25)" id="210" ed:width="76.40625" ed:height="21" ed:parentid="208"><text class="st51"><tspan x="10" textLength="55" y="16">model.h</tspan></text></g> <g transform="matrix(1,0,0,1,258.13,2439)" id="212" ed:width="414.015625" ed:height="437" ed:parentid="210"><path d="M4,0L410,0C412.7,0,414,1.3,414,4L414,433C414,435.7,412.7,437,410,437L4,437C1.3,437,0,435.7,0,433L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st51"><tspan x="10" textLength="184" y="16.5">#import &lt;Realm/Realm.h&gt;</tspan> <tspan x="10" textLength="220" y="50.5">@interface RLMUser : RLMObject</tspan> <tspan x="10" textLength="385" y="67.5">//不要加上 如nonatomic, atomic, strong, copy, weak 等等</tspan> <tspan x="10" textLength="209" y="87.5">@property NSString       *accid;</tspan> <tspan x="10" textLength="84" y="104.5">//用户注册id</tspan> <tspan x="10" textLength="212" y="124.5">@property NSInteger      custId;</tspan> <tspan x="10" textLength="43" y="141.5">//姓名</tspan> <tspan x="10" textLength="241" y="161.5">@property NSString       *custName;</tspan> <tspan x="10" textLength="89" y="178.5">//头像大图url</tspan> <tspan x="10" textLength="236" y="198.5">@property NSString       *avatarBig;</tspan> <tspan x="10" textLength="317" y="215.5">@property RLMArray&lt;Car&gt; *cars; //一对多关系</tspan> <tspan x="10" textLength="0" y="235.5"></tspan> <tspan x="10" textLength="392" y="252.5">//RLM_ARRAY_TYPE 使得类声明在底部生效，不然要写在上面
</tspan> <tspan x="10" textLength="386" y="272.5">RLM_ARRAY_TYPE(RLMUser) // 定义RLMArray&lt;RLMUser&gt;</tspan> <tspan x="10" textLength="185" y="309.5">@interface Car : RLMObject</tspan> <tspan x="10" textLength="207" y="326.5">@property NSString *carName;</tspan> <tspan x="10" textLength="190" y="343.5">@property RLMUser *owner;</tspan> <tspan x="10" textLength="37" y="360.5">@end</tspan> <tspan x="10" textLength="314" y="394.5">RLM_ARRAY_TYPE(Car) // 定义RLMArray&lt;Car&gt;</tspan> <tspan x="10" textLength="37" y="431.5">@end</tspan></text></g> <g transform="matrix(1,0,0,1,204.23,2885.75)" id="214" ed:width="177.453125" ed:height="24" ed:parentid="208"><text class="st51"><tspan x="10" textLength="156" y="16">关于RLMObject的的关系</tspan></text></g> <g transform="matrix(1,0,0,1,258.13,2919.5)" id="216" ed:width="63" ed:height="24" ed:parentid="214"><text class="st51"><tspan x="10" textLength="42" y="16">一对一</tspan></text></g> <g transform="matrix(1,0,0,1,308.53,2953.25)" id="218" ed:width="211.234375" ed:height="21" ed:parentid="216"><text class="st51"><tspan x="10" textLength="190" y="16">@property RLMUser *owner;</tspan></text></g> <g transform="matrix(1,0,0,1,258.13,2984)" id="220" ed:width="63" ed:height="24" ed:parentid="214"><text class="st51"><tspan x="10" textLength="42" y="16">一对多</tspan></text></g> <g transform="matrix(1,0,0,1,308.53,3017.75)" id="222" ed:width="248.53125" ed:height="21" ed:parentid="220"><text class="st51"><tspan x="10" textLength="228" y="16">@property RLMArray&lt;Car&gt; *cars;</tspan></text></g> <g transform="matrix(1,0,0,1,258.13,3048.5)" id="224" ed:width="77" ed:height="24" ed:parentid="214"><text class="st51"><tspan x="10" textLength="56" y="16">反向关系</tspan></text></g> <g transform="matrix(1,0,0,1,312.03,3082.25)" id="226" ed:width="518" ed:height="229" ed:parentid="224"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,225C518,227.7,516.7,229,514,229L4,229C1.3,229,0,227.7,0,225L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st51"><tspan x="10" textLength="185" y="16.5">@interface Car : RLMObject</tspan> <tspan x="10" textLength="207" y="33.5">@property NSString *carName;</tspan> <tspan x="10" textLength="484" y="50.5">@property (readonly) RLMLinkingObjects *owners; //指向RLMUser.class</tspan> <tspan x="10" textLength="37" y="70.5">@end</tspan> <tspan x="10" textLength="146" y="104.5">@implementation Car</tspan> <tspan x="10" textLength="298" y="121.5">+ (NSDictionary *)linkingObjectsProperties {</tspan> <tspan x="10" textLength="81" y="138.5">    return @{</tspan> <tspan x="10" textLength="302" y="155.5">             @&quot;owners&quot;: [RLMPropertyDescriptor </tspan> <tspan x="10" textLength="400" y="172.5">descriptorWithClass:RLMUser.class propertyName:@&quot;cars&quot;],</tspan> <tspan x="10" textLength="66" y="189.5">             };</tspan> <tspan x="10" textLength="5" y="206.5">}</tspan> <tspan x="10" textLength="37" y="223.5">@end</tspan></text></g> <g transform="matrix(1,0,0,1,204.23,3321)" id="228" ed:width="517" ed:height="64" ed:parentid="208"><text class="st51"><tspan x="10" textLength="494" y="16">还可以给RLMObject设置主键primaryKey，默认值defaultPropertyValues，忽</tspan> <tspan x="10" textLength="415" y="36">略的属性ignoredProperties，必要属性requiredProperties，索引</tspan> <tspan x="10" textLength="305" y="56">indexedProperties。比较有用的是主键和索引。</tspan></text></g> <g transform="matrix(1,0,0,1,204.23,3394.75)" id="230" ed:width="518" ed:height="502" ed:parentid="208"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,498C518,500.7,516.7,502,514,502L4,502C1.3,502,0,500.7,0,498L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st51"><tspan x="10" textLength="157" y="16.5">@implementation Book</tspan> <tspan x="10" textLength="47" y="50.5">// 主键</tspan> <tspan x="10" textLength="179" y="70.5">+ (NSString *)primaryKey {</tspan> <tspan x="10" textLength="105" y="87.5">    return @&quot;ID&quot;;</tspan> <tspan x="10" textLength="5" y="104.5">}</tspan> <tspan x="10" textLength="113" y="138.5">//设置属性默认值</tspan> <tspan x="10" textLength="276" y="158.5">+ (NSDictionary *)defaultPropertyValues{</tspan> <tspan x="10" textLength="231" y="175.5">    return @{@&quot;carName&quot;:@&quot;测试&quot; };</tspan> <tspan x="10" textLength="5" y="195.5">}</tspan> <tspan x="10" textLength="253" y="229.5">//设置忽略属性,即不存到realm数据库中</tspan> <tspan x="10" textLength="311" y="249.5">+ (NSArray&lt;NSString *&gt; *)ignoredProperties {</tspan> <tspan x="10" textLength="126" y="266.5">    return @[@&quot;ID&quot;];</tspan> <tspan x="10" textLength="5" y="283.5">}</tspan> <tspan x="10" textLength="489" y="317.5">//一般来说,属性为nil的话realm会抛出异常,但是如果实现了这个方法的话,就只</tspan> <tspan x="10" textLength="375" y="337.5">有name为nil会抛出异常,也就是说现在cover属性可以为空了</tspan> <tspan x="10" textLength="225" y="357.5">+ (NSArray *)requiredProperties {</tspan> <tspan x="10" textLength="149" y="374.5">    return @[@&quot;name&quot;];</tspan> <tspan x="10" textLength="5" y="391.5">}</tspan> <tspan x="10" textLength="201" y="425.5">//设置索引,可以加快检索的速度</tspan> <tspan x="10" textLength="222" y="445.5">+ (NSArray *)indexedProperties {</tspan> <tspan x="10" textLength="126" y="462.5">    return @[@&quot;ID&quot;];</tspan> <tspan x="10" textLength="5" y="479.5">}</tspan> <tspan x="10" textLength="37" y="496.5">@end</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,3906.5)" id="232" ed:width="90.265625" ed:height="24" ed:parentid="142"><text class="st51"><tspan x="10" textLength="69" y="16">3.存储数据</tspan></text></g> <g transform="matrix(1,0,0,1,205.89,3940.25)" id="234" ed:width="77" ed:height="24" ed:parentid="232"><text class="st51"><tspan x="10" textLength="56" y="16">新建对象</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,3974)" id="236" ed:width="518" ed:height="184" ed:parentid="234"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,180C518,182.7,516.7,184,514,184L4,184C1.3,184,0,182.7,0,180L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st51"><tspan x="10" textLength="261" y="16.5">// (1) 创建一个Car对象，然后设置其属性</tspan> <tspan x="10" textLength="183" y="36.5">Car *car = [[Car alloc] init];</tspan> <tspan x="10" textLength="217" y="53.5">car.carName = @&quot;Lamborghini&quot;;</tspan> <tspan x="10" textLength="177" y="87.5">// (2) 通过字典创建Car对象</tspan> <tspan x="10" textLength="454" y="107.5">Car *myOtherCar = [[Car alloc] initWithValue:@{@&quot;name&quot; : @&quot;Rolls-</tspan> <tspan x="10" textLength="58" y="124.5">Royce&quot;}];</tspan> <tspan x="10" textLength="181" y="158.5">// (3) 通过数组创建狗狗对象</tspan> <tspan x="10" textLength="387" y="178.5">Car *myThirdcar = [[Car alloc] initWithValue:@[@&quot;BMW&quot;]];</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,4167.75)" id="238" ed:width="351.3125" ed:height="24" ed:parentid="234"><text class="st51"><tspan x="10" textLength="330" y="16">所有的必需属性都必须在对象添加到 Realm 前被赋值</tspan></text></g> <g transform="matrix(1,0,0,1,205.89,4201.5)" id="240" ed:width="35" ed:height="24" ed:parentid="232"><text class="st51"><tspan x="10" textLength="14" y="16">增</tspan></text></g> <g transform="matrix(1,0,0,1,242.29,4235.25)" id="242" ed:width="374.6875" ed:height="24" ed:parentid="240"><text class="st51"><tspan x="10" textLength="354" y="16">1. 子线程异步写入数据，建议异步操作，同步会堵塞线程</tspan></text></g> <g transform="matrix(1,0,0,1,242.29,4269)" id="244" ed:width="518" ed:height="124" ed:parentid="240"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,120C518,122.7,516.7,124,514,124L4,124C1.3,124,0,122.7,0,120L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st51"><tspan x="10" textLength="492" y="16.5">dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_</tspan> <tspan x="10" textLength="106" y="33.5">DEFAULT, 0), ^{</tspan> <tspan x="10" textLength="351" y="50.5">        RLMRealm *realm = [RLMRealm defaultRealm];</tspan> <tspan x="10" textLength="242" y="67.5">        [realm transactionWithBlock:^{</tspan> <tspan x="10" textLength="211" y="84.5">            [realm addObject: Car];</tspan> <tspan x="10" textLength="49" y="101.5">        }];</tspan> <tspan x="10" textLength="31" y="118.5">    });</tspan></text></g> <g transform="matrix(1,0,0,1,242.29,4402.75)" id="246" ed:width="318.6875" ed:height="24" ed:parentid="240"><text class="st51"><tspan x="10" textLength="298" y="16">2. 同步写入，堵塞线程，默认不建议，除非需要</tspan></text></g> <g transform="matrix(1,0,0,1,242.29,4436.5)" id="248" ed:width="242.734375" ed:height="55" ed:parentid="240"><text class="st51"><tspan x="10" textLength="209" y="16">[realm beginWriteTransaction];</tspan> <tspan x="10" textLength="153" y="33">[realm addObject:Car];</tspan> <tspan x="10" textLength="222" y="50">[realm commitWriteTransaction];</tspan></text></g> <g transform="matrix(1,0,0,1,205.89,4501.25)" id="250" ed:width="35" ed:height="24" ed:parentid="232"><text class="st51"><tspan x="10" textLength="14" y="16">删</tspan></text></g> <g transform="matrix(1,0,0,1,242.29,4535)" id="252" ed:width="91" ed:height="24" ed:parentid="250"><text class="st51"><tspan x="10" textLength="70" y="16">同步删除：</tspan></text></g> <g transform="matrix(1,0,0,1,242.29,4568.75)" id="254" ed:width="243.734375" ed:height="167" ed:parentid="250"><path d="M4,0L239.7,0C242.4,0,243.7,1.3,243.7,4L243.7,163C243.7,165.7,242.4,167,239.7,167L4,167C1.3,167,0,165.7,0,163L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st51"><tspan x="10" textLength="209" y="16.5">[realm beginWriteTransaction];</tspan> <tspan x="10" textLength="112" y="33.5">// 1删除单条记录</tspan> <tspan x="10" textLength="169" y="53.5">[realm deleteObject:Car];</tspan> <tspan x="10" textLength="112" y="70.5">// 2删除多条记录</tspan> <tspan x="10" textLength="218" y="90.5">[realm deleteObjects:CarResult];</tspan> <tspan x="10" textLength="112" y="107.5">// 3删除所有记录</tspan> <tspan x="10" textLength="167" y="127.5">[realm deleteAllObjects];</tspan> <tspan x="10" textLength="222" y="161.5">[realm commitWriteTransaction];</tspan></text></g> <g transform="matrix(1,0,0,1,205.89,4745.5)" id="256" ed:width="35" ed:height="24" ed:parentid="232"><text class="st51"><tspan x="10" textLength="14" y="16">改</tspan></text></g> <g transform="matrix(1,0,0,1,242.29,4779.25)" id="258" ed:width="77" ed:height="24" ed:parentid="256"><text class="st51"><tspan x="10" textLength="56" y="16">增量更新</tspan></text></g> <g transform="matrix(1,0,0,1,296.19,4813)" id="260" ed:width="517" ed:height="38" ed:parentid="258"><text class="st51"><tspan x="10" textLength="465" y="16">[Car createOrUpdateInRealm:realm withValue:@{@&quot;id&quot;: @1, @&quot;price&quot;: </tspan> <tspan x="10" textLength="79" y="33">@9000.0f}];</tspan></text></g> <g transform="matrix(1,0,0,1,296.19,4860.75)" id="262" ed:width="517" ed:height="44" ed:parentid="258"><text class="st51"><tspan x="10" textLength="490" y="16">有主键。方法会先去主键里面找有没有字典里面传入的主键的记录，如果有，就</tspan> <tspan x="10" textLength="322" y="36">只更新字典里面的子集。如果没有，就新建一条记录</tspan></text></g> <g transform="matrix(1,0,0,1,350.09,4914.5)" id="264" ed:width="161" ed:height="24" ed:parentid="262"><text class="st51"><tspan x="10" textLength="140" y="16">不会影响么有设置的键</tspan></text></g> <g transform="matrix(1,0,0,1,242.29,4948.25)" id="266" ed:width="91" ed:height="24" ed:parentid="256"><text class="st51"><tspan x="10" textLength="70" y="16">非增量更新</tspan></text></g> <g transform="matrix(1,0,0,1,296.19,4982)" id="268" ed:width="238.859375" ed:height="21" ed:parentid="266"><text class="st51"><tspan x="10" textLength="218" y="16">[realm addOrUpdateObject:Car];</tspan></text></g> <g transform="matrix(1,0,0,1,296.19,5012.75)" id="270" ed:width="517" ed:height="44" ed:parentid="266"><text class="st51"><tspan x="10" textLength="487" y="16">所有的值都必须有，如果有哪几个值是null，那么就会覆盖原来已经有的值，这</tspan> <tspan x="10" textLength="168" y="36">样就会出现数据丢失的问题</tspan></text></g> <g transform="matrix(1,0,0,1,205.89,5066.5)" id="272" ed:width="35" ed:height="24" ed:parentid="232"><text class="st51"><tspan x="10" textLength="14" y="16">查</tspan></text></g> <g transform="matrix(1,0,0,1,242.29,5100.25)" id="274" ed:width="49" ed:height="24" ed:parentid="272"><text class="st51"><tspan x="10" textLength="28" y="16">查询</tspan></text></g> <g transform="matrix(1,0,0,1,285.69,5134)" id="276" ed:width="517" ed:height="44" ed:parentid="274"><text class="st51"><tspan x="10" textLength="485" y="16">查询条件可以使用==、&lt;=、&lt;、&gt;=、&gt;、!=、BETWEEN、CONTAINS 以及 </tspan> <tspan x="10" textLength="155" y="36">ENDSWITH等多种操作符</tspan></text></g> <g transform="matrix(1,0,0,1,242.29,5187.75)" id="278" ed:width="517" ed:height="44" ed:parentid="272"><text class="st51"><tspan x="10" textLength="487" y="16">1. Realm中所有的查询（包括查询和属性访问）在 Realm 中都是延迟加载的，</tspan> <tspan x="10" textLength="280" y="36">只有当属性被访问时，才能够读取相应的数据</tspan></text></g> <g transform="matrix(1,0,0,1,242.29,5241.5)" id="280" ed:width="517" ed:height="44" ed:parentid="272"><text class="st51"><tspan x="10" textLength="489" y="16">2.查询结果并不是数据的拷贝：修改查询结果（在写入事务中）会直接修改硬盘</tspan> <tspan x="10" textLength="56" y="36">上的数据</tspan></text></g> <g transform="matrix(1,0,0,1,242.29,5295.25)" id="282" ed:width="398.265625" ed:height="24" ed:parentid="272"><text class="st51"><tspan x="10" textLength="377" y="16">3.查询结果被引用后，没有使用，依然不会实际去查询数据库</tspan></text></g> <g transform="matrix(1,0,0,1,242.29,5329)" id="284" ed:width="332.6875" ed:height="24" ed:parentid="272"><text class="st51"><tspan x="10" textLength="312" y="16">4. 一旦数据有更新，先前的查询结果无需重新执行</tspan></text></g> <g transform="matrix(1,0,0,1,242.29,5362.75)" id="286" ed:width="518" ed:height="347" ed:parentid="272"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,343C518,345.7,516.7,347,514,347L4,347C1.3,347,0,345.7,0,343L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st51"><tspan x="10" textLength="428" y="16.5">//从默认数据库查询所有的车， 继承于RLMObject，其实现部分方法</tspan> <tspan x="10" textLength="488" y="36.5">RLMResults&lt;Car *&gt; *cars = [Car allObjects]; //这行代码并没有真正去查询</tspan> <tspan x="10" textLength="112" y="56.5">结果，直到使用时</tspan> <tspan x="10" textLength="145" y="93.5">// 使用断言字符串查询</tspan> <tspan x="10" textLength="482" y="113.5">RLMResults&lt;Dog *&gt; *tanDogs = [Dog objectsWhere:@&quot;color = '棕黄色' </tspan> <tspan x="10" textLength="198" y="133.5">AND name BEGINSWITH '大'&quot;];</tspan> <tspan x="10" textLength="164" y="170.5">// 使用 NSPredicate 查询</tspan> <tspan x="10" textLength="473" y="190.5">NSPredicate *pred = [NSPredicate predicateWithFormat:@&quot;color = %@ </tspan> <tspan x="10" textLength="195" y="207.5">AND name BEGINSWITH %@&quot;,</tspan> <tspan x="10" textLength="212" y="224.5">                     @&quot;棕黄色&quot;, @&quot;大&quot;];</tspan> <tspan x="10" textLength="376" y="244.5">RLMResults *results = [Dog objectsWithPredicate:pred];</tspan> <tspan x="10" textLength="226" y="278.5">// 排序名字以“大”开头的棕黄色狗狗</tspan> <tspan x="10" textLength="487" y="298.5">RLMResults&lt;Dog *&gt; *sortedDogs = [[Dog objectsWhere:@&quot;color = '棕黄</tspan> <tspan x="10" textLength="476" y="318.5">色' AND name BEGINSWITH '大'&quot;] sortedResultsUsingProperty:@&quot;name&quot; </tspan> <tspan x="10" textLength="106" y="338.5">ascending:YES];</tspan></text></g> <g transform="matrix(1,0,0,1,242.29,5719.5)" id="288" ed:width="77" ed:height="24" ed:parentid="272"><text class="st51"><tspan x="10" textLength="56" y="16">链式查询</tspan></text></g> <g transform="matrix(1,0,0,1,296.19,5753.25)" id="290" ed:width="91" ed:height="24" ed:parentid="288"><text class="st51"><tspan x="10" textLength="70" y="16">两种方法：</tspan></text></g> <g transform="matrix(1,0,0,1,296.19,5787)" id="292" ed:width="518" ed:height="56" ed:parentid="288"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,52C518,54.7,516.7,56,514,56L4,56C1.3,56,0,54.7,0,52L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st51"><tspan x="10" textLength="437" y="16.5">RLMResults&lt;Car *&gt; *Cars = [Car objectsWhere:@&quot;color = blue&quot;];</tspan> <tspan x="10" textLength="473" y="33.5">RLMResults&lt;Car *&gt; *CarsWithBNames = [Cars objectsWhere:@&quot;name </tspan> <tspan x="10" textLength="116" y="50.5">BEGINSWITH 'B'&quot;];</tspan></text></g> <g transform="matrix(1,0,0,1,205.89,5852.75)" id="294" ed:width="120.078125" ed:height="24" ed:parentid="232"><text class="st51"><tspan x="10" textLength="99" y="16">支持KVC和KVO</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,5886.5)" id="296" ed:width="517" ed:height="64" ed:parentid="294"><text class="st51"><tspan x="10" textLength="485" y="16">KVC ： RLMObject、RLMResult以及 RLMArray 都遵守键值编码(Key-Value </tspan> <tspan x="10" textLength="487" y="36">Coding)（KVC）机制。当您在运行时才能决定哪个属性需要更新的时候，这个</tspan> <tspan x="10" textLength="98" y="56">方法是最有用的</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,5960.25)" id="298" ed:width="452.421875" ed:height="150" ed:parentid="294"><path d="M4,0L448.4,0C451.1,0,452.4,1.3,452.4,4L452.4,146C452.4,148.7,451.1,150,448.4,150L4,150C1.3,150,0,148.7,0,146L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st51"><tspan x="10" textLength="372" y="16.5">RLMResults&lt;Person *&gt; *persons = [Person allObjects];</tspan> <tspan x="10" textLength="345" y="33.5">[[RLMRealm defaultRealm] transactionWithBlock:^{ </tspan> <tspan x="10" textLength="153" y="50.5">      //设置单个对象的值</tspan> <tspan x="10" textLength="430" y="70.5">      [[persons firstObject] setValue:@YES forKeyPath:@&quot;isFirst&quot;]; </tspan> <tspan x="10" textLength="271" y="104.5">     //将每所有的 planet 属性设置为“地球” </tspan> <tspan x="10" textLength="353" y="124.5">     [persons setValue:@&quot;地球&quot; forKeyPath:@&quot;planet&quot;];</tspan> <tspan x="10" textLength="14" y="144.5">}];</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,6120)" id="300" ed:width="517" ed:height="64" ed:parentid="294"><text class="st51"><tspan x="10" textLength="494" y="16">KVO ： 所有 RLMObject子类的持久化(persisted)存储（未被忽略）的属性都是</tspan> <tspan x="10" textLength="495" y="36">遵循 KVO 机制的，并且 RLMObject以及 RLMArray中 无效的(invalidated)属性</tspan> <tspan x="10" textLength="452" y="56">也同样遵循（然而 RLMLinkingObjects属性并不能使用 KVO 进行观察）</tspan></text></g> <g transform="matrix(1,0,0,1,205.89,6193.75)" id="302" ed:width="91" ed:height="24" ed:parentid="232"><text class="st51"><tspan x="10" textLength="70" y="16">数据库加密</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,6227.5)" id="304" ed:width="517" ed:height="84" ed:parentid="302"><text class="st51"><tspan x="10" textLength="440" y="16">Realm 支持在创建 Realm 数据库时采用64位的密钥对数据库文件进行 </tspan> <tspan x="10" textLength="493" y="36">AES-256+SHA2 加密。这样硬盘上的数据都能都采用AES-256来进行加密和解</tspan> <tspan x="10" textLength="486" y="56">密，并用 SHA-2 HMAC 来进行验证。每次您要获取一个 Realm 实例时，您都</tspan> <tspan x="10" textLength="154" y="76">需要提供一次相同的密钥</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,6321.25)" id="306" ed:width="368.765625" ed:height="24" ed:parentid="302"><text class="st51"><tspan x="10" textLength="348" y="16">加密过的 Realm 只会带来部分额外资源占用 ，大约10%</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,6355)" id="308" ed:width="518" ed:height="289" ed:parentid="302"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,285C518,287.7,516.7,289,514,289L4,289C1.3,289,0,287.7,0,285L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st51"><tspan x="10" textLength="103" y="16.5">// 产生随机密钥</tspan> <tspan x="10" textLength="458" y="36.5">NSMutableData *key = [NSMutableData dataWithLength:64]; //64位</tspan> <tspan x="10" textLength="433" y="56.5">SecRandomCopyBytes(kSecRandomDefault, key.length, (uint8_t </tspan> <tspan x="10" textLength="139" y="73.5">*)key.mutableBytes);</tspan> <tspan x="10" textLength="103" y="107.5">// 打开加密文件</tspan> <tspan x="10" textLength="409" y="127.5">RLMRealmConfiguration *config = [RLMRealmConfiguration </tspan> <tspan x="10" textLength="150" y="144.5">defaultConfiguration];</tspan> <tspan x="10" textLength="191" y="161.5">config.encryptionKey = key;</tspan> <tspan x="10" textLength="137" y="178.5">NSError *error = nil;</tspan> <tspan x="10" textLength="431" y="195.5">RLMRealm *realm = [RLMRealm realmWithConfiguration:config </tspan> <tspan x="10" textLength="90" y="212.5">error:&amp;error];</tspan> <tspan x="10" textLength="74" y="229.5">if (!realm) {</tspan> <tspan x="10" textLength="330" y="246.5">    // 如果密钥错误，`error` 会提示数据库不可访问</tspan> <tspan x="10" textLength="305" y="266.5">    NSLog(@&quot;Error opening realm: %@&quot;, error);</tspan> <tspan x="10" textLength="5" y="283.5">}</tspan></text></g> <g transform="matrix(1,0,0,1,205.89,6653.75)" id="310" ed:width="49" ed:height="24" ed:parentid="232"><text class="st51"><tspan x="10" textLength="28" y="16">通知</tspan></text></g> <g transform="matrix(1,0,0,1,249.29,6687.5)" id="312" ed:width="518" ed:height="181" ed:parentid="310"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,177C518,179.7,516.7,181,514,181L4,181C1.3,181,0,179.7,0,177L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st51"><tspan x="10" textLength="125" y="16.5">// 获取 Realm 通知</tspan> <tspan x="10" textLength="493" y="36.5">token = [realm addNotificationBlock:^(NSString *notification, RLMRealm </tspan> <tspan x="10" textLength="63" y="53.5">* realm) {</tspan> <tspan x="10" textLength="221" y="70.5">     [myViewController updateUI];</tspan> <tspan x="10" textLength="14" y="87.5">}];</tspan> <tspan x="10" textLength="86" y="121.5">[token stop];</tspan> <tspan x="10" textLength="75" y="155.5">// 移除通知</tspan> <tspan x="10" textLength="257" y="175.5">[realm removeNotification:self.token];</tspan></text></g> <g transform="matrix(1,0,0,1,249.29,6878.25)" id="314" ed:width="517" ed:height="44" ed:parentid="310"><text class="st51"><tspan x="10" textLength="492" y="16">一般控制器如果想一直持有这个通知，就需要申请一个属性，strong持有这个通</tspan> <tspan x="10" textLength="14" y="36">知</tspan></text></g> <g transform="matrix(1,0,0,1,249.29,6932)" id="316" ed:width="518" ed:height="626" ed:parentid="310"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,622C518,624.7,516.7,626,514,626L4,626C1.3,626,0,624.7,0,622L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st51"><tspan x="10" textLength="145" y="16.5">- (void)viewDidLoad {</tspan> <tspan x="10" textLength="160" y="33.5">    [super viewDidLoad];</tspan> <tspan x="10" textLength="18" y="50.5"></tspan> <tspan x="10" textLength="179" y="67.5">    // 观察 RLMResults 通知</tspan> <tspan x="10" textLength="259" y="87.5">    __weak typeof(self) weakSelf = self;</tspan> <tspan x="10" textLength="424" y="104.5">    self.notificationToken = [[Person objectsWhere:@&quot;age &gt; 5&quot;] </tspan> <tspan x="10" textLength="380" y="121.5">addNotificationBlock:^(RLMResults&lt;Person *&gt; *results, </tspan> <tspan x="10" textLength="326" y="138.5">RLMCollectionChange *change, NSError *error) {</tspan> <tspan x="10" textLength="101" y="155.5">        if (error) {</tspan> <tspan x="10" textLength="462" y="172.5">            NSLog(@&quot;Failed to open Realm on background worker: %@&quot;, </tspan> <tspan x="10" textLength="43" y="189.5">error);</tspan> <tspan x="10" textLength="99" y="206.5">            return;</tspan> <tspan x="10" textLength="40" y="223.5">        }</tspan> <tspan x="10" textLength="35" y="240.5"></tspan> <tspan x="10" textLength="348" y="257.5">        UITableView *tableView = weakSelf.tableView;</tspan> <tspan x="10" textLength="356" y="274.5">        // 对于变化信息来说，检索的初次运行将会传递 nil</tspan> <tspan x="10" textLength="127" y="294.5">        if (!changes) {</tspan> <tspan x="10" textLength="210" y="311.5">            [tableView reloadData];</tspan> <tspan x="10" textLength="99" y="328.5">            return;</tspan> <tspan x="10" textLength="40" y="345.5">        }</tspan> <tspan x="10" textLength="35" y="362.5"></tspan> <tspan x="10" textLength="398" y="379.5">        // 检索结果被改变，因此将它们应用到 UITableView 当中</tspan> <tspan x="10" textLength="212" y="399.5">        [tableView beginUpdates];</tspan> <tspan x="10" textLength="487" y="416.5">        [tableView deleteRowsAtIndexPaths:[changes deletionsInSection:0]</tspan> <tspan x="10" textLength="496" y="433.5">                         withRowAnimation:UITableViewRowAnimationAutomatic]</tspan> <tspan x="10" textLength="4" y="450.5">;</tspan> <tspan x="10" textLength="489" y="467.5">        [tableView insertRowsAtIndexPaths:[changes insertionsInSection:0]</tspan> <tspan x="10" textLength="496" y="484.5">                         withRowAnimation:UITableViewRowAnimationAutomatic]</tspan> <tspan x="10" textLength="4" y="501.5">;</tspan> <tspan x="10" textLength="346" y="518.5">        [tableView reloadRowsAtIndexPaths:[changes </tspan> <tspan x="10" textLength="172" y="535.5">modificationsInSection:0]</tspan> <tspan x="10" textLength="496" y="552.5">                         withRowAnimation:UITableViewRowAnimationAutomatic]</tspan> <tspan x="10" textLength="4" y="569.5">;</tspan> <tspan x="10" textLength="199" y="586.5">        [tableView endUpdates];</tspan> <tspan x="10" textLength="31" y="603.5">    }];</tspan> <tspan x="10" textLength="5" y="620.5">}</tspan></text></g> <g transform="matrix(1,0,0,1,249.29,7567.75)" id="318" ed:width="77" ed:height="24" ed:parentid="310"><text class="st51"><tspan x="10" textLength="56" y="16">集合通知</tspan></text></g> <g transform="matrix(1,0,0,1,303.19,7601.5)" id="320" ed:width="517" ed:height="161" ed:parentid="318"><text class="st51"><tspan x="10" textLength="490" y="16">集合通知是异步触发的，首先它会在初始结果出现的时候触发，随后当某个写入</tspan> <tspan x="10" textLength="490" y="36">事务改变了集合中的所有或者某个对象的时候，通知都会再次触发。这些变化可</tspan> <tspan x="10" textLength="488" y="56">以通过传递到通知闭包当的 RLMCollectionChange参数访问到。这个对象当中</tspan> <tspan x="10" textLength="473" y="76">包含了受 deletions、insertions和 modifications 状态所影响的索引信息。</tspan> <tspan x="10" textLength="424" y="113">集合通知对于 RLMResults、RLMArray、RLMLinkingObjects 以及 </tspan> <tspan x="10" textLength="474" y="133">RLMResults 这些衍生出来的集合来说，当关系中的对象被添加或者删除的时</tspan> <tspan x="10" textLength="196" y="153">候，一样也会触发这个状态变化</tspan></text></g> <g transform="matrix(1,0,0,1,303.19,7772.25)" id="322" ed:width="518" ed:height="260" ed:parentid="318"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,256C518,258.7,516.7,260,514,260L4,260C1.3,260,0,258.7,0,256L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st51"><tspan x="10" textLength="301" y="16.5">let resultToken = results.observe { (change: </tspan> <tspan x="10" textLength="323" y="33.5">RealmCollectionChange&lt;Results&lt;Animal&gt;&gt;) in</tspan> <tspan x="10" textLength="123" y="50.5">    switch change {</tspan> <tspan x="10" textLength="175" y="67.5">    case .initial(let results):</tspan> <tspan x="10" textLength="367" y="84.5">        print(&quot;Observe   Result  initial:   \(results.count)&quot;)</tspan> <tspan x="10" textLength="74" y="101.5">        break</tspan> <tspan x="10" textLength="496" y="118.5">    case .update(let results, let deletions, let insertions, let modifications):</tspan> <tspan x="10" textLength="480" y="135.5">        print(&quot;Observe   Result  update:   \(results.count)   deletions =&gt; \</tspan> <tspan x="10" textLength="401" y="152.5">(deletions)  insertions =&gt; \(insertions)  modifications =&gt; \</tspan> <tspan x="10" textLength="111" y="169.5">(modifications)&quot;)</tspan> <tspan x="10" textLength="70" y="186.5">    default:</tspan> <tspan x="10" textLength="240" y="203.5">        print(&quot;Observe   Result  error&quot;)</tspan> <tspan x="10" textLength="22" y="220.5">    }</tspan> <tspan x="10" textLength="5" y="237.5">}</tspan></text></g> <g transform="matrix(1,0,0,1,249.29,8042)" id="324" ed:width="29.84375" ed:height="21" ed:parentid="310"><text class="st51"><tspan x="10" textLength="9" y="16">1</tspan></text></g> <g transform="matrix(1,0,0,1,283.11,8072.75)" id="326" ed:width="517" ed:height="44" ed:parentid="324"><text class="st51"><tspan x="10" textLength="497" y="16">1、Realm/Object/Results/List都可被观察，并且当数据发生变化不论是在哪个</tspan> <tspan x="10" textLength="168" y="36">进程或者线程都会被通知到</tspan></text></g> <g transform="matrix(1,0,0,1,283.11,8126.5)" id="328" ed:width="517" ed:height="44" ed:parentid="324"><text class="st51"><tspan x="10" textLength="484" y="16">2、所有的观察不可以在Realm的实例事务中操作，不管被管理对象是否归属于</tspan> <tspan x="10" textLength="160" y="36">当前Realm实例managed</tspan></text></g> <g transform="matrix(1,0,0,1,283.11,8180.25)" id="330" ed:width="517" ed:height="64" ed:parentid="324"><text class="st51"><tspan x="10" textLength="484" y="16">3、相同线程下的不同Realm实例事务操作不能够嵌套，因为这个时候即使新建</tspan> <tspan x="10" textLength="484" y="36">Realm实例，但其还是处于transition中，不同线程下的不同Realm实例是可以</tspan> <tspan x="10" textLength="42" y="56">嵌套的</tspan></text></g> <g transform="matrix(1,0,0,1,205.89,8254)" id="332" ed:width="91" ed:height="24" ed:parentid="232"><text class="st51"><tspan x="10" textLength="70" y="16">数据库迁移</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,8287.75)" id="335" ed:width="243.734375" ed:height="24" ed:parentid="332"><text class="st51"><tspan x="10" textLength="223" y="16">1.新增删除表，Realm不需要做迁移</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,8321.5)" id="337" ed:width="517" ed:height="44" ed:parentid="332"><text class="st51"><tspan x="10" textLength="493" y="16">2.新增删除字段，Realm不需要做迁移。Realm 会自行检测新增和需要移除的属</tspan> <tspan x="10" textLength="238" y="36">性，然后自动更新硬盘上的数据库架构</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,8375.25)" id="339" ed:width="62.265625" ed:height="24" ed:parentid="332"><text class="st51"><tspan x="10" textLength="41" y="16">3.迁移</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,8416)" id="341" ed:width="517" ed:height="587" ed:parentid="332"><text class="st51"><tspan x="10" textLength="409" y="16">RLMRealmConfiguration *config = [RLMRealmConfiguration </tspan> <tspan x="10" textLength="150" y="33">defaultConfiguration];</tspan> <tspan x="10" textLength="412" y="50">config.schemaVersion = 2; //设置版本号，版本迁移和升级修改</tspan> <tspan x="10" textLength="422" y="70">config.migrationBlock = ^(RLMMigration *migration, uint64_t </tspan> <tspan x="10" textLength="129" y="87">oldSchemaVersion)</tspan> <tspan x="10" textLength="5" y="104">{</tspan> <tspan x="10" textLength="429" y="121">    // enumerateObjects:block: 遍历了存储在 Realm 文件中的每一</tspan> <tspan x="10" textLength="99" y="141">个“Person”对象</tspan> <tspan x="10" textLength="479" y="161">    [migration enumerateObjects:Person.className block:^(RLMObject </tspan> <tspan x="10" textLength="250" y="178">*oldObject, RLMObject *newObject) {</tspan> <tspan x="10" textLength="485" y="195">        //1. 合并字段 firstName，lastName -&gt; fullName： 只有当 Realm 数</tspan> <tspan x="10" textLength="336" y="215">据库的架构版本为 0 的时候，才添加 “fullName” 属性</tspan> <tspan x="10" textLength="220" y="235">        if (oldSchemaVersion &lt; 1) {</tspan> <tspan x="10" textLength="468" y="252">            newObject[@&quot;fullName&quot;] = [NSString stringWithFormat:@&quot;%@ </tspan> <tspan x="10" textLength="376" y="269">%@&quot;, oldObject[@&quot;firstName&quot;], oldObject[@&quot;lastName&quot;]];</tspan> <tspan x="10" textLength="40" y="286">        }</tspan> <tspan x="10" textLength="493" y="303">        //2.增加新字段 email ： 只有当 Realm 数据库的架构版本为 0 或者 1 的</tspan> <tspan x="10" textLength="160" y="323">时候，才添加“email”属性</tspan> <tspan x="10" textLength="220" y="343">        if (oldSchemaVersion &lt; 2) {</tspan> <tspan x="10" textLength="326" y="360">            newObject[@&quot;email&quot;] = @&quot;&quot;; //默认赋值“”</tspan> <tspan x="10" textLength="40" y="380">        }</tspan> <tspan x="10" textLength="231" y="397">       // 3.原字段重命名 : 替换属性名</tspan> <tspan x="10" textLength="384" y="417">       if (oldSchemaVersion &lt; 3) { // 重命名操作应该在调用 </tspan> <tspan x="10" textLength="210" y="437">`enumerateObjects:` 之外完成 </tspan> <tspan x="10" textLength="424" y="457">            [migration renamePropertyForClass:Person.className </tspan> <tspan x="10" textLength="329" y="474">oldName:@&quot;yearsSinceBirth&quot; newName:@&quot;age&quot;]; }</tspan> <tspan x="10" textLength="31" y="491">    }];</tspan> <tspan x="10" textLength="9" y="508">};</tspan> <tspan x="10" textLength="390" y="525">[RLMRealmConfiguration setDefaultConfiguration:config];</tspan> <tspan x="10" textLength="489" y="542">// 现在我们已经成功更新了架构版本并且提供了迁移闭包，打开旧有的 Realm </tspan> <tspan x="10" textLength="308" y="562">数据库会自动执行此数据迁移，然后成功进行访问</tspan> <tspan x="10" textLength="177" y="582">[RLMRealm defaultRealm];</tspan></text></g> <g transform="matrix(1,0,0,1,205.89,9019.75)" id="343" ed:width="91" ed:height="24" ed:parentid="232"><text class="st51"><tspan x="10" textLength="70" y="16">多线程操作</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,9053.5)" id="350" ed:width="248.15625" ed:height="24" ed:parentid="343"><text class="st51"><tspan x="10" textLength="227" y="16">1. Realm实例对象不可以跨线程访问</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,9094.25)" id="352" ed:width="341.578125" ed:height="197" ed:parentid="343"><text class="st51"><tspan x="10" textLength="157" y="16">let realm = try! Realm()</tspan> <tspan x="10" textLength="321" y="33">print(&quot;Thread  isMain: \(Thread.isMainThread)&quot;)</tspan> <tspan x="10" textLength="317" y="67">/// 这里我们验证一个打开的realm是否可以跨线程</tspan> <tspan x="10" textLength="250" y="87">/// 错误示例，Realm实例不能够跨线程</tspan> <tspan x="10" textLength="210" y="107">DispatchQueue.global().async {</tspan> <tspan x="10" textLength="172" y="124">    let student = Student()</tspan> <tspan x="10" textLength="132" y="141">    try? realm.write {</tspan> <tspan x="10" textLength="256" y="158">        realm.add(student, update: true)</tspan> <tspan x="10" textLength="18" y="175">   }</tspan> <tspan x="10" textLength="5" y="192">}</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,9308)" id="354" ed:width="241.21875" ed:height="24" ed:parentid="343"><text class="st51"><tspan x="10" textLength="220" y="16">2. Object子类也 不可以跨线程访问</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,9348.75)" id="356" ed:width="517" ed:height="234" ed:parentid="343"><text class="st51"><tspan x="10" textLength="154" y="16">let student = Student()</tspan> <tspan x="10" textLength="114" y="33">try? realm.write {</tspan> <tspan x="10" textLength="239" y="50">    realm.add(student, update: true)</tspan> <tspan x="10" textLength="5" y="67">}</tspan> <tspan x="10" textLength="396" y="84">/// 错误示例，已经被Realm示例managed的对象不能够跨线程</tspan> <tspan x="10" textLength="484" y="104">/// 但是处于unmanaged的对象就可以当成一般的对象使用，是可以跨线程访</tspan> <tspan x="10" textLength="291" y="124">问的，可以尝试将上述add屏蔽掉再来看看结果</tspan> <tspan x="10" textLength="210" y="144">DispatchQueue.global().async {</tspan> <tspan x="10" textLength="175" y="161">    let realm = try! Realm()</tspan> <tspan x="10" textLength="132" y="178">    try? realm.write {</tspan> <tspan x="10" textLength="256" y="195">        realm.add(student, update: true)</tspan> <tspan x="10" textLength="22" y="212">    }</tspan> <tspan x="10" textLength="5" y="229">}</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,9599.5)" id="358" ed:width="278.390625" ed:height="24" ed:parentid="343"><text class="st51"><tspan x="10" textLength="257" y="16">3. Results 查询结果 也不可以跨线程访问</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,9640.25)" id="360" ed:width="469.4375" ed:height="109" ed:parentid="343"><text class="st51"><tspan x="10" textLength="269" y="16">let results = realm.objects(Student.self)</tspan> <tspan x="10" textLength="210" y="33">DispatchQueue.global().async {</tspan> <tspan x="10" textLength="285" y="50">    print(&quot;Thread   Results  access  before&quot;)</tspan> <tspan x="10" textLength="448" y="67">    print(&quot;Thread   Results  access  \(results.count)&quot;)   // 这里会出错</tspan> <tspan x="10" textLength="273" y="87">    print(&quot;Thread   Results  access  after&quot;)</tspan> <tspan x="10" textLength="5" y="104">}</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,9766)" id="362" ed:width="141.84375" ed:height="24" ed:parentid="343"><text class="st51"><tspan x="10" textLength="121" y="16">如何跨线程访问 ？ </tspan></text></g> <g transform="matrix(1,0,0,1,313.69,9799.75)" id="364" ed:width="214.328125" ed:height="24" ed:parentid="362"><text class="st51"><tspan x="10" textLength="193" y="16">使用 ： ThreadSafeReference</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,9833.5)" id="366" ed:width="180.796875" ed:height="24" ed:parentid="343"><text class="st51"><tspan x="10" textLength="160" y="16">4. 针对Object跨线程访问</tspan></text></g> <g transform="matrix(1,0,0,1,313.69,9867.25)" id="368" ed:width="32" ed:height="16" ed:parentid="366"><text class="st51"></text></g> <g transform="matrix(1,0,0,1,259.79,9900)" id="370" ed:width="516.1875" ed:height="160" ed:parentid="343"><text class="st51"><tspan x="10" textLength="415" y="16">let studentRef = ThreadSafeReference&lt;Student&gt;(to: student)</tspan> <tspan x="10" textLength="210" y="33">DispatchQueue.global().async {</tspan> <tspan x="10" textLength="175" y="50">    let realm = try! Realm()</tspan> <tspan x="10" textLength="403" y="67">    guard let studentCopy = realm.resolve(studentRef) else {</tspan> <tspan x="10" textLength="77" y="84">        return</tspan> <tspan x="10" textLength="27" y="101">    } 
</tspan> <tspan x="10" textLength="177" y="118">    // 可以看到结果正常输出</tspan> <tspan x="10" textLength="495" y="138">    print(&quot;Thread   Object  ThreadSafeReference:  \(studentCopy.idCard)&quot;) </tspan> <tspan x="10" textLength="5" y="155">}</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,10076.75)" id="372" ed:width="185.546875" ed:height="24" ed:parentid="343"><text class="st51"><tspan x="10" textLength="165" y="16">5. 针对Results跨线程访问</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,10117.5)" id="374" ed:width="517" ed:height="336" ed:parentid="343"><text class="st51"><tspan x="10" textLength="474" y="16">let resultsRef = ThreadSafeReference&lt;Results&lt;Student&gt;&gt;(to: results)</tspan> <tspan x="10" textLength="210" y="33">DispatchQueue.global().async {</tspan> <tspan x="10" textLength="175" y="50">    let realm = try! Realm()</tspan> <tspan x="10" textLength="391" y="67">    guard let resultsCopy = realm.resolve(resultsRef) else {</tspan> <tspan x="10" textLength="77" y="84">        return</tspan> <tspan x="10" textLength="22" y="101">    }
</tspan> <tspan x="10" textLength="177" y="118">    // 可以看到结果正常输出</tspan> <tspan x="10" textLength="492" y="138">    print(&quot;Thread   Results  ThreadSafeReference:  \(resultsCopy.count)&quot;)  </tspan> <tspan x="10" textLength="485" y="155">    // 那么我们是否可以进一步访问resultsCopy中的结果呢？ 从输出结果看，</tspan> <tspan x="10" textLength="84" y="175">答案是可以的</tspan> <tspan x="10" textLength="494" y="195">    print(&quot;Thread   Results  ThreadSafeReference  Object  update before: \</tspan> <tspan x="10" textLength="130" y="212">(resultsCopy.first)&quot;)</tspan> <tspan x="10" textLength="132" y="246">    try? realm.write {</tspan> <tspan x="10" textLength="367" y="263">        resultsCopy.first?.name = &quot;ThreadSafeReference&quot;</tspan> <tspan x="10" textLength="22" y="280">    }</tspan> <tspan x="10" textLength="486" y="297">    print(&quot;Thread   Results  ThreadSafeReference  Object   update after: \</tspan> <tspan x="10" textLength="130" y="314">(resultsCopy.first)&quot;)</tspan> <tspan x="10" textLength="5" y="331">}</tspan></text></g> <g transform="matrix(1,0,0,1,259.79,10470.25)" id="376" ed:width="63" ed:height="24" ed:parentid="343"><text class="st51"><tspan x="10" textLength="42" y="16">总结：</tspan></text></g> <g transform="matrix(1,0,0,1,310.19,10504)" id="378" ed:width="518" ed:height="199" ed:parentid="376"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,195C518,197.7,516.7,199,514,199L4,199C1.3,199,0,197.7,0,195L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st51"><tspan x="10" textLength="488" y="16.5">1、Realm、Object、Results 或者 List 被管理实例皆受到线程的限制，只能够</tspan> <tspan x="10" textLength="224" y="36.5">在被创建且被管理的实例线程中使用</tspan> <tspan x="10" textLength="478" y="73.5">2、Object、Results、List也可以通过ThreadSafeReference来跨线程安全访</tspan> <tspan x="10" textLength="490" y="93.5">问，这意味着当我们不确定某个被管理对象或者已经确定某个被管理对象在其他</tspan> <tspan x="10" textLength="490" y="113.5">线程使用，开始新线程访问前我们都都可以通过线程安全引用使其能够跨线程访</tspan> <tspan x="10" textLength="14" y="133.5">问</tspan> <tspan x="10" textLength="437" y="170.5">3、如果一个ThreadSafeReference被一个Realm实例resolve后，那么</tspan> <tspan x="10" textLength="478" y="190.5">ThreadSafeReference所指向的那个对象的管理Realm也将会变更到当前实例</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,10736)" id="380" ed:width="49.375" ed:height="36" ed:parentid="119"><path d="M4,0L45.4,0C48.1,0,49.4,1.3,49.4,4L49.4,32C49.4,34.7,48.1,36,45.4,36L4,36C1.3,36,0,34.7,0,32L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st50"><tspan x="19" textLength="11" y="24">2</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,10781.75)" id="382" ed:width="517" ed:height="44" ed:parentid="380"><text class="st51"><tspan x="10" textLength="481" y="16">1、在进行任何已被管理的对象操作时都必须满足 [Object].isInvalidated == </tspan> <tspan x="10" textLength="32" y="36">false</tspan></text></g> <g transform="matrix(1,0,0,1,205.89,10835.5)" id="384" ed:width="32" ed:height="16" ed:parentid="382"><text class="st51"></text></g> <g transform="matrix(1,0,0,1,151.99,10861.25)" id="386" ed:width="517" ed:height="64" ed:parentid="380"><text class="st51"><tspan x="10" textLength="484" y="16">2、相同线程下的不同Realm实例事务操作不能够嵌套，因为这个时候即使新建</tspan> <tspan x="10" textLength="484" y="36">Realm实例，但其还是处于transition中，不同线程下的不同Realm实例是可以</tspan> <tspan x="10" textLength="42" y="56">嵌套的</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,10935)" id="388" ed:width="178.59375" ed:height="24" ed:parentid="380"><text class="st51"><tspan x="10" textLength="158" y="16">3、Realm不支持自增key</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,10968.75)" id="390" ed:width="517" ed:height="44" ed:parentid="380"><text class="st51"><tspan x="10" textLength="491" y="16">4、Realm查询到Results仅当真正访问的时候才会加载到内存当中，故Realm查</tspan> <tspan x="10" textLength="296" y="36">询并不支持limit，并且对数据加载到内存更友好</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,11022.5)" id="392" ed:width="517" ed:height="44" ed:parentid="380"><text class="st51"><tspan x="10" textLength="484" y="16">5、Realm查询结果是自更新的，亦即意味着在任意线程更新了数据，那么都将</tspan> <tspan x="10" textLength="140" y="36">会自动更新到查询结果</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,11099.5)" id="394" ed:width="49.375" ed:height="36" ed:parentid="119"><path d="M4,0L45.4,0C48.1,0,49.4,1.3,49.4,4L49.4,32C49.4,34.7,48.1,36,45.4,36L4,36C1.3,36,0,34.7,0,32L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st50"><tspan x="19" textLength="11" y="24">3</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,11145.25)" id="396" ed:width="328.515625" ed:height="24" ed:parentid="394"><text class="st51"><tspan x="10" textLength="308" y="16">1.类名称的长度最大只能存储 57 个 UTF8 字符。</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,11179)" id="398" ed:width="342.515625" ed:height="24" ed:parentid="394"><text class="st51"><tspan x="10" textLength="322" y="16">2.属性名称的长度最大只能支持 63 个 UTF8 字符。</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,11212.75)" id="400" ed:width="517" ed:height="84" ed:parentid="394"><text class="st51"><tspan x="10" textLength="498" y="16">3.NSData以及 NSString属性不能保存超过 16 MB 大小的数据。如果要存储大量</tspan> <tspan x="10" textLength="490" y="36">的数据，可通过将其分解为16MB 大小的块，或者直接存储在文件系统中，然后</tspan> <tspan x="10" textLength="489" y="56">将文件路径存储在 Realm 中。如果您的应用试图存储一个大于 16MB 的单一属</tspan> <tspan x="10" textLength="196" y="76">性，系统将在运行时抛出异常。</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,11306.5)" id="402" ed:width="517" ed:height="64" ed:parentid="394"><text class="st51"><tspan x="10" textLength="492" y="16">4.对字符串进行排序以及不区分大小写查询只支持“基础拉丁字符集”、“拉丁字符</tspan> <tspan x="10" textLength="489" y="36">补充集”、“拉丁文扩展字符集 A” 以及”拉丁文扩展字符集 B“（UTF-8 的范围在 </tspan> <tspan x="10" textLength="105" y="56">0~591 之间）。</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,11380.25)" id="404" ed:width="32" ed:height="16" ed:parentid="394"><text class="st51"></text></g> <g transform="matrix(1,0,0,1,151.99,11406)" id="406" ed:width="310.625" ed:height="24" ed:parentid="394"><text class="st51"><tspan x="10" textLength="290" y="16">6.Realm对象的 Setters &amp; Getters 不能被重载</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,11439.75)" id="408" ed:width="517" ed:height="84" ed:parentid="394"><text class="st51"><tspan x="10" textLength="498" y="16">因为 Realm 在底层数据库中重写了 setters 和 getters 方法，所以您不可以在您</tspan> <tspan x="10" textLength="484" y="36">的对象上再对其进行重写。一个简单的替代方法就是：创建一个新的 Realm 忽</tspan> <tspan x="10" textLength="494" y="56">略属性，该属性的访问起可以被重写， 并且可以调用其他的 getter 和 setter 方</tspan> <tspan x="10" textLength="28" y="76">法。</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,11533.5)" id="410" ed:width="164.859375" ed:height="24" ed:parentid="394"><text class="st51"><tspan x="10" textLength="144" y="16">7.文件大小 &amp; 版本跟踪</tspan></text></g> <g transform="matrix(1,0,0,1,205.89,11567.25)" id="412" ed:width="517" ed:height="64" ed:parentid="410"><text class="st51"><tspan x="10" textLength="485" y="16">一般来说 Realm 数据库比 SQLite 数据库在硬盘上占用的空间更少。如果您的 </tspan> <tspan x="10" textLength="484" y="36">Realm 文件大小超出了您的想象，这可能是因为您数据库中的 RLMRealm中包</tspan> <tspan x="10" textLength="112" y="56">含了旧版本数据。</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,11641)" id="414" ed:width="517" ed:height="124" ed:parentid="394"><text class="st51"><tspan x="10" textLength="494" y="16">为了使您的数据有相同的显示方式，Realm 只在循环迭代开始的时候才更新数据</tspan> <tspan x="10" textLength="484" y="36">版本。这意味着，如果您从 Realm 读取了一些数据并进行了在一个锁定的线程</tspan> <tspan x="10" textLength="484" y="56">中进行长时间的运行，然后在其他线程进行读写 Realm 数据库的话，那么版本</tspan> <tspan x="10" textLength="494" y="76">将不会被更新，Realm 将保存中间版本的数据，但是这些数据已经没有用了，这</tspan> <tspan x="10" textLength="490" y="96">导致了文件大小的增长。这部分空间会在下次写入操作时被重复利用。这些操作</tspan> <tspan x="10" textLength="297" y="116">可以通过调用writeCopyToPath:error:来实现。</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,11774.75)" id="416" ed:width="91" ed:height="24" ed:parentid="394"><text class="st51"><tspan x="10" textLength="70" y="16">解决办法：</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,11808.5)" id="418" ed:width="517" ed:height="64" ed:parentid="394"><text class="st51"><tspan x="10" textLength="488" y="16">通过调用invalidate，来告诉 Realm 您不再需要那些拷贝到 Realm 的数据了。</tspan> <tspan x="10" textLength="490" y="36">这可以使我们不必跟踪这些对象的中间版本。在下次出现新版本时，再进行版本</tspan> <tspan x="10" textLength="42" y="56">更新。</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,11882.25)" id="420" ed:width="517" ed:height="64" ed:parentid="394"><text class="st51"><tspan x="10" textLength="451" y="16">您可能在 Realm 使用Grand Central Dispatch时也发现了这个问题。在 </tspan> <tspan x="10" textLength="432" y="36">dispatch 结束后自动释放调度队列（dispatch queue）时，调度队列</tspan> <tspan x="10" textLength="342" y="56">（dispatch queue）没有随着程序释放。这造成了直到</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,11956)" id="422" ed:width="517" ed:height="64" ed:parentid="394"><text class="st51"><tspan x="10" textLength="484" y="16">RLMRealm 对象被释放后，Realm 中间版本的数据空间才会被再利用。为了避</tspan> <tspan x="10" textLength="444" y="36">免这个问题，您应该在 dispatch 队列中，使用一个显式的自动调度队列</tspan> <tspan x="10" textLength="146" y="56">（dispatch queue）。</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,12029.75)" id="424" ed:width="192.15625" ed:height="24" ed:parentid="394"><text class="st51"><tspan x="10" textLength="171" y="16">8.Realm 没有自动增长属性</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,12063.5)" id="426" ed:width="517" ed:height="64" ed:parentid="394"><text class="st51"><tspan x="10" textLength="487" y="16">Realm 没有线程/进程安全的自动增长属性机制，这在其他数据库中常常用来产</tspan> <tspan x="10" textLength="490" y="36">生主键。然而，在绝大多数情况下，对于主键来说，我们需要的是一个唯一的、</tspan> <tspan x="10" textLength="457" y="56">自动生成的值，因此没有必要使用顺序的、连续的、整数的 ID 作为主键。</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,12137.25)" id="428" ed:width="91" ed:height="24" ed:parentid="394"><text class="st51"><tspan x="10" textLength="70" y="16">解决办法：</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,12171)" id="430" ed:width="517" ed:height="44" ed:parentid="394"><text class="st51"><tspan x="10" textLength="490" y="16">在这种情况下，一个独一无二的字符串主键通常就能满足需求了。一个常见的模</tspan> <tspan x="10" textLength="359" y="36">式是将默认的属性值设置为 [[NSUUID UUID] UUIDString]</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,12224.75)" id="432" ed:width="207.9375" ed:height="24" ed:parentid="394"><text class="st51"><tspan x="10" textLength="187" y="16">以产生一个唯一的字符串 ID。</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,12258.5)" id="434" ed:width="517" ed:height="64" ed:parentid="394"><text class="st51"><tspan x="10" textLength="490" y="16">自动增长属性另一种常见的动机是为了维持插入之后的顺序。在某些情况下，这</tspan> <tspan x="10" textLength="459" y="36">可以通过向某个 RLMArray中添加对象，或者使用 [NSDate date]默认值的</tspan> <tspan x="10" textLength="107" y="56">createdAt属性。</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,12332.25)" id="436" ed:width="517" ed:height="44" ed:parentid="394"><text class="st51"><tspan x="10" textLength="491" y="16">9.所有的数据模型必须直接继承自RealmObject。这阻碍我们利用数据模型中的</tspan> <tspan x="10" textLength="112" y="36">任意类型的继承。</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,12386)" id="438" ed:width="517" ed:height="84" ed:parentid="394"><text class="st51"><tspan x="10" textLength="490" y="16">这一点也不算问题，我们只要自己在建立一个model就可以解决这个问题。自己</tspan> <tspan x="10" textLength="491" y="36">建立的model可以自己随意去继承，这个model专门用来接收网络数据，然后把</tspan> <tspan x="10" textLength="493" y="56">自己的这个model转换成要存储到表里面的model，即RLMObject对象。这样这</tspan> <tspan x="10" textLength="140" y="76">个问题也可以解决了。</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,12479.75)" id="440" ed:width="517" ed:height="44" ed:parentid="394"><text class="st51"><tspan x="10" textLength="494" y="16">Realm 允许模型能够生成更多的子类，也允许跨模型进行代码复用，但是由于某</tspan> <tspan x="10" textLength="485" y="36">些 Cocoa 特性使得运行时中丰富的类多态无法使用。以下是可以完成的操作：</tspan></text></g> <g transform="matrix(1,0,0,1,205.89,12533.5)" id="442" ed:width="371" ed:height="24" ed:parentid="440"><text class="st51"><tspan x="10" textLength="350" y="16">父类中的类方法，实例方法和属性可以被它的子类所继承</tspan></text></g> <g transform="matrix(1,0,0,1,205.89,12567.25)" id="444" ed:width="315" ed:height="24" ed:parentid="440"><text class="st51"><tspan x="10" textLength="294" y="16">子类中可以在方法以及函数中使用父类作为参数</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,12601)" id="446" ed:width="147" ed:height="24" ed:parentid="394"><text class="st51"><tspan x="10" textLength="126" y="16">以下是不能完成的：</tspan></text></g> <g transform="matrix(1,0,0,1,205.89,12634.75)" id="448" ed:width="517" ed:height="44" ed:parentid="446"><text class="st51"><tspan x="10" textLength="476" y="16">多态类之间的转换（例如子类转换成子类，子类转换成父类，父类转换成子类</tspan> <tspan x="10" textLength="28" y="36">等）</tspan></text></g> <g transform="matrix(1,0,0,1,205.89,12688.5)" id="450" ed:width="161" ed:height="24" ed:parentid="446"><text class="st51"><tspan x="10" textLength="140" y="16">同时对多个类进行检索</tspan></text></g> <g transform="matrix(1,0,0,1,205.89,12722.25)" id="452" ed:width="264.609375" ed:height="24" ed:parentid="446"><text class="st51"><tspan x="10" textLength="244" y="16">多类容器 (RLMArray以及 RLMResults)</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,12756)" id="454" ed:width="182.578125" ed:height="24" ed:parentid="394"><text class="st51"><tspan x="10" textLength="162" y="16">10.Realm不支持集合类型</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,12789.75)" id="456" ed:width="161" ed:height="24" ed:parentid="394"><text class="st51"><tspan x="10" textLength="140" y="16">这一点也是比较蛋疼。</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,12823.5)" id="458" ed:width="517" ed:height="64" ed:parentid="394"><text class="st51"><tspan x="10" textLength="467" y="16">Realm支持以下的属性类型：BOOL、bool、int、NSInteger、long、long </tspan> <tspan x="10" textLength="478" y="36">long、float、double、NSString、NSDate、NSData以及 被特殊类型标记的</tspan> <tspan x="10" textLength="447" y="56">NSNumber。CGFloat属性的支持被取消了，因为它不具备平台独立性。</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,12897.25)" id="460" ed:width="517" ed:height="104" ed:parentid="394"><text class="st51"><tspan x="10" textLength="473" y="16">这里就是不支持集合，比如说NSArray，NSMutableArray，NSDictionary，</tspan> <tspan x="10" textLength="496" y="36">NSMutableDictionary，NSSet，NSMutableSet。如果服务器传来的一个字典，</tspan> <tspan x="10" textLength="493" y="56">key是一个字符串，对应的value就是一个数组，这时候就想存储这个数组就比较</tspan> <tspan x="10" textLength="442" y="76">困难了。当然Realm里面是有集合的，就是RLMArray，这里面装的都是</tspan> <tspan x="10" textLength="86" y="96">RLMObject。</tspan></text></g> <g transform="matrix(1,0,0,1,151.99,13011)" id="462" ed:width="517" ed:height="64" ed:parentid="394"><text class="st51"><tspan x="10" textLength="490" y="16">所以我们想解决这个问题，就需要把数据里面的东西都取出来，如果是model，</tspan> <tspan x="10" textLength="487" y="36">就先自己接收一下，然后转换成RLMObject的model，再存储到RLMArray里面</tspan> <tspan x="10" textLength="252" y="56">去，这样转换一遍，还是可以的做到的。</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,13108)" id="464" ed:width="74" ed:height="40" ed:parentid="119"><path d="M4,0L70,0C72.7,0,74,1.3,74,4L74,36C74,38.7,72.7,40,70,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st50"><tspan x="19" textLength="36" y="24">使用</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,13157.75)" id="467" ed:width="105" ed:height="24" ed:parentid="464"><text class="st51"><tspan x="10" textLength="84" y="16">常用基本操作</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,13198.5)" id="469" ed:width="517" ed:height="1282" ed:parentid="464"><text class="st51"><tspan x="10" textLength="278" y="16">/// 初始化一个Realm实例，将采用默认配置</tspan> <tspan x="10" textLength="161" y="36">var realm = try! Realm()</tspan> <tspan x="10" textLength="175" y="70">/// add 添加/更新一个对象</tspan> <tspan x="10" textLength="154" y="90">let student = Student()</tspan> <tspan x="10" textLength="202" y="107">student.idCard = &quot;20191120&quot;</tspan> <tspan x="10" textLength="114" y="124">try? realm.write {</tspan> <tspan x="10" textLength="499" y="141">    // 当update=true时，必须要求Object的subclass实现override static func </tspan> <tspan x="10" textLength="154" y="161">primaryKey() -&gt; String</tspan> <tspan x="10" textLength="239" y="181">    realm.add(student, update: true)</tspan> <tspan x="10" textLength="5" y="198">}</tspan> <tspan x="10" textLength="33" y="215">// or</tspan> <tspan x="10" textLength="125" y="232">realm.beginWrite()</tspan> <tspan x="10" textLength="221" y="249">realm.add(student, update: true)</tspan> <tspan x="10" textLength="166" y="266">try? realm.commitWrite()</tspan> <tspan x="10" textLength="54" y="300">/// 查询</tspan> <tspan x="10" textLength="269" y="320">let results = realm.objects(Student.self)</tspan> <tspan x="10" textLength="313" y="337">print(&quot;Basisc   query  results: \(results.count)&quot;)</tspan> <tspan x="10" textLength="145" y="371">// 还可以进行链式操作</tspan> <tspan x="10" textLength="365" y="391">let results0 = results.filter(&quot;idCard=%@&quot;, &quot;20191120&quot;)</tspan> <tspan x="10" textLength="257" y="425">// 如果设置了主键还可以查询指定的对象</tspan> <tspan x="10" textLength="469" y="445">let queryStudent = realm.object(ofType: Student.self, forPrimaryKey: </tspan> <tspan x="10" textLength="86" y="462">&quot;20191120&quot;)</tspan> <tspan x="10" textLength="307" y="479">print(&quot;Basisc  query  object: \(queryStudent)&quot;)</tspan> <tspan x="10" textLength="208" y="513">/// 删除一个对象或者一系列对象</tspan> <tspan x="10" textLength="163" y="533">let student1 = Student()</tspan> <tspan x="10" textLength="211" y="550">student1.idCard = &quot;20191121&quot;</tspan> <tspan x="10" textLength="114" y="567">try? realm.write {</tspan> <tspan x="10" textLength="247" y="584">    realm.add(student1, update: true)</tspan> <tspan x="10" textLength="5" y="601">}</tspan> <tspan x="10" textLength="412" y="618">print(&quot;Basisc   delete  before  results count: \(results.count)&quot;)</tspan> <tspan x="10" textLength="415" y="635">let results1 = realm.objects(Student.self).filter(&quot;idCard=%@&quot;, </tspan> <tspan x="10" textLength="86" y="652">&quot;20191121&quot;)</tspan> <tspan x="10" textLength="114" y="669">try? realm.write {</tspan> <tspan x="10" textLength="166" y="686">    realm.delete(results1)</tspan> <tspan x="10" textLength="5" y="703">}</tspan> <tspan x="10" textLength="488" y="720">print(&quot;Basisc   delete  after  results count: \(results.count)&quot;)   // 可以看出</tspan> <tspan x="10" textLength="158" y="740">results结果实现了自更新</tspan> <tspan x="10" textLength="103" y="777">// 当然你也可以</tspan> <tspan x="10" textLength="129" y="797">//try? realm.write {</tspan> <tspan x="10" textLength="186" y="814">//    realm.delete(student1)</tspan> <tspan x="10" textLength="19" y="831">//}</tspan> <tspan x="10" textLength="213" y="865">/// 多对多的使用,多对一或一对一</tspan> <tspan x="10" textLength="204" y="885">/// 请看Student的：books属性</tspan> <tspan x="10" textLength="118" y="905">let book = Book()</tspan> <tspan x="10" textLength="80" y="922">book.id = 1</tspan> <tspan x="10" textLength="134" y="939">book.name = &quot;语文&quot;</tspan> <tspan x="10" textLength="127" y="959">let book1 = Book()</tspan> <tspan x="10" textLength="89" y="976">book1.id = 2</tspan> <tspan x="10" textLength="134" y="993">book.name = &quot;数学&quot;</tspan> <tspan x="10" textLength="114" y="1013">try? realm.write {</tspan> <tspan x="10" textLength="221" y="1030">    realm.add(book, update: true)</tspan> <tspan x="10" textLength="230" y="1047">    realm.add(book1, update: true)</tspan> <tspan x="10" textLength="213" y="1064">    student.books.append(book)</tspan> <tspan x="10" textLength="222" y="1081">    student.books.append(book1)</tspan> <tspan x="10" textLength="5" y="1098">}</tspan> <tspan x="10" textLength="441" y="1115">print(&quot;Basisc   Many-to-Many  Many-to-One:   \(student.books)&quot;)</tspan> <tspan x="10" textLength="485" y="1149">/// inverse 关系，什么时候我们会用到这种反转的关系呢？当一个东西拥有多</tspan> <tspan x="10" textLength="448" y="1169">个关联持有者是，我们希望知道他的持有者是谁，那么这个时候就有必要</tspan> <tspan x="10" textLength="197" y="1189">/// 请看Book的：owners 属性</tspan> <tspan x="10" textLength="210" y="1209">DispatchQueue.global().async {</tspan> <tspan x="10" textLength="485" y="1226">    let book = (try! Realm()).object(ofType: Book.self, forPrimaryKey: &quot;1&quot;)</tspan> <tspan x="10" textLength="400" y="1243">    print(&quot;Basisc   Many-to-Many  Many-to-One  inverse:   \</tspan> <tspan x="10" textLength="138" y="1260">(book.owners.first)&quot;)</tspan> <tspan x="10" textLength="5" y="1277">}</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,14520.5)" id="471" ed:width="123.3125" ed:height="40" ed:parentid="119"><path d="M4,0L119.3,0C122,0,123.3,1.3,123.3,4L123.3,36C123.3,38.7,122,40,119.3,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st50"><tspan x="19" textLength="85" y="24">realm原理</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,14570.25)" id="473" ed:width="517" ed:height="44" ed:parentid="471"><text class="st51"><tspan x="10" textLength="493" y="16">Realm 是一个 MVCC 数据库 ，底层是用 C++ 编写的。MVCC 指的是多版本并</tspan> <tspan x="10" textLength="42" y="36">发控制</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,14624)" id="475" ed:width="459.125" ed:height="24" ed:parentid="471"><text class="st51"><tspan x="10" textLength="438" y="16">可以把 Realm 的内部想象成一个 Git，它也有分支和原子化的提交操作</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,14657.75)" id="477" ed:width="517" ed:height="64" ed:parentid="471"><text class="st51"><tspan x="10" textLength="487" y="16">Realm是满足ACID的。原子性（Atomicity）、一致性（Consistency）、隔离</tspan> <tspan x="10" textLength="498" y="36">性（Isolation）、持久性（Durability）。一个支持事务（Transaction）的数据</tspan> <tspan x="10" textLength="293" y="56">库，必需要具有这四种特性。Realm都已经满足</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,14731.5)" id="479" ed:width="123.421875" ed:height="24" ed:parentid="471"><text class="st51"><tspan x="10" textLength="102" y="16">传统加锁缺点 ：</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,14765.25)" id="481" ed:width="517" ed:height="44" ed:parentid="479"><text class="st51"><tspan x="10" textLength="484" y="16">在写操作完成之前，所有的读操作都会被阻塞。这就是众所周知的读-写锁。这</tspan> <tspan x="10" textLength="84" y="36">常常都会很慢</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,14819)" id="483" ed:width="131.53125" ed:height="24" ed:parentid="471"><text class="st51"><tspan x="10" textLength="111" y="16">MVCC并非优点：</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,14852.75)" id="485" ed:width="376.390625" ed:height="24" ed:parentid="483"><text class="st51"><tspan x="10" textLength="355" y="16">无需加锁，像Git一样支持备份，一旦成功后才会修改数据</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,14886.5)" id="487" ed:width="179.640625" ed:height="24" ed:parentid="471"><text class="st51"><tspan x="10" textLength="159" y="16">Realm底层是B+树实现的</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,14920.25)" id="489" ed:width="517" ed:height="44" ed:parentid="487"><text class="st51"><tspan x="10" textLength="489" y="16">Realm会让每一个连接的线程都会有数据在一个特定时刻的快照。这也是为什么</tspan> <tspan x="10" textLength="476" y="36">能够在上百个线程中做大量的操作并同时访问数据库，却不会发生崩溃的原因</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,14974)" id="491" ed:width="32" ed:height="16" ed:parentid="471"><text class="st51"></text></g> <g transform="matrix(1,0,0,1,197.2,14999.75)" id="493" ed:width="189" ed:height="24" ed:parentid="491"><text class="st51"><tspan x="10" textLength="168" y="16">左图是一个数据插入过程：</tspan></text></g> <g transform="matrix(1,0,0,1,197.2,15033.5)" id="495" ed:width="517" ed:height="44" ed:parentid="491"><text class="st51"><tspan x="10" textLength="488" y="16">第二个阶段保持V1不动， 关联上新的数据V2，如果不成功，删除新增，不影响</tspan> <tspan x="10" textLength="70" y="36">正常数据，</tspan></text></g> <g transform="matrix(1,0,0,1,197.2,15087.25)" id="497" ed:width="192.984375" ed:height="24" ed:parentid="491"><text class="st51"><tspan x="10" textLength="172" y="16">如果成了，V2变成正式数据</tspan></text></g> <g transform="matrix(1,0,0,1,197.2,15121)" id="499" ed:width="175" ed:height="24" ed:parentid="491"><text class="st51"><tspan x="10" textLength="154" y="16">整个过程完全不需要加锁</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,15178)" id="501" ed:width="205.6875" ed:height="40" ed:parentid="119"><path d="M4,0L201.7,0C204.4,0,205.7,1.3,205.7,4L205.7,36C205.7,38.7,204.4,40,201.7,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st50"><tspan x="19" textLength="168" y="24">传统的数据库操作 ：</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,15227.75)" id="503" ed:width="517" ed:height="84" ed:parentid="501"><text class="st51"><tspan x="10" textLength="486" y="16">一系列的SQL语句 -&gt; 创建一个数据库连接 -&gt; 服务器收到请求 -&gt; SQL语句进</tspan> <tspan x="10" textLength="492" y="36">行词法和语法语义分析  -&gt; SQL语句进行优化  -&gt; 查询  -&gt; 读取磁盘的数据(有</tspan> <tspan x="10" textLength="495" y="56">索引则先读索引) -&gt; 存到内存里（这里有内存消耗）-&gt;  把数据序列化成可在内</tspan> <tspan x="10" textLength="482" y="76">存里面存储的格式 -&gt; 转换成语言层面的类型  -&gt; 以对象的形式返回（oc等）</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,15344.75)" id="505" ed:width="223.015625" ed:height="40" ed:parentid="119"><path d="M4,0L219,0C221.7,0,223,1.3,223,4L223,36C223,38.7,221.7,40,219,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st50"><tspan x="19" textLength="185" y="24">Realm的数据库查询 ：</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,15394.5)" id="507" ed:width="517" ed:height="64" ed:parentid="505"><text class="st51"><tspan x="10" textLength="498" y="16">正是Realm采用了 zero-copy 架构，几乎没有内存开销，Realm核心文件格式基</tspan> <tspan x="10" textLength="496" y="36">于memory-mapped，节约了大量的序列化和反序列化的开销，导致了Realm获</tspan> <tspan x="10" textLength="140" y="56">取对象的速度特别高效</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,15468.25)" id="509" ed:width="517" ed:height="104" ed:parentid="505"><text class="st51"><tspan x="10" textLength="496" y="16">Realm的数据库文件是通过memory-mapped，也就是说数据库文件本身是映射</tspan> <tspan x="10" textLength="485" y="36">到内存(实际上是虚拟内存)中的，Realm访问文件偏移就好比文件已经在内存中</tspan> <tspan x="10" textLength="485" y="56">一样(这里的内存是指虚拟内存)，它允许文件在没有做反序列化的情况下直接从</tspan> <tspan x="10" textLength="480" y="76">内存读取，提高了读取效率。Realm 只需要简单地计算偏移来找到文件中的数</tspan> <tspan x="10" textLength="270" y="96">据，然后从原始访问点返回数据结构的值 。</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,15582)" id="511" ed:width="385" ed:height="24" ed:parentid="505"><text class="st51"><tspan x="10" textLength="364" y="16">默认不能跨线程访问，这样也是查询效率更高的原因之一，</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,15639)" id="513" ed:width="154.265625" ed:height="36" ed:parentid="119"><path d="M4,0L150.3,0C153,0,154.3,1.3,154.3,4L154.3,32C154.3,34.7,153,36,150.3,36L4,36C1.3,36,0,34.7,0,32L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st50"><tspan x="19" textLength="116" y="24">Database File</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,15684.75)" id="515" ed:width="517" ed:height="44" ed:parentid="513"><text class="st51"><tspan x="10" textLength="484" y="16">.realm 文件是memory mapped的，所有的对象都是文件首地址偏移量的一个</tspan> <tspan x="10" textLength="428" y="36">引用。对象的存储不一定是连续的，但是Array可以保证是连续存储。</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,15738.5)" id="517" ed:width="517" ed:height="44" ed:parentid="513"><text class="st51"><tspan x="10" textLength="491" y="16">.realm执行写操作的时候，有3个指针，一个是*current top pointer ，一个是 </tspan> <tspan x="10" textLength="295" y="36">other top pointer ，最后一个是 switch bit*。</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,15792.25)" id="519" ed:width="517" ed:height="44" ed:parentid="513"><text class="st51"><tspan x="10" textLength="487" y="16">.lock文件中会包含 the shared group 的metadata。这个文件承担着允许多线</tspan> <tspan x="10" textLength="195" y="36">程访问相同的Realm对象的职责</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,15846)" id="521" ed:width="158.71875" ed:height="21" ed:parentid="513"><text class="st51"><tspan x="10" textLength="138" y="16">Commit logs history</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,15876.75)" id="523" ed:width="517" ed:height="44" ed:parentid="521"><text class="st51"><tspan x="10" textLength="491" y="16">这个文件会用来更新索引indexes，会用来同步。里面主要维护了3个小文件，2</tspan> <tspan x="10" textLength="293" y="36">个是数据相关的，1个是操作management的。</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,15953.75)" id="525" ed:width="49" ed:height="26" ed:parentid="119"><text class="st50"></text></g></svg></div> <div id="copyright">Created With  <a href="https://www.edrawsoft.com/" target="_blank" title="edrawsoft">MindMaster</a></div></div></div></body></html></div></div> <!----> <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/9d8ba7/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">RAC</div></a> <a href="/pages/2d407c/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Git使用1</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/9d8ba7/" class="prev">RAC</a></span> <span class="next"><a href="/pages/2d407c/">Git使用1</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> <!----></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a3b82193.js" defer></script><script src="/assets/js/2.d54d51d6.js" defer></script><script src="/assets/js/60.f4e5d65c.js" defer></script>
  </body>
</html>
