<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>NSNotification | 知识导图</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/images/hlogo.png">
    <meta name="description" content="复杂的知识体系需要一套精简的知识导图作参考和索引">
    
    <link rel="preload" href="/assets/css/0.styles.3623805a.css" as="style"><link rel="preload" href="/assets/js/app.a3b82193.js" as="script"><link rel="preload" href="/assets/js/2.d54d51d6.js" as="script"><link rel="preload" href="/assets/js/14.aecfb713.js" as="script"><link rel="prefetch" href="/assets/js/10.8a22e577.js"><link rel="prefetch" href="/assets/js/100.cc228644.js"><link rel="prefetch" href="/assets/js/101.7abd20dc.js"><link rel="prefetch" href="/assets/js/102.b6e8bb4c.js"><link rel="prefetch" href="/assets/js/103.b6924ad1.js"><link rel="prefetch" href="/assets/js/104.18b70194.js"><link rel="prefetch" href="/assets/js/105.b53d4947.js"><link rel="prefetch" href="/assets/js/106.2a3ab6f4.js"><link rel="prefetch" href="/assets/js/107.9bbdee8b.js"><link rel="prefetch" href="/assets/js/108.1dfb122b.js"><link rel="prefetch" href="/assets/js/109.6846811d.js"><link rel="prefetch" href="/assets/js/11.a6f160f2.js"><link rel="prefetch" href="/assets/js/110.22a16287.js"><link rel="prefetch" href="/assets/js/111.17984dbd.js"><link rel="prefetch" href="/assets/js/112.34e2f17a.js"><link rel="prefetch" href="/assets/js/113.d82efdcb.js"><link rel="prefetch" href="/assets/js/114.9fde6014.js"><link rel="prefetch" href="/assets/js/115.cdd3228d.js"><link rel="prefetch" href="/assets/js/116.be9ef65c.js"><link rel="prefetch" href="/assets/js/117.363a96c3.js"><link rel="prefetch" href="/assets/js/118.a4f8ace2.js"><link rel="prefetch" href="/assets/js/119.70cc87db.js"><link rel="prefetch" href="/assets/js/12.cbfb0fc9.js"><link rel="prefetch" href="/assets/js/120.db74bc46.js"><link rel="prefetch" href="/assets/js/121.ce530bb2.js"><link rel="prefetch" href="/assets/js/122.f7281237.js"><link rel="prefetch" href="/assets/js/123.a1463c2b.js"><link rel="prefetch" href="/assets/js/124.e5ec8e65.js"><link rel="prefetch" href="/assets/js/125.9259e07e.js"><link rel="prefetch" href="/assets/js/126.ae0b9c8f.js"><link rel="prefetch" href="/assets/js/127.addf2c23.js"><link rel="prefetch" href="/assets/js/128.1fcd1bad.js"><link rel="prefetch" href="/assets/js/129.2a238421.js"><link rel="prefetch" href="/assets/js/13.a823d506.js"><link rel="prefetch" href="/assets/js/130.1b40f524.js"><link rel="prefetch" href="/assets/js/131.3c21c521.js"><link rel="prefetch" href="/assets/js/132.8744c310.js"><link rel="prefetch" href="/assets/js/133.48f94fe7.js"><link rel="prefetch" href="/assets/js/134.7babdd28.js"><link rel="prefetch" href="/assets/js/135.5f439c4c.js"><link rel="prefetch" href="/assets/js/136.6e01bdd7.js"><link rel="prefetch" href="/assets/js/137.893e6aa8.js"><link rel="prefetch" href="/assets/js/138.17f3c475.js"><link rel="prefetch" href="/assets/js/139.48316f10.js"><link rel="prefetch" href="/assets/js/140.3bce8a59.js"><link rel="prefetch" href="/assets/js/141.ac4af52b.js"><link rel="prefetch" href="/assets/js/142.dfd46f83.js"><link rel="prefetch" href="/assets/js/143.6589a0c8.js"><link rel="prefetch" href="/assets/js/144.066151c0.js"><link rel="prefetch" href="/assets/js/145.80abd027.js"><link rel="prefetch" href="/assets/js/146.0d332ab5.js"><link rel="prefetch" href="/assets/js/147.b32f6964.js"><link rel="prefetch" href="/assets/js/148.7ac200d7.js"><link rel="prefetch" href="/assets/js/149.4803c8c0.js"><link rel="prefetch" href="/assets/js/15.61f5a6c0.js"><link rel="prefetch" href="/assets/js/150.2c7c07fc.js"><link rel="prefetch" href="/assets/js/151.630d6b69.js"><link rel="prefetch" href="/assets/js/152.23af7a3c.js"><link rel="prefetch" href="/assets/js/16.d8b31f9a.js"><link rel="prefetch" href="/assets/js/17.35dc5655.js"><link rel="prefetch" href="/assets/js/18.4ebff7a9.js"><link rel="prefetch" href="/assets/js/19.3f19dfee.js"><link rel="prefetch" href="/assets/js/20.4ffdcd8d.js"><link rel="prefetch" href="/assets/js/21.1d888fc6.js"><link rel="prefetch" href="/assets/js/22.33c08924.js"><link rel="prefetch" href="/assets/js/23.3364477d.js"><link rel="prefetch" href="/assets/js/24.936f00d5.js"><link rel="prefetch" href="/assets/js/25.8392ddfe.js"><link rel="prefetch" href="/assets/js/26.405fd225.js"><link rel="prefetch" href="/assets/js/27.426c5ae4.js"><link rel="prefetch" href="/assets/js/28.7f9e34eb.js"><link rel="prefetch" href="/assets/js/29.41787567.js"><link rel="prefetch" href="/assets/js/3.13bef712.js"><link rel="prefetch" href="/assets/js/30.3ae460e5.js"><link rel="prefetch" href="/assets/js/31.37e76399.js"><link rel="prefetch" href="/assets/js/32.bc515f29.js"><link rel="prefetch" href="/assets/js/33.bf14a655.js"><link rel="prefetch" href="/assets/js/34.313e9482.js"><link rel="prefetch" href="/assets/js/35.3e1ae712.js"><link rel="prefetch" href="/assets/js/36.48420051.js"><link rel="prefetch" href="/assets/js/37.26dbb304.js"><link rel="prefetch" href="/assets/js/38.924c0e9e.js"><link rel="prefetch" href="/assets/js/39.2146d9ae.js"><link rel="prefetch" href="/assets/js/4.dd3209f8.js"><link rel="prefetch" href="/assets/js/40.7b101de0.js"><link rel="prefetch" href="/assets/js/41.24328cd3.js"><link rel="prefetch" href="/assets/js/42.d6f38887.js"><link rel="prefetch" href="/assets/js/43.ac158bd8.js"><link rel="prefetch" href="/assets/js/44.b5bd3608.js"><link rel="prefetch" href="/assets/js/45.e77d9e70.js"><link rel="prefetch" href="/assets/js/46.f94a51d4.js"><link rel="prefetch" href="/assets/js/47.da7bde79.js"><link rel="prefetch" href="/assets/js/48.0e0d5197.js"><link rel="prefetch" href="/assets/js/49.3489ec61.js"><link rel="prefetch" href="/assets/js/5.020fa441.js"><link rel="prefetch" href="/assets/js/50.1554b72f.js"><link rel="prefetch" href="/assets/js/51.b4c4b861.js"><link rel="prefetch" href="/assets/js/52.af633457.js"><link rel="prefetch" href="/assets/js/53.28863e5c.js"><link rel="prefetch" href="/assets/js/54.9aea4fbe.js"><link rel="prefetch" href="/assets/js/55.38d2a213.js"><link rel="prefetch" href="/assets/js/56.a27b3256.js"><link rel="prefetch" href="/assets/js/57.361ac458.js"><link rel="prefetch" href="/assets/js/58.e4a26ef7.js"><link rel="prefetch" href="/assets/js/59.05257860.js"><link rel="prefetch" href="/assets/js/6.c9a8bc8e.js"><link rel="prefetch" href="/assets/js/60.f4e5d65c.js"><link rel="prefetch" href="/assets/js/61.9b891674.js"><link rel="prefetch" href="/assets/js/62.1ee8e952.js"><link rel="prefetch" href="/assets/js/63.1daec703.js"><link rel="prefetch" href="/assets/js/64.9c90ddbd.js"><link rel="prefetch" href="/assets/js/65.1b84d085.js"><link rel="prefetch" href="/assets/js/66.cb21a958.js"><link rel="prefetch" href="/assets/js/67.efabaa6b.js"><link rel="prefetch" href="/assets/js/68.19cb5e02.js"><link rel="prefetch" href="/assets/js/69.e9c9d828.js"><link rel="prefetch" href="/assets/js/7.e7700faf.js"><link rel="prefetch" href="/assets/js/70.5bea1e15.js"><link rel="prefetch" href="/assets/js/71.f03111f5.js"><link rel="prefetch" href="/assets/js/72.5ce65e3a.js"><link rel="prefetch" href="/assets/js/73.8c39c276.js"><link rel="prefetch" href="/assets/js/74.48ea60a1.js"><link rel="prefetch" href="/assets/js/75.53910406.js"><link rel="prefetch" href="/assets/js/76.f5945432.js"><link rel="prefetch" href="/assets/js/77.1c4c2504.js"><link rel="prefetch" href="/assets/js/78.bfd2cdaa.js"><link rel="prefetch" href="/assets/js/79.f79279f8.js"><link rel="prefetch" href="/assets/js/8.8776466b.js"><link rel="prefetch" href="/assets/js/80.4a09494e.js"><link rel="prefetch" href="/assets/js/81.b487df66.js"><link rel="prefetch" href="/assets/js/82.e2240ff4.js"><link rel="prefetch" href="/assets/js/83.7f7b6b02.js"><link rel="prefetch" href="/assets/js/84.b632e4dc.js"><link rel="prefetch" href="/assets/js/85.58083699.js"><link rel="prefetch" href="/assets/js/86.93c62768.js"><link rel="prefetch" href="/assets/js/87.f478666a.js"><link rel="prefetch" href="/assets/js/88.7ce3bad8.js"><link rel="prefetch" href="/assets/js/89.2f450387.js"><link rel="prefetch" href="/assets/js/9.89748a59.js"><link rel="prefetch" href="/assets/js/90.3e9b2927.js"><link rel="prefetch" href="/assets/js/91.8dea6bec.js"><link rel="prefetch" href="/assets/js/92.096d05e5.js"><link rel="prefetch" href="/assets/js/93.5324e5df.js"><link rel="prefetch" href="/assets/js/94.54b2cc7f.js"><link rel="prefetch" href="/assets/js/95.d1e94a4f.js"><link rel="prefetch" href="/assets/js/96.524c78ac.js"><link rel="prefetch" href="/assets/js/97.202c075a.js"><link rel="prefetch" href="/assets/js/98.fcfc6ecb.js"><link rel="prefetch" href="/assets/js/99.b6547cdd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3623805a.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo2.png" alt="知识导图" class="logo"> <span class="site-name can-hide">知识导图</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/7004ee/" class="nav-link">iOS知识</a></div><div class="nav-item"><a href="/pages/603316/" class="nav-link">计算机软件</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友情链接" class="dropdown-title"><!----> <span class="title" style="display:;">友情链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.52im.net/index.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  即时通讯网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://zhuanlan.zhihu.com/p/409277420" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发常用网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/7004ee/" class="nav-link">iOS知识</a></div><div class="nav-item"><a href="/pages/603316/" class="nav-link">计算机软件</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友情链接" class="dropdown-title"><!----> <span class="title" style="display:;">友情链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.52im.net/index.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  即时通讯网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://zhuanlan.zhihu.com/p/409277420" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发常用网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>OC知识笔记(标清版)</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>iOS开发-上篇</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/3468b2/" class="sidebar-link">iOS基础概念1</a></li><li><a href="/pages/f24718/" class="sidebar-link">iOS基础概念2</a></li><li><a href="/pages/a9a1f9/" class="sidebar-link">iOS基础概念3</a></li><li><a href="/pages/9dcce5/" class="sidebar-link">iOS基础概念4</a></li><li><a href="/pages/51a1f9/" class="sidebar-link">数据结构</a></li><li><a href="/pages/708e5f/" class="sidebar-link">数据存储</a></li><li><a href="/pages/6100b0/" class="sidebar-link">Class</a></li><li><a href="/pages/f90c56/" class="sidebar-link">self&amp;super</a></li><li><a href="/pages/0ea576/" class="sidebar-link">Category</a></li><li><a href="/pages/543ec0/" class="sidebar-link">Rntime</a></li><li><a href="/pages/49f790/" class="sidebar-link">Runloop</a></li><li><a href="/pages/4a4a26/" class="sidebar-link">NSThread</a></li><li><a href="/pages/52897e/" class="sidebar-link">AutoreleasePool</a></li><li><a href="/pages/961a0c/" class="sidebar-link">NSOperation</a></li><li><a href="/pages/ced13b/" aria-current="page" class="active sidebar-link">NSNotification</a></li><li><a href="/pages/e2922b/" class="sidebar-link">KVO</a></li><li><a href="/pages/64054d/" class="sidebar-link">KVC</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>iOS开发-中篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>iOS开发-下篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>iOS开发-三方库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>iOS开发-工具</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>OC知识笔记(高清版)</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>iOS开发</span></li><li data-v-06225672><span data-v-06225672>OC知识笔记(标清版)</span></li><li data-v-06225672><span data-v-06225672>iOS开发-上篇</span></li></ul> <div class="info" data-v-06225672><!----> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-05-14</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><!----> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">NSNotification<!----></h1> <!----> <div class="theme-vdoing-content content__default"><html><head><meta charset="utf-8"> <meta content="IE=edge" http-equiv="X-UA-Compatible"> <title>iOS开发-上篇-2022</title> <style>
        body{
            margin: 0;
        }
        #content-info{
            width: auto;
            margin: 0 auto;
            text-align: center;
        }
        #author-info{
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
        }
        #title{
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
            padding-top: 10px;
            margin-bottom: 2px;
            font-size: 34px;
            color: #505050;
        }
        .text{
            white-space:nowrap;
            text-overflow: ellipsis;
            display: inline-block;
            margin-right: 20px;
            margin-bottom: 2px;
            font-size: 20px;
            color: #8c8c8c;
        }
        #navBar{
            width: auto;
            height: auto;
            position: fixed;
            right:0;
            bottom: 0;
            background-color: #f0f3f4;
            overflow-y: auto;
            text-align: center;
        }
        #svg-container{
            width: 100%;
            overflow-x: scroll;
            min-width: 0px;
            margin: 0 10px;
            overflow: visible;
            position: relative;
        }
        #nav-thumbs{
            overflow-y: scroll;
            padding: 0 5px;
        }
        .nav-thumb{
            position: relative;
            margin: 10px auto;
        }
        .nav-thumb &gt;p{
            text-align: center;
            font-size: 12px;
            margin: 4px 0 0 0;
        }
        .nav-thumb &gt;div{
            position: relative;
            display: inline-block;
            border: 1px solid #c6cfd5;
        }
        .nav-thumb img{
            display: block;
        }
        #main-content{
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #ffffff;
            display: flex;
            height: auto;
            flex-flow: row wrap;
            text-align:center;
        }
        #svg-container &gt;svg{
            overflow: visible;
            display: block;
            margin:5px auto;
            margin-bottom: 5px;
        }
        #copyright{
            bottom: 0;
            left: 50%;
            margin: 5px auto;
            font-size: 16px;
            color: #515151;
        }
        #copyright &gt;a{
            text-decoration: none;
            color: #77C;
        }
        .number{
            position: absolute;
            top:0;
            left:0;
            border-top:22px solid #08a1ef;
            border-right: 22px solid transparent;
        }
        .pagenum{
            font-size: 12px;
            color: #fff;
            position: absolute;
            top: -23px;
            left: 2px;
        }
            #navBar::-webkit-scrollbar{
            width: 8px;
            background-color: #f5f5f5;
        }
            #navBar::-webkit-scrollbar-track{
            -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,.3);
            border-radius: 8px;
            background-color: #fff;
        }
            #navBar::-webkit-scrollbar-thumb{
            border-radius: 8px;
            -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,.3);
            background-color: #6b6b70;
        }
        #navBar::-webkit-scrollbar-thumb:hover{
            background-color: #4a4a4f;
        }
</style></head> <body><div id="main-area"><div id="main-content"><div id="svg-container"><svg preserveAspectRadio="xMinYMin meet" xmlns:xlink="http://www.w3.org/1999/xlink" ed:name="NSNotification" ed:vSpacing="30" viewBox="0 0 805 5973" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns="http://www.w3.org/2000/svg" height="6040" xmlns:ed="https://www.edrawsoft.cn/xml/2017/SVGExtensions/" ed:hSpacing="30" width="805" id="page14"><style type="text/css">&lt;![CDATA[
g[ed\:togtopicid],g[ed\:hyperlink],g[ed\:comment],g[ed\:note] {cursor:pointer;}
g[id] {-moz-user-select: none;-ms-user-select: none;user-select: none;}
svg text::selection,svg tspan::selection{background-color: #4285f4;color: #ffffff;fill: #ffffff;}
.st35 {fill:#141414;font-family:微软雅黑;font-size:10.5pt}
.st33 {fill:#4caf50;font-family:微软雅黑;font-size:12pt;font-weight:bold}
.st36 {fill:#666666;font-family:Microsoft YaHei;font-size:9px}
.st34 {fill:#ffffff;font-family:微软雅黑;font-size:13.5pt}
]]&gt;</style> <defs></defs> <rect x="0" y="0" fill="#ffffff" height="6040" width="805"></rect> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,410C531,415.4,528.4,418,523,418L8,418C2.6,418,0,415.4,0,410L0,8C0,2.6,2.6,0,8,0z" stroke="#4caf50" stroke-dasharray="5,2" ed:idlist="128" stroke-width="2" transform="matrix(1,0,0,1,155.3,460)" ed:type="boundary" ed:parentid="128" stroke-linejoin="round" fill-opacity="0.2" fill="#4caf50" id="127"></path> <path d="M8,0L462.9,0C468.3,0,470.9,2.6,470.9,8L470.9,257C470.9,262.4,468.3,265,462.9,265L8,265C2.6,265,0,262.4,0,257L0,8C0,2.6,2.6,0,8,0z" stroke="#4caf50" stroke-dasharray="5,2" ed:idlist="193" stroke-width="2" transform="matrix(1,0,0,1,209.2,2389.25)" ed:type="boundary" ed:parentid="193" stroke-linejoin="round" fill-opacity="0.2" fill="#4caf50" id="190"></path> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,158C531,163.4,528.4,166,523,166L8,166C2.6,166,0,163.4,0,158L0,8C0,2.6,2.6,0,8,0z" stroke="#4caf50" stroke-dasharray="5,2" ed:idlist="277" stroke-width="2" transform="matrix(1,0,0,1,209.2,3583.75)" ed:type="boundary" ed:parentid="277" stroke-linejoin="round" fill-opacity="0.2" fill="#4caf50" id="276"></path> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,332C531,337.4,528.4,340,523,340L8,340C2.6,340,0,337.4,0,332L0,8C0,2.6,2.6,0,8,0z" stroke="#4caf50" stroke-dasharray="5,2" ed:idlist="308" stroke-width="2" transform="matrix(1,0,0,1,209.2,4408.25)" ed:type="boundary" ed:parentid="308" stroke-linejoin="round" fill-opacity="0.2" fill="#4caf50" id="303"></path> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,204C531,209.4,528.4,212,523,212L8,212C2.6,212,0,209.4,0,204L0,8C0,2.6,2.6,0,8,0z" stroke="#4caf50" stroke-dasharray="5,2" ed:idlist="319" stroke-width="2" transform="matrix(1,0,0,1,209.2,4951)" ed:type="boundary" ed:parentid="319" stroke-linejoin="round" fill-opacity="0.2" fill="#4caf50" id="318"></path> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,189C531,194.4,528.4,197,523,197L8,197C2.6,197,0,194.4,0,189L0,8C0,2.6,2.6,0,8,0z" stroke="#4caf50" stroke-dasharray="5,2" ed:idlist="328" stroke-width="2" transform="matrix(1,0,0,1,209.2,5271)" ed:type="boundary" ed:parentid="328" stroke-linejoin="round" fill-opacity="0.2" fill="#4caf50" id="327"></path> <path stroke="#4caf50" d="M-25.2,-33.3L-25.2,27.3C-25.2,30.6,-22.5,33.3,-19.2,33.3L25.2,33.3" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,83.2,163.25)" ed:parentid="115" stroke-linejoin="round" fill="none" ed:tosuperid="117" id="118"></path> <path stroke="#4caf50" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,240.88)" ed:parentid="117" stroke-linejoin="round" fill="none" ed:tosuperid="119" id="120"></path> <path stroke="#4caf50" d="M-9.5,-27.8L-9.5,21.8C-9.5,25.1,-6.8,27.8,-3.5,27.8L9.5,27.8" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,257.75)" ed:parentid="117" stroke-linejoin="round" fill="none" ed:tosuperid="121" id="122"></path> <path stroke="#4caf50" d="M-9.5,-49.6L-9.5,43.6C-9.5,46.9,-6.8,49.6,-3.5,49.6L9.5,49.6" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,279.63)" ed:parentid="117" stroke-linejoin="round" fill="none" ed:tosuperid="123" id="124"></path> <path stroke="#4caf50" d="M-25.2,-143.6L-25.2,137.6C-25.2,140.9,-22.5,143.6,-19.2,143.6L25.2,143.6" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,83.2,273.63)" ed:parentid="115" stroke-linejoin="round" fill="none" ed:tosuperid="125" id="126"></path> <path stroke="#4caf50" d="M-9.5,-109.4L-9.5,103.4C-9.5,106.7,-6.8,109.4,-3.5,109.4L9.5,109.4" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,559.63)" ed:parentid="125" stroke-linejoin="round" fill="none" ed:tosuperid="128" id="129"></path> <path stroke="#4caf50" d="M-25.2,-400.5L-25.2,394.5C-25.2,397.8,-22.5,400.5,-19.2,400.5L25.2,400.5" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,83.2,530.5)" ed:parentid="115" stroke-linejoin="round" fill="none" ed:tosuperid="130" id="131"></path> <path stroke="#4caf50" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,961.88)" ed:parentid="130" stroke-linejoin="round" fill="none" ed:tosuperid="132" id="133"></path> <path stroke="#4caf50" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,995.63)" ed:parentid="132" stroke-linejoin="round" fill="none" ed:tosuperid="134" id="135"></path> <path stroke="#4caf50" d="M-9.5,-44.6L-9.5,38.6C-9.5,41.9,-6.8,44.6,-3.5,44.6L9.5,44.6" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,995.63)" ed:parentid="130" stroke-linejoin="round" fill="none" ed:tosuperid="136" id="137"></path> <path stroke="#4caf50" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,1063.13)" ed:parentid="136" stroke-linejoin="round" fill="none" ed:tosuperid="138" id="139"></path> <path stroke="#4caf50" d="M-25.2,-504.5L-25.2,498.5C-25.2,501.8,-22.5,504.5,-19.2,504.5L25.2,504.5" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,83.2,634.5)" ed:parentid="115" stroke-linejoin="round" fill="none" ed:tosuperid="140" id="141"></path> <path stroke="#4caf50" d="M-9.5,-29.6L-9.5,23.6C-9.5,26.9,-6.8,29.6,-3.5,29.6L9.5,29.6" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,1188.63)" ed:parentid="140" stroke-linejoin="round" fill="none" ed:tosuperid="142" id="143"></path> <path stroke="#4caf50" d="M-9.5,-79.5L-9.5,73.5C-9.5,76.8,-6.8,79.5,-3.5,79.5L9.5,79.5" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,1238.5)" ed:parentid="140" stroke-linejoin="round" fill="none" ed:tosuperid="144" id="145"></path> <path stroke="#4caf50" d="M-25.2,-639.8L-25.2,633.8C-25.2,637.1,-22.5,639.8,-19.2,639.8L25.2,639.8" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,83.2,769.75)" ed:parentid="115" stroke-linejoin="round" fill="none" ed:tosuperid="146" id="147"></path> <path stroke="#4caf50" d="M-25.2,-675.3L-25.2,669.3C-25.2,672.6,-22.5,675.3,-19.2,675.3L25.2,675.3" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,83.2,805.25)" ed:parentid="115" stroke-linejoin="round" fill="none" ed:tosuperid="148" id="149"></path> <path stroke="#4caf50" d="M-9.5,-20.4L-9.5,14.4C-9.5,17.7,-6.8,20.4,-3.5,20.4L9.5,20.4" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,1520.88)" ed:parentid="148" stroke-linejoin="round" fill="none" ed:tosuperid="150" id="151"></path> <path stroke="#4caf50" d="M-9.5,-47L-9.5,41C-9.5,44.3,-6.8,47,-3.5,47L9.5,47" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,1547.5)" ed:parentid="148" stroke-linejoin="round" fill="none" ed:tosuperid="152" id="153"></path> <path stroke="#4caf50" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,1617.88)" ed:parentid="152" stroke-linejoin="round" fill="none" ed:tosuperid="154" id="155"></path> <path stroke="#4caf50" d="M-9.5,-32.8L-9.5,26.8C-9.5,30.1,-6.8,32.8,-3.5,32.8L9.5,32.8" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,1639.75)" ed:parentid="152" stroke-linejoin="round" fill="none" ed:tosuperid="156" id="157"></path> <path stroke="#4caf50" d="M-25.2,-808.8L-25.2,802.8C-25.2,806.1,-22.5,808.8,-19.2,808.8L25.2,808.8" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,83.2,938.75)" ed:parentid="115" stroke-linejoin="round" fill="none" ed:tosuperid="158" id="159"></path> <path stroke="#4caf50" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.5,15.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,1783.38)" ed:parentid="158" stroke-linejoin="round" fill="none" ed:tosuperid="160" id="161"></path> <path stroke="#4caf50" d="M-25.2,-872.1L-25.2,866.1C-25.2,869.4,-22.5,872.1,-19.2,872.1L25.2,872.1" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,83.2,1002.13)" ed:parentid="115" stroke-linejoin="round" fill="none" ed:tosuperid="162" id="163"></path> <path stroke="#4caf50" d="M-9.5,-10.1L-9.5,4.1C-9.5,7.4,-6.8,10.1,-3.5,10.1L9.5,10.1" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,1904.38)" ed:parentid="162" stroke-linejoin="round" fill="none" ed:tosuperid="164" id="165"></path> <path stroke="#4caf50" d="M-9.5,-25.9L-9.5,19.9C-9.5,23.2,-6.8,25.9,-3.5,25.9L9.5,25.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,1950.88)" ed:parentid="164" stroke-linejoin="round" fill="none" ed:tosuperid="166" id="167"></path> <path stroke="#4caf50" d="M-9.5,-72.4L-9.5,66.4C-9.5,69.7,-6.8,72.4,-3.5,72.4L9.5,72.4" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,1966.63)" ed:parentid="162" stroke-linejoin="round" fill="none" ed:tosuperid="168" id="169"></path> <path stroke="#4caf50" d="M-9.5,-20.9L-9.5,14.9C-9.5,18.2,-6.8,20.9,-3.5,20.9L9.5,20.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,2070.38)" ed:parentid="168" stroke-linejoin="round" fill="none" ed:tosuperid="170" id="171"></path> <path stroke="#4caf50" d="M-9.5,-125.4L-9.5,119.4C-9.5,122.7,-6.8,125.4,-3.5,125.4L9.5,125.4" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,2019.63)" ed:parentid="162" stroke-linejoin="round" fill="none" ed:tosuperid="172" id="173"></path> <path stroke="#4caf50" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,2167.88)" ed:parentid="172" stroke-linejoin="round" fill="none" ed:tosuperid="174" id="175"></path> <path stroke="#4caf50" d="M-13.5,0L0,0C0,0,2.7,0,6,0L13.5,0" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,368.26,2178.75)" ed:parentid="174" stroke-linejoin="round" fill="none" ed:tosuperid="176" id="177"></path> <path stroke="#4caf50" d="M-9.5,-27.8L-9.5,21.8C-9.5,25.1,-6.8,27.8,-3.5,27.8L9.5,27.8" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,2184.75)" ed:parentid="172" stroke-linejoin="round" fill="none" ed:tosuperid="178" id="179"></path> <path stroke="#4caf50" d="M-13.5,0L0,0C0,0,2.7,0,6,0L13.5,0" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,309.48,2212.5)" ed:parentid="178" stroke-linejoin="round" fill="none" ed:tosuperid="180" id="181"></path> <path stroke="#4caf50" d="M-9.5,-44.6L-9.5,38.6C-9.5,41.9,-6.8,44.6,-3.5,44.6L9.5,44.6" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,2201.63)" ed:parentid="172" stroke-linejoin="round" fill="none" ed:tosuperid="182" id="183"></path> <path stroke="#4caf50" d="M-13.5,0L0,0C0,0,2.7,0,6,0L13.5,0" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,292.53,2246.25)" ed:parentid="182" stroke-linejoin="round" fill="none" ed:tosuperid="184" id="185"></path> <path stroke="#4caf50" d="M-9.5,-61.5L-9.5,55.5C-9.5,58.8,-6.8,61.5,-3.5,61.5L9.5,61.5" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,2218.5)" ed:parentid="172" stroke-linejoin="round" fill="none" ed:tosuperid="186" id="187"></path> <path stroke="#4caf50" d="M-9.5,-209.8L-9.5,203.8C-9.5,207.1,-6.8,209.8,-3.5,209.8L9.5,209.8" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,2104)" ed:parentid="162" stroke-linejoin="round" fill="none" ed:tosuperid="188" id="189"></path> <path stroke="#4caf50" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.5,15.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,2341.63)" ed:parentid="188" stroke-linejoin="round" fill="none" ed:tosuperid="191" id="192"></path> <path stroke="#4caf50" d="M-9.5,-98L-9.5,92C-9.5,95.3,-6.8,98,-3.5,98L9.5,98" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,2423.75)" ed:parentid="188" stroke-linejoin="round" fill="none" ed:tosuperid="193" id="194"></path> <path stroke="#4caf50" d="M-9.5,-175.1L-9.5,169.1C-9.5,172.4,-6.8,175.1,-3.5,175.1L9.5,175.1" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,2500.88)" ed:parentid="188" stroke-linejoin="round" fill="none" ed:tosuperid="195" id="196"></path> <path stroke="#4caf50" d="M-9.5,-192L-9.5,186C-9.5,189.3,-6.8,192,-3.5,192L9.5,192" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,2517.75)" ed:parentid="188" stroke-linejoin="round" fill="none" ed:tosuperid="197" id="198"></path> <path stroke="#4caf50" d="M-9.5,-429.9L-9.5,423.9C-9.5,427.2,-6.8,429.9,-3.5,429.9L9.5,429.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,2324.13)" ed:parentid="162" stroke-linejoin="round" fill="none" ed:tosuperid="199" id="200"></path> <path stroke="#4caf50" d="M-83.7,-11.1L-83.7,5.1C-83.7,8.4,-81,11.1,-77.7,11.1L83.7,11.1" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,280.98,2787.63)" ed:parentid="199" stroke-linejoin="round" fill="none" ed:tosuperid="202" id="203"></path> <path stroke="#4caf50" d="M9.5,-10.1L9.5,4.1C9.5,7.4,6.8,10.1,3.5,10.1L-9.5,10.1" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,412.46,2821.38)" ed:parentid="202" stroke-linejoin="round" fill="none" ed:tosuperid="204" id="205"></path> <path stroke="#4caf50" d="M9.5,-10.1L9.5,4.1C9.5,7.4,6.8,10.1,3.5,10.1L-9.5,10.1" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,371.42,2852.13)" ed:parentid="204" stroke-linejoin="round" fill="none" ed:tosuperid="206" id="207"></path> <path stroke="#4caf50" d="M9.5,-39.5L9.5,33.5C9.5,36.8,6.8,39.5,3.5,39.5L-9.5,39.5" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,371.42,2881.5)" ed:parentid="204" stroke-linejoin="round" fill="none" ed:tosuperid="209" id="210"></path> <path stroke="#4caf50" d="M9.5,-68.9L9.5,62.9C9.5,66.2,6.8,68.9,3.5,68.9L-9.5,68.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,371.42,2910.88)" ed:parentid="204" stroke-linejoin="round" fill="none" ed:tosuperid="212" id="213"></path> <path stroke="#4caf50" d="M-9.5,-10.1L-9.5,4.1C-9.5,7.4,-6.8,10.1,-3.5,10.1L9.5,10.1" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,431.36,2821.38)" ed:parentid="202" stroke-linejoin="round" fill="none" ed:tosuperid="215" id="216"></path> <path stroke="#4caf50" d="M-9.5,-10.1L-9.5,4.1C-9.5,7.4,-6.8,10.1,-3.5,10.1L9.5,10.1" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,478.5,2852.13)" ed:parentid="215" stroke-linejoin="round" fill="none" ed:tosuperid="217" id="218"></path> <path stroke="#4caf50" d="M-9.5,-39.5L-9.5,33.5C-9.5,36.8,-6.8,39.5,-3.5,39.5L9.5,39.5" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,478.5,2881.5)" ed:parentid="215" stroke-linejoin="round" fill="none" ed:tosuperid="220" id="221"></path> <path stroke="#4caf50" d="M-9.5,-68.9L-9.5,62.9C-9.5,66.2,-6.8,68.9,-3.5,68.9L9.5,68.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,478.5,2910.88)" ed:parentid="215" stroke-linejoin="round" fill="none" ed:tosuperid="223" id="224"></path> <path stroke="#4caf50" d="M-9.5,-131.8L-9.5,125.8C-9.5,129.1,-6.8,131.8,-3.5,131.8L9.5,131.8" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,2908.25)" ed:parentid="199" stroke-linejoin="round" fill="none" ed:tosuperid="226" id="227"></path> <path stroke="#4caf50" d="M-51.4,-148.9L-51.4,142.9C-51.4,146.2,-48.7,148.9,-45.4,148.9L51.4,148.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,248.67,2925.38)" ed:parentid="199" stroke-linejoin="round" fill="none" ed:tosuperid="228" id="229"></path> <path stroke="#4caf50" d="M9.5,-10.1L9.5,4.1C9.5,7.4,6.8,10.1,3.5,10.1L-9.5,10.1" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,413.53,3096.88)" ed:parentid="228" stroke-linejoin="round" fill="none" ed:tosuperid="230" id="231"></path> <path stroke="#4caf50" d="M9.5,-10.1L9.5,4.1C9.5,7.4,6.8,10.1,3.5,10.1L-9.5,10.1" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,372.49,3127.63)" ed:parentid="230" stroke-linejoin="round" fill="none" ed:tosuperid="232" id="233"></path> <path stroke="#4caf50" d="M9.5,-39.5L9.5,33.5C9.5,36.8,6.8,39.5,3.5,39.5L-9.5,39.5" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,372.49,3157)" ed:parentid="230" stroke-linejoin="round" fill="none" ed:tosuperid="235" id="236"></path> <path stroke="#4caf50" d="M9.5,-68.9L9.5,62.9C9.5,66.2,6.8,68.9,3.5,68.9L-9.5,68.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,372.49,3186.38)" ed:parentid="230" stroke-linejoin="round" fill="none" ed:tosuperid="238" id="239"></path> <path stroke="#4caf50" d="M-9.5,-10.1L-9.5,4.1C-9.5,7.4,-6.8,10.1,-3.5,10.1L9.5,10.1" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,432.43,3096.88)" ed:parentid="228" stroke-linejoin="round" fill="none" ed:tosuperid="241" id="242"></path> <path stroke="#4caf50" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,479.58,3128.38)" ed:parentid="241" stroke-linejoin="round" fill="none" ed:tosuperid="243" id="244"></path> <path stroke="#4caf50" d="M-9.5,-41.8L-9.5,35.8C-9.5,39.1,-6.8,41.8,-3.5,41.8L9.5,41.8" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,479.58,3159.25)" ed:parentid="241" stroke-linejoin="round" fill="none" ed:tosuperid="246" id="247"></path> <path stroke="#4caf50" d="M-9.5,-71.9L-9.5,65.9C-9.5,69.2,-6.8,71.9,-3.5,71.9L9.5,71.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,479.58,3189.38)" ed:parentid="241" stroke-linejoin="round" fill="none" ed:tosuperid="249" id="250"></path> <path stroke="#4caf50" d="M-9.5,-272.5L-9.5,266.5C-9.5,269.8,-6.8,272.5,-3.5,272.5L9.5,272.5" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,3049)" ed:parentid="199" stroke-linejoin="round" fill="none" ed:tosuperid="252" id="253"></path> <path stroke="#4caf50" d="M-9.5,-297.4L-9.5,291.4C-9.5,294.7,-6.8,297.4,-3.5,297.4L9.5,297.4" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,3073.88)" ed:parentid="199" stroke-linejoin="round" fill="none" ed:tosuperid="254" id="255"></path> <path stroke="#4caf50" d="M-13.5,0L0,0C0,0,2.7,0,6,0L13.5,0" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,415.18,3371.25)" ed:parentid="254" stroke-linejoin="round" fill="none" ed:tosuperid="256" id="257"></path> <path stroke="#4caf50" d="M-13.5,0L0,0C0,0,2.7,0,6,0L13.5,0" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,528.93,3371.25)" ed:parentid="256" stroke-linejoin="round" fill="none" ed:tosuperid="258" id="259"></path> <path stroke="#4caf50" d="M-13.5,0L0,0C0,0,2.7,0,6,0L13.5,0" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,642.68,3371.25)" ed:parentid="258" stroke-linejoin="round" fill="none" ed:tosuperid="260" id="261"></path> <path stroke="#4caf50" d="M-13.5,0L0,0C0,0,2.7,0,6,0L13.5,0" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,703.95,3371.25)" ed:parentid="260" stroke-linejoin="round" fill="none" ed:tosuperid="262" id="263"></path> <path stroke="#4caf50" d="M-9.5,-764.1L-9.5,758.1C-9.5,761.4,-6.8,764.1,-3.5,764.1L9.5,764.1" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,2658.38)" ed:parentid="162" stroke-linejoin="round" fill="none" ed:tosuperid="264" id="265"></path> <path stroke="#4caf50" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,3446.88)" ed:parentid="264" stroke-linejoin="round" fill="none" ed:tosuperid="267" id="268"></path> <path stroke="#4caf50" d="M-9.5,-799.4L-9.5,793.4C-9.5,796.7,-6.8,799.4,-3.5,799.4L9.5,799.4" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,2693.63)" ed:parentid="162" stroke-linejoin="round" fill="none" ed:tosuperid="269" id="270"></path> <path stroke="#4caf50" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,3517.38)" ed:parentid="269" stroke-linejoin="round" fill="none" ed:tosuperid="272" id="273"></path> <path stroke="#4caf50" d="M-9.5,-833.9L-9.5,827.9C-9.5,831.2,-6.8,833.9,-3.5,833.9L9.5,833.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,2728.13)" ed:parentid="162" stroke-linejoin="round" fill="none" ed:tosuperid="274" id="275"></path> <path stroke="#4caf50" d="M-9.5,-46.4L-9.5,40.4C-9.5,43.7,-6.8,46.4,-3.5,46.4L9.5,46.4" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,3620.38)" ed:parentid="274" stroke-linejoin="round" fill="none" ed:tosuperid="277" id="278"></path> <path stroke="#4caf50" d="M-9.5,-939.1L-9.5,933.1C-9.5,936.4,-6.8,939.1,-3.5,939.1L9.5,939.1" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,2833.38)" ed:parentid="162" stroke-linejoin="round" fill="none" ed:tosuperid="279" id="280"></path> <path stroke="#4caf50" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,3796.38)" ed:parentid="279" stroke-linejoin="round" fill="none" ed:tosuperid="282" id="283"></path> <path stroke="#4caf50" d="M-9.5,-38L-9.5,32C-9.5,35.3,-6.8,38,-3.5,38L9.5,38" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,3823.5)" ed:parentid="279" stroke-linejoin="round" fill="none" ed:tosuperid="284" id="285"></path> <path stroke="#4caf50" d="M-9.5,-70.4L-9.5,64.4C-9.5,67.7,-6.8,70.4,-3.5,70.4L9.5,70.4" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,3855.88)" ed:parentid="279" stroke-linejoin="round" fill="none" ed:tosuperid="286" id="287"></path> <path stroke="#4caf50" d="M-9.5,-102.8L-9.5,96.8C-9.5,100.1,-6.8,102.8,-3.5,102.8L9.5,102.8" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,3888.25)" ed:parentid="279" stroke-linejoin="round" fill="none" ed:tosuperid="288" id="289"></path> <path stroke="#4caf50" d="M-9.5,-140.1L-9.5,134.1C-9.5,137.4,-6.8,140.1,-3.5,140.1L9.5,140.1" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,3925.63)" ed:parentid="279" stroke-linejoin="round" fill="none" ed:tosuperid="290" id="291"></path> <path stroke="#4caf50" d="M-9.5,-167.5L-9.5,161.5C-9.5,164.8,-6.8,167.5,-3.5,167.5L9.5,167.5" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,3953)" ed:parentid="279" stroke-linejoin="round" fill="none" ed:tosuperid="292" id="293"></path> <path stroke="#4caf50" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,260.65,4143.88)" ed:parentid="292" stroke-linejoin="round" fill="none" ed:tosuperid="294" id="295"></path> <path stroke="#4caf50" d="M-9.5,-201.8L-9.5,195.8C-9.5,199.1,-6.8,201.8,-3.5,201.8L9.5,201.8" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,3987.25)" ed:parentid="279" stroke-linejoin="round" fill="none" ed:tosuperid="296" id="297"></path> <path stroke="#4caf50" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,260.65,4212.38)" ed:parentid="296" stroke-linejoin="round" fill="none" ed:tosuperid="298" id="299"></path> <path stroke="#4caf50" d="M-9.5,-1181.9L-9.5,1175.9C-9.5,1179.2,-6.8,1181.9,-3.5,1181.9L9.5,1181.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,3076.13)" ed:parentid="162" stroke-linejoin="round" fill="none" ed:tosuperid="300" id="301"></path> <path stroke="#4caf50" d="M-9.5,-20.9L-9.5,14.9C-9.5,18.2,-6.8,20.9,-3.5,20.9L9.5,20.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,4291.88)" ed:parentid="300" stroke-linejoin="round" fill="none" ed:tosuperid="304" id="305"></path> <path stroke="#4caf50" d="M-9.5,-52.8L-9.5,46.8C-9.5,50.1,-6.8,52.8,-3.5,52.8L9.5,52.8" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,4323.75)" ed:parentid="300" stroke-linejoin="round" fill="none" ed:tosuperid="306" id="307"></path> <path stroke="#4caf50" d="M-9.5,-153.6L-9.5,147.6C-9.5,150.9,-6.8,153.6,-3.5,153.6L9.5,153.6" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,4424.63)" ed:parentid="300" stroke-linejoin="round" fill="none" ed:tosuperid="308" id="309"></path> <path stroke="#4caf50" d="M-9.5,-264L-9.5,258C-9.5,261.3,-6.8,264,-3.5,264L9.5,264" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,4535)" ed:parentid="300" stroke-linejoin="round" fill="none" ed:tosuperid="310" id="311"></path> <path stroke="#4caf50" d="M-9.5,-295.4L-9.5,289.4C-9.5,292.7,-6.8,295.4,-3.5,295.4L9.5,295.4" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,4566.38)" ed:parentid="300" stroke-linejoin="round" fill="none" ed:tosuperid="312" id="313"></path> <path stroke="#4caf50" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,260.65,4884.63)" ed:parentid="312" stroke-linejoin="round" fill="none" ed:tosuperid="314" id="315"></path> <path stroke="#4caf50" d="M-9.5,-1517.5L-9.5,1511.5C-9.5,1514.8,-6.8,1517.5,-3.5,1517.5L9.5,1517.5" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,3411.75)" ed:parentid="162" stroke-linejoin="round" fill="none" ed:tosuperid="316" id="317"></path> <path stroke="#4caf50" d="M-9.5,-57.9L-9.5,51.9C-9.5,55.2,-6.8,57.9,-3.5,57.9L9.5,57.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,4999.13)" ed:parentid="316" stroke-linejoin="round" fill="none" ed:tosuperid="319" id="320"></path> <path stroke="#4caf50" d="M-9.5,-1645.3L-9.5,1639.3C-9.5,1642.6,-6.8,1645.3,-3.5,1645.3L9.5,1645.3" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,3539.5)" ed:parentid="162" stroke-linejoin="round" fill="none" ed:tosuperid="321" id="322"></path> <path stroke="#4caf50" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,5207.63)" ed:parentid="321" stroke-linejoin="round" fill="none" ed:tosuperid="323" id="324"></path> <path stroke="#4caf50" d="M-9.5,-1678.3L-9.5,1672.3C-9.5,1675.6,-6.8,1678.3,-3.5,1678.3L9.5,1678.3" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,3572.5)" ed:parentid="162" stroke-linejoin="round" fill="none" ed:tosuperid="325" id="326"></path> <path stroke="#4caf50" d="M-9.5,-54.1L-9.5,48.1C-9.5,51.4,-6.8,54.1,-3.5,54.1L9.5,54.1" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,5315.38)" ed:parentid="325" stroke-linejoin="round" fill="none" ed:tosuperid="328" id="329"></path> <path stroke="#4caf50" d="M-9.5,-114.3L-9.5,108.3C-9.5,111.6,-6.8,114.3,-3.5,114.3L9.5,114.3" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,5375.5)" ed:parentid="325" stroke-linejoin="round" fill="none" ed:tosuperid="330" id="331"></path> <path stroke="#4caf50" d="M-9.5,-131.1L-9.5,125.1C-9.5,128.4,-6.8,131.1,-3.5,131.1L9.5,131.1" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,5392.38)" ed:parentid="325" stroke-linejoin="round" fill="none" ed:tosuperid="332" id="333"></path> <path stroke="#4caf50" d="M-9.5,-153L-9.5,147C-9.5,150.3,-6.8,153,-3.5,153L9.5,153" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,5414.25)" ed:parentid="325" stroke-linejoin="round" fill="none" ed:tosuperid="334" id="335"></path> <path stroke="#4caf50" d="M-9.5,-1858.4L-9.5,1852.4C-9.5,1855.7,-6.8,1858.4,-3.5,1858.4L9.5,1858.4" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,3752.63)" ed:parentid="162" stroke-linejoin="round" fill="none" ed:tosuperid="336" id="337"></path> <path stroke="#4caf50" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,5633.88)" ed:parentid="336" stroke-linejoin="round" fill="none" ed:tosuperid="338" id="339"></path> <path stroke="#4caf50" d="M-9.5,-1892.1L-9.5,1886.1C-9.5,1889.4,-6.8,1892.1,-3.5,1892.1L9.5,1892.1" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,3786.38)" ed:parentid="162" stroke-linejoin="round" fill="none" ed:tosuperid="340" id="341"></path> <path stroke="#4caf50" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.5,15.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,5706.38)" ed:parentid="340" stroke-linejoin="round" fill="none" ed:tosuperid="342" id="343"></path> <path stroke="#4caf50" d="M-9.5,-1935.9L-9.5,1929.9C-9.5,1933.2,-6.8,1935.9,-3.5,1935.9L9.5,1935.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,3830.13)" ed:parentid="162" stroke-linejoin="round" fill="none" ed:tosuperid="344" id="345"></path> <path stroke="#4caf50" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.5,15.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,5793.88)" ed:parentid="344" stroke-linejoin="round" fill="none" ed:tosuperid="346" id="347"></path> <path stroke="#4caf50" d="M-9.5,-1979.6L-9.5,1973.6C-9.5,1976.9,-6.8,1979.6,-3.5,1979.6L9.5,1979.6" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,152.85,3873.88)" ed:parentid="162" stroke-linejoin="round" fill="none" ed:tosuperid="348" id="349"></path> <path stroke="#4caf50" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.5,15.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,5881.38)" ed:parentid="348" stroke-linejoin="round" fill="none" ed:tosuperid="350" id="351"></path> <path stroke="#4caf50" d="M-9.5,-37.8L-9.5,31.8C-9.5,35.1,-6.8,37.8,-3.5,37.8L9.5,37.8" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,206.75,5903.25)" ed:parentid="348" stroke-linejoin="round" fill="none" ed:tosuperid="352" id="353"></path> <path stroke="#4caf50" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.5,15.9" stroke-linecap="round" stroke-width="3" transform="matrix(1,0,0,1,257.15,5968.88)" ed:parentid="352" stroke-linejoin="round" fill="none" ed:tosuperid="354" id="355"></path> <g ed:height="52" ed:layout="righttree" transform="matrix(1,0,0,1,23,78)" id="115" ed:topictype="mainidea" ed:width="185.8125"><path stroke="#4caf50" d="M4,0L181.8,0C184.5,0,185.8,1.3,185.8,4L185.8,48C185.8,50.7,184.5,52,181.8,52L4,52C1.3,52,0,50.7,0,48L0,4C0,1.3,1.3,0,4,0z" stroke-width="3" stroke-linejoin="round" fill="none"></path> <g transform="translate(21,16.1)"><use transform="translate(0,0)" xlink:href="#imgflag3"></use></g> <text class="st33"><tspan x="48" y="31.5" textLength="117">NSNotification</tspan></text></g> <symbol id="imgflag3"><image xlink:href="data:image/png;base64,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" height="16" width="16"></image></symbol> <g ed:height="67" transform="matrix(1,0,0,1,108.4,163)" ed:parentid="115" id="117" ed:width="256.84375"><path d="M4,0L252.8,0C255.5,0,256.8,1.3,256.8,4L256.8,63C256.8,65.7,255.5,67,252.8,67L4,67C1.3,67,0,65.7,0,63L0,4C0,1.3,1.3,0,4,0z" stroke="#4caf50" stroke-width="2" stroke-linejoin="round" fill="#4caf50"></path> <text class="st34"><tspan x="19" y="24.5" textLength="216">通知机制的核心：通知中心</tspan> <tspan x="19" y="50.5" textLength="218">（NSNotificationCenter）</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,162.3,239.75)" ed:parentid="117" id="119" ed:width="231"><text class="st35"><tspan x="10" y="16" textLength="210">是一个与线程关联的【单例对象】</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,162.3,273.5)" ed:parentid="117" id="121" ed:width="175"><text class="st35"><tspan x="10" y="16" textLength="154">单例：通知中心是个单例</tspan></text></g> <g ed:height="44" transform="matrix(1,0,0,1,162.3,307.25)" ed:parentid="117" id="123" ed:width="517"><text class="st35"><tspan x="10" y="16" textLength="350">通知中心发送通知给观察者是同步的，也可以用通知队列</tspan> <tspan x="10" y="36" textLength="252">（NSNotificationQueue）异步发送通知</tspan></text></g> <g ed:height="66" transform="matrix(1,0,0,1,108.4,384.25)" ed:parentid="115" id="125" ed:width="209.40625"><path d="M4,0L205.4,0C208.1,0,209.4,1.3,209.4,4L209.4,62C209.4,64.7,208.1,66,205.4,66L4,66C1.3,66,0,64.7,0,62L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st34"><tspan x="19" y="24" textLength="54">方法：</tspan> <tspan x="19" y="50" textLength="171">add，post，remove</tspan></text></g> <g ed:height="404" transform="matrix(1,0,0,1,162.3,467)" ed:parentid="125" id="128" ed:width="517"><text class="st35"><tspan x="10" y="16" textLength="117">// 添加通知观察者</tspan> <tspan x="10" y="36" textLength="486">- (void)addObserver:(id)observer selector:(SEL)aSelector name:(nullable </tspan> <tspan x="10" y="53" textLength="382">NSNotificationName)aName object:(nullable id)anObject;</tspan> <tspan x="10" y="87" textLength="337">- (id &lt;NSObject&gt;)addObserverForName:(nullable </tspan> <tspan x="10" y="104" textLength="443">NSNotificationName)name object:(nullable id)obj queue:(nullable </tspan> <tspan x="10" y="121" textLength="430">NSOperationQueue *)queue usingBlock:(void (^)(NSNotification </tspan> <tspan x="10" y="138" textLength="87">*note))block;</tspan> <tspan x="10" y="172" textLength="75">// 发出通知</tspan> <tspan x="10" y="192" textLength="361">- (void)postNotification:(NSNotification *)notification;</tspan> <tspan x="10" y="226" textLength="444">- (void)postNotificationName:(NSNotificationName)aName object:</tspan> <tspan x="10" y="243" textLength="145">(nullable id)anObject;</tspan> <tspan x="10" y="277" textLength="444">- (void)postNotificationName:(NSNotificationName)aName object:</tspan> <tspan x="10" y="294" textLength="440">(nullable id)anObject userInfo:(nullable NSDictionary *)aUserInfo;</tspan> <tspan x="10" y="328" textLength="117">// 移除通知观察者</tspan> <tspan x="10" y="348" textLength="251">- (void)removeObserver:(id)observer;</tspan> <tspan x="10" y="382" textLength="356">- (void)removeObserver:(id)observer name:(nullable </tspan> <tspan x="10" y="399" textLength="382">NSNotificationName)aName object:(nullable id)anObject;</tspan></text></g> <g ed:height="40" transform="matrix(1,0,0,1,108.4,911)" ed:parentid="115" id="130" ed:width="92"><path d="M4,0L88,0C90.7,0,92,1.3,92,4L92,36C92,38.7,90.7,40,88,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st34"><tspan x="19" y="24" textLength="54">参数：</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,162.3,960.75)" ed:parentid="130" id="132" ed:width="181.703125"><text class="st35"><tspan x="10" y="16" textLength="161">notificationName：为nil</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,216.2,994.5)" ed:parentid="132" id="134" ed:width="384.828125"><text class="st35"><tspan x="10" y="16" textLength="364">通知中心会通知所有与该通知中object相匹配的监听对象。</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,162.3,1028.25)" ed:parentid="130" id="136" ed:width="130.71875"><text class="st35"><tspan x="10" y="16" textLength="110">若anObject为 nil</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,216.2,1062)" ed:parentid="136" id="138" ed:width="444.921875"><text class="st35"><tspan x="10" y="16" textLength="424">通知中心会通知所有与该通知中notificationName相匹配的监听对象</tspan></text></g> <g ed:height="40" transform="matrix(1,0,0,1,108.4,1119)" ed:parentid="115" id="140" ed:width="128"><path d="M4,0L124,0C126.7,0,128,1.3,128,4L128,36C128,38.7,126.7,40,124,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st34"><tspan x="19" y="24" textLength="90">移除观察者</tspan></text></g> <g ed:height="99" transform="matrix(1,0,0,1,162.3,1168.75)" ed:parentid="140" id="142" ed:width="410.796875"><path stroke="#ff5252" d="M4,0L406.8,0C409.5,0,410.8,1.3,410.8,4L410.8,95C410.8,97.7,409.5,99,406.8,99L4,99C1.3,99,0,97.7,0,95L0,4C0,1.3,1.3,0,4,0z" stroke-width="2" stroke-linejoin="round" fill="none"></path> <text class="st35"><tspan x="10" y="16.5" textLength="88">1. 不需要移除</tspan> <tspan x="10" y="53.5" textLength="381">从iOS9开始，即使不移除观察者对象，程序也不会出现异常。</tspan> <tspan x="10" y="90.5" textLength="389">观察者由==unsafe_unretained==引用变为==weak==引用</tspan></text></g> <g ed:height="81" transform="matrix(1,0,0,1,162.3,1277.5)" ed:parentid="140" id="144" ed:width="517"><path d="M4,0L513,0C515.7,0,517,1.3,517,4L517,77C517,79.7,515.7,81,513,81L4,81C1.3,81,0,79.7,0,77L0,4C0,1.3,1.3,0,4,0z" fill="#fdd834"></path> <text class="st35"><tspan x="10" y="16" textLength="74">2. 需要移除</tspan> <tspan x="10" y="53" textLength="497">通过`addObserverForName:object: queue:usingBlock:`方法注册的观察者需</tspan> <tspan x="10" y="73" textLength="322">要手动释放，因为通知中心持有的是它们的强引用。</tspan></text></g> <g ed:height="36" transform="matrix(1,0,0,1,108.4,1391.5)" ed:parentid="115" id="146" ed:width="218.4375"><path d="M4,0L214.4,0C217.1,0,218.4,1.3,218.4,4L218.4,32C218.4,34.7,217.1,36,214.4,36L4,36C1.3,36,0,34.7,0,32L0,4C0,1.3,1.3,0,4,0z" fill="#ff9595"></path> <text class="st34"><tspan x="19" y="24" textLength="180">NSNotificationQueue</tspan></text></g> <g ed:height="40" transform="matrix(1,0,0,1,108.4,1460.5)" ed:parentid="115" id="148" ed:width="92"><path d="M4,0L88,0C90.7,0,92,1.3,92,4L92,36C92,38.7,90.7,40,88,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#ff9f00"></path> <text class="st34"><tspan x="19" y="24" textLength="54">多线程</tspan></text></g> <g ed:height="62" transform="matrix(1,0,0,1,162.3,1510.25)" ed:parentid="148" id="150" ed:width="470"><path stroke="#4caf50" d="M4,0L466,0C468.7,0,470,1.3,470,4L470,58C470,60.7,468.7,62,466,62L4,62C1.3,62,0,60.7,0,58L0,4C0,1.3,1.3,0,4,0z" stroke-width="2" stroke-linejoin="round" fill="none"></path> <text class="st35"><tspan x="10" y="16.5" textLength="256">1.通知的发送和接收都是在 同一个线程：</tspan> <tspan x="10" y="53.5" textLength="448">无论在哪个线程中注册了观察者，通知的发送和接收都是在同一个线程中</tspan></text></g> <g ed:height="25" transform="matrix(1,0,0,1,162.3,1582)" ed:parentid="148" id="152" ed:width="332.953125"><path stroke="#ffc009" d="M4,0L329,0C331.6,0,333,1.3,333,4L333,21C333,23.7,331.6,25,329,25L4,25C1.3,25,0,23.7,0,21L0,4C0,1.3,1.3,0,4,0z" stroke-width="2" stroke-linejoin="round" fill="none"></path> <text class="st35"><tspan x="10" y="16.5" textLength="311">2. 通知的接收 所在线程 与 注册通知所在线程无关</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,216.2,1616.75)" ed:parentid="152" id="154" ed:width="164.09375"><text class="st35"><tspan x="10" y="16" textLength="143">接收线程 == 发送线程</tspan></text></g> <g ed:height="44" transform="matrix(1,0,0,1,216.2,1650.5)" ed:parentid="152" id="156" ed:width="517"><text class="st35"><tspan x="10" y="16" textLength="490">在主线程注册了观察者，然后在子线程发送通知，最后接收和处理通知也是在子</tspan> <tspan x="10" y="36" textLength="420">线程。一般情况下，发送通知所在的线程就是接收通知所在的线程。</tspan></text></g> <g ed:height="40" transform="matrix(1,0,0,1,108.4,1727.5)" ed:parentid="115" id="158" ed:width="146"><path d="M4,0L142,0C144.7,0,146,1.3,146,4L146,36C146,38.7,144.7,40,142,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#ea8aba"></path> <text class="st34"><tspan x="19" y="24" textLength="108">指定接收线程</tspan></text></g> <g ed:height="44" transform="matrix(1,0,0,1,162.3,1777.25)" ed:parentid="158" id="160" ed:width="517"><text class="st35"><tspan x="10" y="16" textLength="490">可以统一所有接收通知后在主线程回调，也可以不封装，由各业务同学自己根据</tspan> <tspan x="10" y="36" textLength="56">情况处理</tspan></text></g> <g ed:height="40" transform="matrix(1,0,0,1,108.4,1854.25)" ed:parentid="115" id="162" ed:width="128"><path d="M4,0L124,0C126.7,0,128,1.3,128,4L128,36C128,38.7,126.7,40,124,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#2abee0"></path> <text class="st34"><tspan x="19" y="24" textLength="90">实现原理：</tspan></text></g> <g ed:height="21" transform="matrix(1,0,0,1,162.3,1904)" ed:parentid="162" id="164" ed:width="178.171875"><text class="st35"><tspan x="10" y="16" textLength="157">NSConcreteNotification</tspan></text></g> <g ed:height="84" transform="matrix(1,0,0,1,216.2,1934.75)" ed:parentid="164" id="166" ed:width="517"><path d="M4,0L513,0C515.7,0,517,1.3,517,4L517,80C517,82.7,515.7,84,513,84L4,84C1.3,84,0,82.7,0,80L0,4C0,1.3,1.3,0,4,0z" fill="#fdd834"></path> <text class="st35"><tspan x="10" y="16" textLength="352">`NSNotification`是一个类蔟不能够实例化，当我们调用</tspan> <tspan x="10" y="36" textLength="415">`initWithName:object:userInfo:`方法的时候，系统内部会实例化</tspan> <tspan x="10" y="56" textLength="470">`NSNotification`的子类`NSConcreteNotification`。在这个子类中重写了</tspan> <tspan x="10" y="76" textLength="258">`NSNofication`定义的相关字段和方法。</tspan></text></g> <g ed:height="21" transform="matrix(1,0,0,1,162.3,2028.5)" ed:parentid="162" id="168" ed:width="162.421875"><text class="st35"><tspan x="10" y="16" textLength="141">NSNotificationCenter</tspan></text></g> <g ed:height="64" transform="matrix(1,0,0,1,216.2,2059.25)" ed:parentid="168" id="170" ed:width="517"><path d="M4,0L513,0C515.7,0,517,1.3,517,4L517,60C517,62.7,515.7,64,513,64L4,64C1.3,64,0,62.7,0,60L0,4C0,1.3,1.3,0,4,0z" fill="#8ede99"></path> <text class="st35"><tspan x="10" y="16" textLength="355">`NSNotificationCenter`是通知的管理类，实现较复杂。</tspan> <tspan x="10" y="36" textLength="402">`NSNotificationCenter`中主要定义了两个table，同时也定义了</tspan> <tspan x="10" y="56" textLength="197">`Observation`保存观察者信息</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,162.3,2133)" ed:parentid="162" id="172" ed:width="77"><text class="st35"><tspan x="10" y="16" textLength="56">关键对象</tspan></text></g> <g ed:height="21" ed:layout="rightmap" transform="matrix(1,0,0,1,216.2,2168.25)" ed:parentid="172" id="174" ed:width="138.5625"><text class="st35"><tspan x="10" y="16" textLength="118">NotificationName</tspan></text></g> <g ed:height="24" ed:layout="rightmap" transform="matrix(1,0,0,1,381.76,2166.75)" ed:parentid="174" id="176" ed:width="77"><text class="st35"><tspan x="10" y="16" textLength="56">通知名称</tspan></text></g> <g ed:height="21" ed:layout="rightmap" transform="matrix(1,0,0,1,216.2,2202)" ed:parentid="172" id="178" ed:width="79.78125"><text class="st35"><tspan x="10" y="16" textLength="59">observer</tspan></text></g> <g ed:height="24" ed:layout="rightmap" transform="matrix(1,0,0,1,322.98,2200.5)" ed:parentid="178" id="180" ed:width="63"><text class="st35"><tspan x="10" y="16" textLength="42">观察者</tspan></text></g> <g ed:height="21" ed:layout="rightmap" transform="matrix(1,0,0,1,216.2,2235.75)" ed:parentid="172" id="182" ed:width="62.828125"><text class="st35"><tspan x="10" y="16" textLength="42">object</tspan></text></g> <g ed:height="24" ed:layout="rightmap" transform="matrix(1,0,0,1,306.03,2234.25)" ed:parentid="182" id="184" ed:width="63"><text class="st35"><tspan x="10" y="16" textLength="42">监听者</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,216.2,2268)" ed:parentid="172" id="186" ed:width="315"><path d="M4,0L311,0C313.7,0,315,1.3,315,4L315,20C315,22.7,313.7,24,311,24L4,24C1.3,24,0,22.7,0,20L0,4C0,1.3,1.3,0,4,0z" fill="#ffabd5"></path> <text class="st35"><tspan x="10" y="16" textLength="294">通知设计是根据这几个参数对象的有无来决定的</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,162.3,2301.75)" ed:parentid="162" id="188" ed:width="105"><text class="st35"><tspan x="10" y="16" textLength="84">通知存取原理</tspan></text></g> <g ed:height="44" transform="matrix(1,0,0,1,216.2,2335.5)" ed:parentid="188" id="191" ed:width="517"><text class="st35"><tspan x="10" y="16" textLength="497">注册通知就是将对应信息和对象映射到表 或者 链表中，取值也是根据响应key'去</tspan> <tspan x="10" y="36" textLength="14">取</tspan></text></g> <g ed:height="251" transform="matrix(1,0,0,1,216.2,2396.25)" ed:parentid="188" id="193" ed:width="456.921875"><text class="st35"><tspan x="10" y="16" textLength="150">typedef struct NCTbl {</tspan> <tspan x="10" y="33" textLength="372">  GSIMapTable       named;      /* 有通知名称 的哈希表 */</tspan> <tspan x="10" y="53" textLength="436">  GSIMapTable       nameless;   /* 没有通知名称，有object  的表 */</tspan> <tspan x="10" y="73" textLength="408">  Observation       *wildcard;  /*  没有name和object 的链表 */</tspan> <tspan x="10" y="110" textLength="409">  unsigned      lockCount;  /* Count recursive operations.  */</tspan> <tspan x="10" y="127" textLength="404">  NSRecursiveLock   *_lock;     /* Lock out other threads.  */</tspan> <tspan x="10" y="144" textLength="183">  Observation       *freeList;</tspan> <tspan x="10" y="161" textLength="188">  Observation       **chunks;</tspan> <tspan x="10" y="178" textLength="184">  unsigned      numChunks;</tspan> <tspan x="10" y="195" textLength="254">  GSIMapTable       cache[CACHESIZE];</tspan> <tspan x="10" y="212" textLength="213">  unsigned short    chunkIndex;</tspan> <tspan x="10" y="229" textLength="210">  unsigned short    cacheIndex;</tspan> <tspan x="10" y="246" textLength="71">} NCTable;</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,216.2,2664)" ed:parentid="188" id="195" ed:width="343"><text class="st35"><tspan x="10" y="16" textLength="322">从上面结构可以看出，数据映射表设计依赖参数有无</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,216.2,2697.75)" ed:parentid="188" id="197" ed:width="268.109375"><text class="st35"><tspan x="10" y="16" textLength="247">object为空的，内部自动生成对应的key</tspan></text></g> <g ed:height="45" transform="matrix(1,0,0,1,162.3,2731.5)" ed:parentid="162" id="199" ed:width="174.0625"><path d="M4,0L170.1,0C172.8,0,174.1,1.3,174.1,4L174.1,41C174.1,43.7,172.8,45,170.1,45L4,45C1.3,45,0,43.7,0,41L0,4C0,1.3,1.3,0,4,0z" stroke="#4caf50" stroke-width="2" stroke-linejoin="round" fill="#ffc009"></path> <g transform="translate(9.5,12.6)"><use transform="translate(0,0)" xlink:href="#imgpriority1"></use></g> <text class="st35"><tspan x="33" y="16.5" textLength="130">表named原理示意图</tspan> <tspan x="33" y="36.5" textLength="56">有通知名</tspan></text></g> <symbol id="imgpriority1"><image xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAdJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAQBVVEYtOABYTUw6Y29tLmFkb2JlLnhtcAAokX2S227cIBCGXwWRm1aqjbH3ZBQ3SnGs5sJVtF0pvfVikkUbDgK2dvbVctFH6isUb+JtVcnhihn+b5iB//KqNw3bcw+2/FGoAv5++QWBaAt4P6+T2lC+E1+Pln8/ftuw457lLbz6DC570ksjuW9AL5+UI30Bm1ZvOQn7IY0gOEn8voDXwwH4Ud8Bqi0H83gRMTybg2Ue40U2y/NPIE3wCiUrhLMIL8gsIWkK3hYMt9n2gazL6u2uEBVw570hCHVdF3dZrO0jwnmeoyRFaRoFReSelW/6SLmLsULJHbPCeKEVGOJmqw++gHAcQZpzWeXi0zgx0xL1jUE4TtA/wrp+XyrlWe38mj+8r3abZ8PRmjt9sIwH+cUAG0Itb7y2G62fxle822mv3U4bQOnwajn4cC9Uqzv38cTUNblVzjeK8duygCETC9GSOV5h/KXK8DXOML4pV7RKSrqsFjRbVnR5M7KlZgfJlR/Z9i87m2QHO7zS3IqfvK2sluA0NhHTveDpXl7ZdrqXdJJFoRn032ePqeCgYXu2bgjO5ucqON4Ga/8BV3XziosO1I0AAA5ASURBVHic7ZtrrGbVWcd//7X2fs85cz0DLe1YagAZsRQqgca0MdCx2lTSkkrS+aBfjLZpo1FC0hg/mJjwwcRUIqhNaoiXD1UbJTXVSEwJQbRNGqogAlIuLSCtUIbLzJwzZ+bMOefdjx/WZa99O2cGpp9kJe9533fttdd6nv9zf/Z74K3x1vh/PfTD3NxAXHfd0vG99UW1Nq6wubtc4jKj+RGZ24u0FFeuA69JrDRmTzvcc07+scUzeplvfnNdYD8sGs87AM/B4vIy71zQ4sXWbN0wZ/4J4DLBboMKVHXPtcic0twm2BzYMHhW6G6H+5bX1jOLx3lJsHE+6T1vABgsnLxgdvl8c+NGJ/2M0DUmLgQW8or2SOvc2ZKjLiAGaENwzLCHzOmfvflv7F7YfEYvs3Y+6H7TABj41Qs55Laqj8+xj4rmA4IlA49F7vIpWco2rtVqLymtzevmwCrwCOhrVM1X977G04LmzdD/pgAw8KvL/iasuQW4BtgH+O6SwZETIGhkuQArL4gAxApyjzv4893H538j2HyjPLwhAAz8xoUc2txyv9pgvwbsyao9MOlMe1TvLNlyoRVre0go/rEeOhLYupn+bO6buw4c49uCrXPl5ZwBMJidXK4+QGOfQ/Zzhu0qtioBUGDFrLSBwemW1vTvyYt6gA1YOGPY1+dmd67t41/e/X1Onws/5wSAgT+533/SxC1Ycx3GbCDAzo4dpxb/JED6mpE+Q8Gs2g07ztHyWcFfbDWNPWHe/nj5OF86F5M4awAM/OpefxPO/hD4UcBjZiMAhInsyCYA6Ex3yOldLIGi0JbOfQJrgJfMud/ed2x+99mGy7MCwC5hce11f3Mj+z2wS9ozByvV3XJMbfvmYH1779E1ukdxb1drGvSik373xJ75l8/GHNxOCwz8yePVBxtxK0HyA7qUVgbPbvFLIUUVM/myjTNHe80Sg/1Xe2BJKAYOO2jW/MbeVa4Pidf2Y0cAXtvLIRq7Fewnw/q+0hg2mCz4T6ND+9TIUaA3ncBIAHfspzUJ5ZOuAv3W8WWu3uHA7QEwqCrnPmWyjzDM6LZJ0QuJq5xkSpr9+8M1de+cPmSgSbWDG1zjPvPcJSxux+OkSAx0Yj9HPO4vDWKom7LHnoceHqGhX+t7wSJ8TvqRfi4xtqazdnPL7FcOrPC3UznCpAac2M9lTvqsYUvTB5QhYIyQgk45kA8v50NNpAqcR86Dq8KrSA6G+6XvZuPXEzVZEJUXv3l8mauGZhrGqJP434Pscqf5BKZrWv6ifRo2KqCJXAczUVfmPng97sqrC9H1wpsw5nM2//7vjFeOtkJWx9RGBBHCqlLhoS4Bwr0X+IWX39E8w0gBNQrAvvXZZY1t3ihs/8DW8/ZRFVvGR3J8BQe2sET98Zupjvwi8n6wU/6+ucXWv95vdvQoOAQa8abprK70rb+dpGhqu33DRxbX+SeDh/qOawCAwexks/XTQteB+elQNeDDOm/tZyFn2r0b7duPqm0i0+YmyKVEygL/pZklxlO0iAB3pB7pbQOKENeauOmVt/Mkr3CyPHLgA05fwEVmdiOwb+h+S+dTlqu90N8dVtK17QjaXKjPxJgOICMOUoAWK9OHFtd5V/+GAQCaL/44zv0UmGvR3jmID6Jdb2bnHGByw6GTDViHv2e5r8HVW+LH+vMDADabjfdjzYU7b9v1wi2V436q+d4LzP/rYbYe/ne2Hn2E5vXXxrWi63MnyMhm0B/KbznrjMNpuardh+zw4Y4NdgCww4cXcfokUI8rbC811VRCY4S6AHBOtraqjTt+n/WbftZOf+zDtv7LR5h/4wGsmU8zoZz1xanynDJ36CdC8Z60xGHymCqcaj62yupyeVgHjdObqxeBXdGjJxHUQ3WE5860rL3BYH091GsG7FmDrR16F20WqfZLp7dQ1opDu3cIB3IYTsIbEpcw0zuBV9PKrgZ4XQXMuhKeyL3zp3hd6kXgUpcFzkHlAuRuO5fSz/wKf5Kz/sLR5ytmWVE8ksfwGJWgsviZJb9AR8AdDWgcl4FVmdlBnWP92DwMP4MxaIER9xhFIEtVubNA570/SkqEyQMOi9IHb6GEC/OicpdPAiDTIWvnyoRGOa52tXAsSelPd/ehsWlueird3SaFUytWhHenwKwD80gOwwNOij6gNQnPpZMANGr2j1I1ZHKk6EnzWWt6RdIEq9OjDcHd/D6kQHE6Mhd60Q7kO/af53ECD1bZwfKQbkhoeFvRZFfreMruR98Td22kkHaZGY77qtGhlAn29UBtQAhZCoocCPACZ+Cj40tSzwAQ6zHbOwkA0q5halvyaf2J7ceopvfL3f7lbY4IjIbKp2XQEoMls/Q1I/oFarer3LKXFFj7mGW8aRnUsDXpaTVXLmaKkWJ2m6gPRvs0qQ2/YAhLapxVXV1GJYkq1kXBFEwekTRCUj/16/oAiibiZBI2Pj24Yh1gRkLbWWwjAnPpPXtzIR/NoLB1OVl2gq0mWBEFwLNentYBwKTVITFS4XlLD6wuz6Wnt+6FHDliaX1WriAy4cmSlqOw+cR8a/tDx5cBU9YSb6+Wx3TDIPaDMvdkTN6lYk7qQ0d92qxFSf23MQFJMWmhI7lWysVnkLeQdHuN+QHhuvPmWZkEwNB3wLba+ShNFZ8HjBdYZCZ7WpCg3DHygSqMGqii1JJNt/ZvRWizrBnhpRKIOG+FFpir9J1JAFzDs/Pw9HWbrsXY46v4prMp+vM+49M+nl4BXsgHk7GS0e5nFaAkp9czAcCZ4QU1z5fHdRjdbHjSoTWwhRHSegbf0fIiZCRPn5xfdBu5Q5Xyi4nhI1NVYlBFUcNQ1XM4VEiZvOVokfOB1mc0zP1jkwBsVKeOLmLPAxd0mS7yzqFnGKo65YwyQrFxOVFOxtUVWI1RIXmSE2xVvbTxItHpZIQq3pMpBS14brY4f7E8shMV3/7AE2sm3UN+umqtQPN3s1AUpUQvRorO5yz99IoMKlRqFcJNWEvsliuYgakSqiVVIlR28Xod/IVqmWoZVXCcYX1ao3K/Bq+vMNt1YhIAgTU09wPHRiXUqUAUIkXg3drAMeHqggdu7XvCCuSAWlAHxvP6OjBNRTEXVb3K8/lawXwApmbFHN/SbQ90GhFjD0b+R/Ao6bc3knBK3I30CBLPZYAwy71NJ1EpERkI8kz38iqSH0gOMUjXE5xi1IL4ksJ6qYrX0poS7EqmSo/4GU/0jxsAcGqJo3PsAaF1klVboe+j8s3Sz+85NldYZr6mVcmpZ1JJvWsgvZJJ1CjMRUZ9DJl1AUodtSDfL1Fz2rzdO5ttvLAjAO96iVMm7jHZf5B/gVV69rIvmDhuNUAKyUq2xVqikgKRYd4qpY7hEEovRZuNvbxoCnUG0+Qp5kRMnMK1SkY6sxLyNPL22Nz7+7lr+HuBUTkcX+apxuxrhJ+lUdj85FDM1y2jL+FjcZK0IKql/PYaEGxZ2ca7jlFJqlZqS9IuKstrVSFq1hrv7juza+EpjfinUTIufZ71xvGPc9njrcfvxPrWwyfGC+aoEN6M2iw7KZ+IjNJxpdkUKKY0uAVMbW8vq3rQgh6o1Hmu3OMZj/vK8p3HTzAyJjO+A8f49rF9fAFxHfm3Ab2RE4wiWfGBCTlrr3sJZ0WFZmANNE0Xg2YeriUtcEGtcz4f473lzFCpARqywHxe/O5kePuL+m2nHhuTfmJhchhUK/vcncg+LbTQ1gWQiGoTkH7GRq7OLIIUm5TG4gLuPdeiiy8lxxcH0NA8fK9YOxYzPrXl7FijQzHUBcZDoyQlPp5N4b5cV6d+XbdP/6x2x8L09QO8zzXc7nCHkVUtMd2iw2IvrpetWQegQGjWBFWiX63J0WpLTHtHMsAEuGk4D465wYOumX1u9kcrD27H344/IjpwjCdO7Od2c3ahnK7p99kSIW0KqrY3F1LR3KTsEmwg66a1DsM7w3e6vD0Ns/igI3V+wpmFhpg5vtvMdcfC8sp/7sTflC/OQ7B17AD/1lT2J3h7McRZKTmcnGkVcZ46JiMpPscwVcZ1aidmDmYO1Q7VzlS7bkxvU+IyqVG7RydtTq/XTPaFper0vbpt598K7mgCaRjUKxdzxDv/efMcxOHksWDbZrk95dvuCyolHttYPnYLvTq+ovAXvZZWruyChhTa0CuCDNmrSL9Tz9a/pNu6ra+psaMJFEht2ju4e/V1t6RqfgtO78FRdVpRiZC2To9ES8V829Vx5Log1fH9Zqfa6q4ELNT9ClUjji3gKTxfrP3ZMx/5OrdhB9m1usd/2OrmVu/d9XjNUuel26zImtCdb53h0EkW5ayKMhgnyXcdY+szmDeOB+WaP5id2rhvO49/XgAAsMNUx49ydVX7z7han8JRJwBS17ZwlslBxvperXoP6vigKQOv33VyGQB5zc3pr5D9af3S6Yd017n/38AbAqAAYnH9tP+lxuvTeK6UtAeP73ZlW4Z7DU7hVIaxkB2mjk5msmRcUWtsDexpq/TF+sT6X+uOc/uJ/HkDIIJQndyY/YSrm5vxfNQ5vQ/PntyRzQ8qYlcsZY7dfn1oZooIACisKcOk4dmQ06M43Vep+iq28sjZePofKgAQuiGv38jexY36ClV2g1X8vHPuWjz78fiir29FiyqkrhVq8wdKv5Ce5jbmWMXxuOS/bq75h/r07v/m86+enEpvz2WcFwDSMBBHWDyztvDu+ZJd6Rzvl+NmHIcCEJI8stYpWkxh26wvaIbhOIPje5jd4xr/wHxh67uzM/teOF+Mp3FeAegPO3LEc+X39280WwfBv9dV7lK55pCJZau4AFjCS8C6PCsmXpJ4TrJn51Y/OVuY/wB35pg++9Ab/qeot8Zb462x7fg/4oRgU2jN0NUAAAAASUVORK5CYII=" height="16" width="16"></image></symbol> <g ed:height="25" ed:layout="tree" transform="matrix(1,0,0,1,364.66,2786.25)" ed:parentid="199" id="202" ed:width="114.484375"><path stroke="#ffc009" d="M4,0L110.5,0C113.2,0,114.5,1.3,114.5,4L114.5,21C114.5,23.7,113.2,25,110.5,25L4,25C1.3,25,0,23.7,0,21L0,4C0,1.3,1.3,0,4,0z" stroke-width="2" stroke-linejoin="round" fill="none"></path> <text class="st35"><tspan x="10" y="16.5" textLength="92">named 表结构</tspan></text></g> <g ed:height="21" ed:layout="lefttree" transform="matrix(1,0,0,1,358.73,2821)" ed:parentid="202" id="204" ed:width="44.28125"><text class="st35"><tspan x="10" y="16" textLength="23">key</tspan></text></g> <g ed:height="21" ed:layout="lefttree" transform="matrix(1,0,0,1,216.2,2851.75)" ed:parentid="204" id="206" ed:width="145.765625"><text class="st35"><tspan x="10" y="16" textLength="125">notificationName1</tspan></text> <g><path stroke="#dddddd" d="M4,29.5L18,29.5C20.7,29.5,22,30.8,22,33.5L22,45.5C22,48.2,20.7,49.5,18,49.5L4,49.5C1.3,49.5,0,48.2,0,45.5L0,33.5C0,30.8,1.3,29.5,4,29.5z" stroke-width="0.8" fill="#ebebeb"></path> <text class="st36"><tspan x="4" y="43.5">1</tspan></text></g></g> <g ed:height="21" ed:layout="lefttree" transform="matrix(1,0,0,1,216.2,2910.5)" ed:parentid="204" id="209" ed:width="145.765625"><text class="st35"><tspan x="10" y="16" textLength="125">notificationName2</tspan></text> <g><path stroke="#dddddd" d="M4,29.5L18,29.5C20.7,29.5,22,30.8,22,33.5L22,45.5C22,48.2,20.7,49.5,18,49.5L4,49.5C1.3,49.5,0,48.2,0,45.5L0,33.5C0,30.8,1.3,29.5,4,29.5z" stroke-width="0.8" fill="#ebebeb"></path> <text class="st36"><tspan x="4" y="43.5">2</tspan></text></g></g> <g ed:height="21" ed:layout="lefttree" transform="matrix(1,0,0,1,327.7,2969.25)" ed:parentid="204" id="212" ed:width="34.265625"><text class="st35"><tspan x="10" y="16" textLength="13">...</tspan></text> <g><path stroke="#dddddd" d="M4,29.5L18,29.5C20.7,29.5,22,30.8,22,33.5L22,45.5C22,48.2,20.7,49.5,18,49.5L4,49.5C1.3,49.5,0,48.2,0,45.5L0,33.5C0,30.8,1.3,29.5,4,29.5z" stroke-width="0.8" fill="#ebebeb"></path> <text class="st36"><tspan x="4" y="43.5">3</tspan></text></g></g> <g ed:height="21" transform="matrix(1,0,0,1,440.81,2821)" ed:parentid="202" id="215" ed:width="56.484375"><text class="st35"><tspan x="10" y="16" textLength="35">value</tspan></text></g> <g ed:height="21" transform="matrix(1,0,0,1,487.95,2851.75)" ed:parentid="215" id="217" ed:width="88.6875"><text class="st35"><tspan x="10" y="16" textLength="68">objTable1</tspan></text> <g><path stroke="#dddddd" d="M4,29.5L18,29.5C20.7,29.5,22,30.8,22,33.5L22,45.5C22,48.2,20.7,49.5,18,49.5L4,49.5C1.3,49.5,0,48.2,0,45.5L0,33.5C0,30.8,1.3,29.5,4,29.5z" stroke-width="0.8" fill="#ebebeb"></path> <text class="st36"><tspan x="4" y="43.5">1</tspan></text></g></g> <g ed:height="21" transform="matrix(1,0,0,1,487.95,2910.5)" ed:parentid="215" id="220" ed:width="88.6875"><text class="st35"><tspan x="10" y="16" textLength="68">objTable2</tspan></text> <g><path stroke="#dddddd" d="M4,29.5L18,29.5C20.7,29.5,22,30.8,22,33.5L22,45.5C22,48.2,20.7,49.5,18,49.5L4,49.5C1.3,49.5,0,48.2,0,45.5L0,33.5C0,30.8,1.3,29.5,4,29.5z" stroke-width="0.8" fill="#ebebeb"></path> <text class="st36"><tspan x="4" y="43.5">2</tspan></text></g></g> <g ed:height="21" transform="matrix(1,0,0,1,487.95,2969.25)" ed:parentid="215" id="223" ed:width="34.265625"><text class="st35"><tspan x="10" y="16" textLength="13">...</tspan></text> <g><path stroke="#dddddd" d="M4,29.5L18,29.5C20.7,29.5,22,30.8,22,33.5L22,45.5C22,48.2,20.7,49.5,18,49.5L4,49.5C1.3,49.5,0,48.2,0,45.5L0,33.5C0,30.8,1.3,29.5,4,29.5z" stroke-width="0.8" fill="#ebebeb"></path> <text class="st36"><tspan x="4" y="43.5">3</tspan></text></g></g> <g ed:height="24" transform="matrix(1,0,0,1,216.2,3028)" ed:parentid="199" id="226" ed:width="237.21875"><text class="st35"><tspan x="10" y="16" textLength="216">named 表中value对应object 表：</tspan></text></g> <g ed:height="25" ed:layout="tree" transform="matrix(1,0,0,1,300.04,3061.75)" ed:parentid="199" id="228" ed:width="245.890625"><path stroke="#ffc009" d="M4,0L241.9,0C244.6,0,245.9,1.3,245.9,4L245.9,21C245.9,23.7,244.6,25,241.9,25L4,25C1.3,25,0,23.7,0,21L0,4C0,1.3,1.3,0,4,0z" stroke-width="2" stroke-linejoin="round" fill="none"></path> <text class="st35"><tspan x="10" y="16.5" textLength="224">objTable1 表结构【nameless 表】</tspan></text></g> <g ed:height="21" ed:layout="lefttree" transform="matrix(1,0,0,1,359.8,3096.5)" ed:parentid="228" id="230" ed:width="44.28125"><text class="st35"><tspan x="10" y="16" textLength="23">key</tspan></text></g> <g ed:height="21" ed:layout="lefttree" transform="matrix(1,0,0,1,216.2,3127.25)" ed:parentid="230" id="232" ed:width="146.84375"><text class="st35"><tspan x="10" y="16" textLength="126">                object 1</tspan></text> <g><path stroke="#dddddd" d="M4,29.5L18,29.5C20.7,29.5,22,30.8,22,33.5L22,45.5C22,48.2,20.7,49.5,18,49.5L4,49.5C1.3,49.5,0,48.2,0,45.5L0,33.5C0,30.8,1.3,29.5,4,29.5z" stroke-width="0.8" fill="#ebebeb"></path> <text class="st36"><tspan x="4" y="43.5">1</tspan></text></g></g> <g ed:height="21" ed:layout="lefttree" transform="matrix(1,0,0,1,286.95,3186)" ed:parentid="230" id="235" ed:width="76.09375"><text class="st35"><tspan x="10" y="16" textLength="55">object 2</tspan></text> <g><path stroke="#dddddd" d="M4,29.5L18,29.5C20.7,29.5,22,30.8,22,33.5L22,45.5C22,48.2,20.7,49.5,18,49.5L4,49.5C1.3,49.5,0,48.2,0,45.5L0,33.5C0,30.8,1.3,29.5,4,29.5z" stroke-width="0.8" fill="#ebebeb"></path> <text class="st36"><tspan x="4" y="43.5">2</tspan></text></g></g> <g ed:height="21" ed:layout="lefttree" transform="matrix(1,0,0,1,328.78,3244.75)" ed:parentid="230" id="238" ed:width="34.265625"><text class="st35"><tspan x="10" y="16" textLength="13">...</tspan></text> <g><path stroke="#dddddd" d="M4,29.5L18,29.5C20.7,29.5,22,30.8,22,33.5L22,45.5C22,48.2,20.7,49.5,18,49.5L4,49.5C1.3,49.5,0,48.2,0,45.5L0,33.5C0,30.8,1.3,29.5,4,29.5z" stroke-width="0.8" fill="#ebebeb"></path> <text class="st36"><tspan x="4" y="43.5">3</tspan></text></g></g> <g ed:height="21" transform="matrix(1,0,0,1,441.88,3096.5)" ed:parentid="228" id="241" ed:width="56.484375"><text class="st35"><tspan x="10" y="16" textLength="35">value</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,489.03,3127.25)" ed:parentid="241" id="243" ed:width="119.75"><text class="st35"><tspan x="10" y="16" textLength="99">obsever 链表 1</tspan></text> <g><path stroke="#dddddd" d="M4,32.5L18,32.5C20.7,32.5,22,33.8,22,36.5L22,48.5C22,51.2,20.7,52.5,18,52.5L4,52.5C1.3,52.5,0,51.2,0,48.5L0,36.5C0,33.8,1.3,32.5,4,32.5z" stroke-width="0.8" fill="#ebebeb"></path> <text class="st36"><tspan x="4" y="46.5">1</tspan></text></g></g> <g ed:height="24" transform="matrix(1,0,0,1,489.03,3189)" ed:parentid="241" id="246" ed:width="119.75"><text class="st35"><tspan x="10" y="16" textLength="99">obsever 链表 2</tspan></text> <g><path stroke="#dddddd" d="M4,32.5L18,32.5C20.7,32.5,22,33.8,22,36.5L22,48.5C22,51.2,20.7,52.5,18,52.5L4,52.5C1.3,52.5,0,51.2,0,48.5L0,36.5C0,33.8,1.3,32.5,4,32.5z" stroke-width="0.8" fill="#ebebeb"></path> <text class="st36"><tspan x="4" y="46.5">2</tspan></text></g></g> <g ed:height="21" transform="matrix(1,0,0,1,489.03,3250.75)" ed:parentid="241" id="249" ed:width="34.265625"><text class="st35"><tspan x="10" y="16" textLength="13">...</tspan></text> <g><path stroke="#dddddd" d="M4,29.5L18,29.5C20.7,29.5,22,30.8,22,33.5L22,45.5C22,48.2,20.7,49.5,18,49.5L4,49.5C1.3,49.5,0,48.2,0,45.5L0,33.5C0,30.8,1.3,29.5,4,29.5z" stroke-width="0.8" fill="#ebebeb"></path> <text class="st36"><tspan x="4" y="43.5">3</tspan></text></g></g> <g ed:height="24" transform="matrix(1,0,0,1,216.2,3309.5)" ed:parentid="199" id="252" ed:width="260.875"><text class="st35"><tspan x="10" y="16" textLength="240">object 表 对应observer 观察者链表：</tspan></text></g> <g ed:height="24" ed:layout="rightmap" transform="matrix(1,0,0,1,216.2,3359.25)" ed:parentid="199" id="254" ed:width="185.484375"><text class="st35"><tspan x="10" y="16" textLength="164">【wildcard 链表】：head</tspan></text></g> <g ed:height="56" ed:layout="rightmap" transform="matrix(1,0,0,1,428.68,3343.25)" ed:parentid="254" id="256" ed:width="86.75"><path stroke="#ff9f00" d="M4,0L82.7,0C85.4,0,86.8,1.3,86.8,4L86.8,52C86.8,54.7,85.4,56,82.8,56L4,56C1.3,56,0,54.7,0,52L0,4C0,1.3,1.3,0,4,0z" stroke-width="2" stroke-linejoin="round" fill="none"></path> <text class="st35"><tspan x="10" y="16.5" textLength="59">observer</tspan> <tspan x="10" y="33.5" textLength="65">--------</tspan> <tspan x="10" y="50.5" textLength="30">next</tspan></text></g> <g ed:height="56" ed:layout="rightmap" transform="matrix(1,0,0,1,542.43,3343.25)" ed:parentid="256" id="258" ed:width="86.75"><path stroke="#ff9f00" d="M4,0L82.7,0C85.4,0,86.8,1.3,86.8,4L86.8,52C86.8,54.7,85.4,56,82.8,56L4,56C1.3,56,0,54.7,0,52L0,4C0,1.3,1.3,0,4,0z" stroke-width="2" stroke-linejoin="round" fill="none"></path> <text class="st35"><tspan x="10" y="16.5" textLength="59">observer</tspan> <tspan x="10" y="33.5" textLength="65">--------</tspan> <tspan x="10" y="50.5" textLength="30">next</tspan></text></g> <g ed:height="21" ed:layout="rightmap" transform="matrix(1,0,0,1,656.18,3360.75)" ed:parentid="258" id="260" ed:width="34.265625"><text class="st35"><tspan x="10" y="16" textLength="13">...</tspan></text></g> <g ed:height="21" ed:layout="rightmap" transform="matrix(1,0,0,1,717.45,3360.75)" ed:parentid="260" id="262" ed:width="46.46875"><text class="st35"><tspan x="10" y="16" textLength="25">null</tspan></text></g> <g ed:height="27" transform="matrix(1,0,0,1,162.3,3409)" ed:parentid="162" id="264" ed:width="139.78125"><path d="M4,0L135.8,0C138.5,0,139.8,1.3,139.8,4L139.8,23C139.8,25.7,138.5,27,135.8,27L4,27C1.3,27,0,25.7,0,23L0,4C0,1.3,1.3,0,4,0z" stroke="#4caf50" stroke-width="2" stroke-linejoin="round" fill="#ffc009"></path> <g transform="translate(9.5,3.6)"><use transform="translate(0,0)" xlink:href="#imgpriority2"></use></g> <text class="st35"><tspan x="33" y="17.5" textLength="96">nameless 表：</tspan></text></g> <symbol id="imgpriority2"><image xlink:href="data:image/png;base64,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" height="16" width="16"></image></symbol> <g ed:height="24" transform="matrix(1,0,0,1,216.2,3445.75)" ed:parentid="264" id="267" ed:width="141.671875"><text class="st35"><tspan x="10" y="16" textLength="121">就是上面 object 表</tspan></text></g> <g ed:height="27" transform="matrix(1,0,0,1,162.3,3479.5)" ed:parentid="162" id="269" ed:width="147.484375"><path d="M4,0L143.5,0C146.2,0,147.5,1.3,147.5,4L147.5,23C147.5,25.7,146.2,27,143.5,27L4,27C1.3,27,0,25.7,0,23L0,4C0,1.3,1.3,0,4,0z" stroke="#4caf50" stroke-width="2" stroke-linejoin="round" fill="#ffc009"></path> <g transform="translate(9.5,3.6)"><use transform="translate(0,0)" xlink:href="#imgpriority3"></use></g> <text class="st35"><tspan x="33" y="17.5" textLength="103">wildcard 链表：</tspan></text></g> <symbol id="imgpriority3"><image xlink:href="data:image/png;base64,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" height="16" width="16"></image></symbol> <g ed:height="24" transform="matrix(1,0,0,1,216.2,3516.25)" ed:parentid="269" id="272" ed:width="186.625"><text class="st35"><tspan x="10" y="16" textLength="166">就是上面的 observer 链表</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,162.3,3550)" ed:parentid="162" id="274" ed:width="126.203125"><text class="st35"><tspan x="10" y="16" textLength="105">observer 结构：</tspan></text></g> <g ed:height="152" transform="matrix(1,0,0,1,216.2,3590.75)" ed:parentid="274" id="277" ed:width="517"><text class="st35"><tspan x="10" y="16" textLength="139">typedef struct  Obs {</tspan> <tspan x="10" y="33" textLength="352">  id        observer;   /* 接收通知的对象（注册者）.   */</tspan> <tspan x="10" y="53" textLength="310">  SEL       selector;   /* 接收通知调用的方法    */</tspan> <tspan x="10" y="73" textLength="495">  struct Obs    *next;      /* 通知名和object相同时，obs链表下一个obsver    </tspan> <tspan x="10" y="93" textLength="14">*/</tspan> <tspan x="10" y="113" textLength="352">  int       retained;   /* Retain count for structure.  */</tspan> <tspan x="10" y="130" textLength="393">  struct NCTbl  *link;      /* Pointer back to chunk table  */</tspan> <tspan x="10" y="147" textLength="95">} Observation;</tspan></text></g> <g ed:height="26" transform="matrix(1,0,0,1,162.3,3759.5)" ed:parentid="162" id="279" ed:width="141"><path d="M4,0L137,0C139.7,0,141,1.3,141,4L141,22C141,24.7,139.7,26,137,26L4,26C1.3,26,0,24.7,0,22L0,4C0,1.3,1.3,0,4,0z" fill="#8ede99"></path> <g transform="translate(9,3.1)"><use transform="translate(0,0)" xlink:href="#imgstar1"></use></g> <text class="st35"><tspan x="33" y="17" textLength="98">添加观察者流程</tspan></text></g> <symbol id="imgstar1"><image xlink:href="data:image/png;base64,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" height="16" width="16"></image></symbol> <g ed:height="24" transform="matrix(1,0,0,1,216.2,3795.25)" ed:parentid="279" id="282" ed:width="498.8125"><text class="st35"><tspan x="10" y="16" textLength="478">所有注册观察者的操作最后都会调用`addObserver:selector:name:object:`</tspan></text></g> <g ed:height="65" transform="matrix(1,0,0,1,216.2,3829)" ed:parentid="279" id="284" ed:width="518"><path stroke="#ffabd5" d="M4,0L514,0C516.7,0,518,1.3,518,4L518,61C518,63.7,516.7,65,514,65L4,65C1.3,65,0,63.7,0,61L0,4C0,1.3,1.3,0,4,0z" stroke-width="2" stroke-linejoin="round" fill="none"></path> <text class="st35"><tspan x="10" y="16.5" textLength="489">1. 首先会根据传入的参数实例化一个Observation，Observation对象保存了观</tspan> <tspan x="10" y="36.5" textLength="488">察者对象，接收到通知观察者所执行的方法，以及下一个Observation对象的地</tspan> <tspan x="10" y="56.5" textLength="28">址。</tspan></text></g> <g ed:height="45" transform="matrix(1,0,0,1,216.2,3903.75)" ed:parentid="279" id="286" ed:width="518"><path stroke="#ffabd5" d="M4,0L514,0C516.7,0,518,1.3,518,4L518,41C518,43.7,516.7,45,514,45L4,45C1.3,45,0,43.7,0,41L0,4C0,1.3,1.3,0,4,0z" stroke-width="2" stroke-linejoin="round" fill="none"></path> <text class="st35"><tspan x="10" y="16.5" textLength="462">2. 根据是否传入NotificationName选择操作Named Table还是Nameless </tspan> <tspan x="10" y="36.5" textLength="51">Table。</tspan></text></g> <g ed:height="65" transform="matrix(1,0,0,1,216.2,3958.5)" ed:parentid="279" id="288" ed:width="518"><path stroke="#ea8aba" d="M4,0L514,0C516.7,0,518,1.3,518,4L518,61C518,63.7,516.7,65,514,65L4,65C1.3,65,0,63.7,0,61L0,4C0,1.3,1.3,0,4,0z" stroke-width="2" stroke-linejoin="round" fill="none"></path> <text class="st35"><tspan x="10" y="16.5" textLength="486">3. 若传入了NotificationName，则会以NotificationName为key去查找对应的</tspan> <tspan x="10" y="36.5" textLength="494">Value，若找到value，则取出对应的value；若未找到对应的value，则新建一个</tspan> <tspan x="10" y="56.5" textLength="479">table，然后将这个table以NotificationName为key添加到Named Table中。</tspan></text></g> <g ed:height="65" transform="matrix(1,0,0,1,216.2,4033.25)" ed:parentid="279" id="290" ed:width="518"><path stroke="#ea8aba" d="M4,0L514,0C516.7,0,518,1.3,518,4L518,61C518,63.7,516.7,65,514,65L4,65C1.3,65,0,63.7,0,61L0,4C0,1.3,1.3,0,4,0z" stroke-width="2" stroke-linejoin="round" fill="none"></path> <text class="st35"><tspan x="10" y="16.5" textLength="492">4. 若在保存Observation的table中，以object为key取对应的链表。若找到了则</tspan> <tspan x="10" y="36.5" textLength="488">直接在链接末尾插入之前实例化好的Observation；若未找到则以之前实例化好</tspan> <tspan x="10" y="56.5" textLength="264">的Observation对象作为头节点插入进去。</tspan></text></g> <g ed:height="25" transform="matrix(1,0,0,1,216.2,4108)" ed:parentid="279" id="292" ed:width="165.6875"><path stroke="#ff9f00" d="M4,0L161.7,0C164.4,0,165.7,1.3,165.7,4L165.7,21C165.7,23.7,164.4,25,161.7,25L4,25C1.3,25,0,23.7,0,21L0,4C0,1.3,1.3,0,4,0z" stroke-width="2" stroke-linejoin="round" fill="none"></path> <text class="st35"><tspan x="10" y="16.5" textLength="144">5. 如果没有通知名称：</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,270.1,4142.75)" ed:parentid="292" id="294" ed:width="238.078125"><text class="st35"><tspan x="10" y="16" textLength="217">直接根据object 去 NameLess表找</tspan></text></g> <g ed:height="25" transform="matrix(1,0,0,1,216.2,4176.5)" ed:parentid="279" id="296" ed:width="249.515625"><path stroke="#ff9f00" d="M4,0L245.5,0C248.2,0,249.5,1.3,249.5,4L249.5,21C249.5,23.7,248.2,25,245.5,25L4,25C1.3,25,0,23.7,0,21L0,4C0,1.3,1.3,0,4,0z" stroke-width="2" stroke-linejoin="round" fill="none"></path> <text class="st35"><tspan x="10" y="16.5" textLength="228">6. 如果没有名称，也没有object呢？</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,270.1,4211.25)" ed:parentid="296" id="298" ed:width="147"><text class="st35"><tspan x="10" y="16" textLength="126">直接去链表尾部插入</tspan></text></g> <g ed:height="26" transform="matrix(1,0,0,1,162.3,4245)" ed:parentid="162" id="300" ed:width="127"><path d="M4,0L123,0C125.7,0,127,1.3,127,4L127,22C127,24.7,125.7,26,123,26L4,26C1.3,26,0,24.7,0,22L0,4C0,1.3,1.3,0,4,0z" fill="#ff9f00"></path> <g transform="translate(9,3.1)"><use transform="translate(0,0)" xlink:href="#imgstar2"></use></g> <text class="st35"><tspan x="33" y="17" textLength="84">发送通知流程</tspan></text></g> <symbol id="imgstar2"><image xlink:href="data:image/png;base64,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" height="16" width="16"></image></symbol> <g ed:height="64" transform="matrix(1,0,0,1,216.2,4280.75)" ed:parentid="300" id="304" ed:width="517"><text class="st35"><tspan x="10" y="16" textLength="485">发送通知一般调用`postNotificationName:object:userInfo:`来实现，内部会</tspan> <tspan x="10" y="36" textLength="497">根据传入的参数实例化一个NSNotification对象，包含name、object、userinfo</tspan> <tspan x="10" y="56" textLength="42">等信息</tspan></text></g> <g ed:height="44" transform="matrix(1,0,0,1,216.2,4354.5)" ed:parentid="300" id="306" ed:width="517"><text class="st35"><tspan x="10" y="16" textLength="495">发送通知的流程总体来说是根据NotificationName和object找到对应的链表，然</tspan> <tspan x="10" y="36" textLength="492">后遍历整个链表，给每个Observation节点中保存的oberver发送对应的SEL消息</tspan></text></g> <g ed:height="326" transform="matrix(1,0,0,1,216.2,4415.25)" ed:parentid="300" id="308" ed:width="517"><text class="st35"><tspan x="10" y="16" textLength="437">1. 首先会创建一个数组observerArray用来保存需要通知的observer。</tspan> <tspan x="10" y="53" textLength="410">2. 遍历wildcard链表，将observer添加到observerArray数组中。</tspan> <tspan x="10" y="90" textLength="492">3. 若存在object，在nameless table中找到以object为key的链表，然后遍历找</tspan> <tspan x="10" y="110" textLength="336">到的链表，将observer添加到observerArray数组中。</tspan> <tspan x="10" y="147" textLength="486">4. 若存在NotificationName，在named table中以NotificationName为key找</tspan> <tspan x="10" y="167" textLength="496">到对应的table，然后再在找到的table中以object为key找到对应的链表，遍历链</tspan> <tspan x="10" y="187" textLength="481">表，将observer添加到observerArray数组中。如果object不为nil，则以nil为</tspan> <tspan x="10" y="207" textLength="471">key找到对应的链表，遍历链表，将observer添加到observerArray数组中。</tspan> <tspan x="10" y="244" textLength="489">5. 至此所有关于当前通知的observer（wildcard+nameless+named）都已经</tspan> <tspan x="10" y="264" textLength="442">加入到了数组observerArray中。遍历observerArray数组，取出其中的</tspan> <tspan x="10" y="284" textLength="406">observer节点（包含了观察者对象和selector），调用形式如下：</tspan> <tspan x="10" y="321" textLength="467">[o-&gt;observer performSelector: o-&gt;selector withObject: notification];</tspan></text></g> <g ed:height="82" transform="matrix(1,0,0,1,216.2,4758)" ed:parentid="300" id="310" ed:width="518"><path stroke="#ba69c8" d="M4,0L514,0C516.7,0,518,1.3,518,4L518,78C518,80.7,516.7,82,514,82L4,82C1.3,82,0,80.7,0,78L0,4C0,1.3,1.3,0,4,0z" stroke-width="2" stroke-linejoin="round" fill="none"></path> <text class="st35"><tspan x="10" y="16.5" textLength="196">哪个线程发送，哪个线程接收：</tspan> <tspan x="10" y="53.5" textLength="494">发送通知的时候直接在当前线程去发送消息，因此， 发送通知的线程和接收通知</tspan> <tspan x="10" y="73.5" textLength="112">的线程是同一线程</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,216.2,4849.75)" ed:parentid="300" id="312" ed:width="133"><text class="st35"><tspan x="10" y="16" textLength="112">发送通知是同步的</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,270.1,4883.5)" ed:parentid="312" id="314" ed:width="119"><text class="st35"><tspan x="10" y="16" textLength="98">顺序遍历，同步</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,162.3,4917.25)" ed:parentid="162" id="316" ed:width="105"><path d="M4,0L101,0C103.7,0,105,1.3,105,4L105,20C105,22.7,103.7,24,101,24L4,24C1.3,24,0,22.7,0,20L0,4C0,1.3,1.3,0,4,0z" fill="#ff9595"></path> <text class="st35"><tspan x="10" y="16" textLength="84">移除通知流程</tspan></text></g> <g ed:height="198" transform="matrix(1,0,0,1,216.2,4958)" ed:parentid="316" id="319" ed:width="517"><text class="st35"><tspan x="10" y="16" textLength="405">1. 若NotificationName和object都为nil，则清空wildcard链表。</tspan> <tspan x="10" y="53" textLength="463">2. 若NotificationName为nil，遍历named table，若object为nil，则清空</tspan> <tspan x="10" y="73" textLength="488">named table，若object不为nil，则以object为key找到对应的链表，然后清空</tspan> <tspan x="10" y="93" textLength="477">链表。在nameless table中以object为key找到对应的observer链表，然后清</tspan> <tspan x="10" y="113" textLength="300">空，若object也为nil，则清空nameless table。</tspan> <tspan x="10" y="150" textLength="489">3. 若NotificationName不为nil，在named table中以NotificationName为key</tspan> <tspan x="10" y="170" textLength="492">找到对应的table，若object为nil，则清空找到的table，若object不为nil，则以</tspan> <tspan x="10" y="190" textLength="393">object为key在找到的table中取出对应的链表，然后清空链表。</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,162.3,5172.75)" ed:parentid="162" id="321" ed:width="105.9375"><text class="st35"><tspan x="10" y="16" textLength="85">cache 哈希表</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,216.2,5206.5)" ed:parentid="321" id="323" ed:width="105"><text class="st35"><tspan x="10" y="16" textLength="84">用于快速缓存</tspan></text></g> <g ed:height="21" transform="matrix(1,0,0,1,162.3,5240.25)" ed:parentid="162" id="325" ed:width="161.359375"><text class="st35"><tspan x="10" y="16" textLength="140">NSNotificationQueue</tspan></text></g> <g ed:height="183" transform="matrix(1,0,0,1,216.2,5278)" ed:parentid="325" id="328" ed:width="517"><text class="st35"><tspan x="10" y="16" textLength="322">typedef NS_ENUM(NSUInteger, NSPostingStyle) {</tspan> <tspan x="10" y="33" textLength="378">    NSPostWhenIdle = 1, // 当runloop处于空闲状态时post</tspan> <tspan x="10" y="53" textLength="364">    NSPostASAP = 2, // 当当前runloop完成之后立即post</tspan> <tspan x="10" y="73" textLength="208">    NSPostNow = 3  // 立即post</tspan> <tspan x="10" y="93" textLength="9">};</tspan> <tspan x="10" y="127" textLength="310">NSNotification *notification = [NSNotification </tspan> <tspan x="10" y="144" textLength="276">notificationWithName:@&quot;111&quot; object:nil];</tspan> <tspan x="10" y="161" textLength="481">[[NSNotificationQueue defaultQueue] enqueueNotification: notification </tspan> <tspan x="10" y="178" textLength="178">postingStyle:NSPostASAP];</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,216.2,5477.75)" ed:parentid="325" id="330" ed:width="330.53125"><text class="st35"><tspan x="10" y="16" textLength="310">- NSPostingStyle为NSPostNow 模式是同步发送,</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,216.2,5511.5)" ed:parentid="325" id="332" ed:width="321"><text class="st35"><tspan x="10" y="16" textLength="300">- NSPostWhenIdle或者NSPostASAP是异步发送</tspan></text></g> <g ed:height="44" transform="matrix(1,0,0,1,216.2,5545.25)" ed:parentid="325" id="334" ed:width="517"><text class="st35"><tspan x="10" y="16" textLength="495">NSNotificationQueue将通知添加到队列中时，其中postringStyle参数就是定义</tspan> <tspan x="10" y="36" textLength="221">通知调用和runloop状态之间关系。</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,162.3,5599)" ed:parentid="162" id="336" ed:width="91"><text class="st35"><tspan x="10" y="16" textLength="70">指定主线程</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,216.2,5632.75)" ed:parentid="336" id="338" ed:width="505.421875"><text class="st35"><tspan x="10" y="16" textLength="484">使用block接口addObserverForName:object:queue:usingBlock:指定主线程</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,162.3,5666.5)" ed:parentid="162" id="340" ed:width="147"><text class="st35"><tspan x="10" y="16" textLength="126">多次添加同一个通知</tspan></text></g> <g ed:height="44" transform="matrix(1,0,0,1,216.2,5700.25)" ed:parentid="340" id="342" ed:width="517"><text class="st35"><tspan x="10" y="16" textLength="485">由于源码中并不会进行重复过滤，所以添加同一个通知，等于就是添加了2次，</tspan> <tspan x="10" y="36" textLength="112">回调也会触发两次</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,162.3,5754)" ed:parentid="162" id="344" ed:width="105"><text class="st35"><tspan x="10" y="16" textLength="84">多次移除通知</tspan></text></g> <g ed:height="44" transform="matrix(1,0,0,1,216.2,5787.75)" ed:parentid="344" id="346" ed:width="517"><text class="st35"><tspan x="10" y="16" textLength="459">多次移除，并没有问题，因为会去map中查找，找到才会删除。当name和</tspan> <tspan x="10" y="36" textLength="372">object都为nil时，会移除所有关于该observer的WILDCARD</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,162.3,5841.5)" ed:parentid="162" id="348" ed:width="220.25"><path d="M4,0L216.3,0C218.9,0,220.3,1.3,220.3,4L220.3,20C220.3,22.7,218.9,24,216.3,24L4,24C1.3,24,0,22.7,0,20L0,4C0,1.3,1.3,0,4,0z" fill="#ff9595"></path> <text class="st35"><tspan x="10" y="16" textLength="199">子线程发送通知 crash 异常问题</tspan></text></g> <g ed:height="44" transform="matrix(1,0,0,1,216.2,5875.25)" ed:parentid="348" id="350" ed:width="517"><text class="st35"><tspan x="10" y="16" textLength="472">你在子线程发通知，默认子线程执行，这时候如果主线程把收通知的self释放</tspan> <tspan x="10" y="36" textLength="376">了，子线程还未执行完的代码就会出问题 EXC_BAD_ACCESS</tspan></text></g> <g ed:height="24" transform="matrix(1,0,0,1,216.2,5929)" ed:parentid="348" id="352" ed:width="63"><text class="st35"><tspan x="10" y="16" textLength="42">解决：</tspan></text></g> <g ed:height="44" transform="matrix(1,0,0,1,266.6,5962.75)" ed:parentid="352" id="354" ed:width="517"><text class="st35"><tspan x="10" y="16" textLength="490">为了避免通知因为线程阻塞，最好是主线程发通知，需要耗时操作的逻辑在接收</tspan> <tspan x="10" y="36" textLength="182">到通知以后自己开线程处理。</tspan></text></g></svg></div> <div id="copyright">Created With  <a href="https://www.edrawsoft.com/" target="_blank" title="edrawsoft">MindMaster</a></div></div></div></body></html></div></div> <!----> <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/961a0c/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">NSOperation</div></a> <a href="/pages/e2922b/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">KVO</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/961a0c/" class="prev">NSOperation</a></span> <span class="next"><a href="/pages/e2922b/">KVO</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> <!----></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a3b82193.js" defer></script><script src="/assets/js/2.d54d51d6.js" defer></script><script src="/assets/js/14.aecfb713.js" defer></script>
  </body>
</html>
