<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Delegate | 知识导图</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/images/logo.PNG">
    <meta name="description" content="复杂的知识体系需要一套精简的知识导图作参考和索引">
    
    <link rel="preload" href="/assets/css/0.styles.f55df645.css" as="style"><link rel="preload" href="/assets/js/app.0f5508c3.js" as="script"><link rel="preload" href="/assets/js/2.d54d51d6.js" as="script"><link rel="preload" href="/assets/js/36.1db1b18e.js" as="script"><link rel="prefetch" href="/assets/js/10.e7c89723.js"><link rel="prefetch" href="/assets/js/11.47990fdb.js"><link rel="prefetch" href="/assets/js/12.cc347e95.js"><link rel="prefetch" href="/assets/js/13.8d97213a.js"><link rel="prefetch" href="/assets/js/14.0f8676d0.js"><link rel="prefetch" href="/assets/js/15.b52f0b68.js"><link rel="prefetch" href="/assets/js/16.7fede778.js"><link rel="prefetch" href="/assets/js/17.80285da6.js"><link rel="prefetch" href="/assets/js/18.ff5f3914.js"><link rel="prefetch" href="/assets/js/19.b6dc623f.js"><link rel="prefetch" href="/assets/js/20.6055ae71.js"><link rel="prefetch" href="/assets/js/21.32a535b7.js"><link rel="prefetch" href="/assets/js/22.04e4ee27.js"><link rel="prefetch" href="/assets/js/23.e0157db1.js"><link rel="prefetch" href="/assets/js/24.02871e36.js"><link rel="prefetch" href="/assets/js/25.632d40b8.js"><link rel="prefetch" href="/assets/js/26.8c118520.js"><link rel="prefetch" href="/assets/js/27.d36d4f39.js"><link rel="prefetch" href="/assets/js/28.a5f5f4a0.js"><link rel="prefetch" href="/assets/js/29.8d985ecc.js"><link rel="prefetch" href="/assets/js/3.1c8f89f8.js"><link rel="prefetch" href="/assets/js/30.2359990d.js"><link rel="prefetch" href="/assets/js/31.6d01554f.js"><link rel="prefetch" href="/assets/js/32.16c8c522.js"><link rel="prefetch" href="/assets/js/33.de312e92.js"><link rel="prefetch" href="/assets/js/34.9c29686a.js"><link rel="prefetch" href="/assets/js/35.7ccb1f3f.js"><link rel="prefetch" href="/assets/js/37.9108243e.js"><link rel="prefetch" href="/assets/js/38.4ca50422.js"><link rel="prefetch" href="/assets/js/39.50e77631.js"><link rel="prefetch" href="/assets/js/4.dd3209f8.js"><link rel="prefetch" href="/assets/js/40.2ed6fea1.js"><link rel="prefetch" href="/assets/js/41.e409439d.js"><link rel="prefetch" href="/assets/js/42.16def890.js"><link rel="prefetch" href="/assets/js/43.a4945833.js"><link rel="prefetch" href="/assets/js/44.93004fe0.js"><link rel="prefetch" href="/assets/js/45.1bdca865.js"><link rel="prefetch" href="/assets/js/46.cf985d03.js"><link rel="prefetch" href="/assets/js/47.f14700e2.js"><link rel="prefetch" href="/assets/js/48.5060e89a.js"><link rel="prefetch" href="/assets/js/49.7327a141.js"><link rel="prefetch" href="/assets/js/5.d0fcbd61.js"><link rel="prefetch" href="/assets/js/50.a111f55b.js"><link rel="prefetch" href="/assets/js/51.3294caec.js"><link rel="prefetch" href="/assets/js/52.1e7af1dc.js"><link rel="prefetch" href="/assets/js/53.5e3f213e.js"><link rel="prefetch" href="/assets/js/54.df84ef0f.js"><link rel="prefetch" href="/assets/js/55.b4365d4b.js"><link rel="prefetch" href="/assets/js/56.0c265085.js"><link rel="prefetch" href="/assets/js/57.b4e0c82c.js"><link rel="prefetch" href="/assets/js/58.37b13db6.js"><link rel="prefetch" href="/assets/js/59.7dd915bd.js"><link rel="prefetch" href="/assets/js/6.a33f551b.js"><link rel="prefetch" href="/assets/js/60.497c25b6.js"><link rel="prefetch" href="/assets/js/61.dcd8f1e0.js"><link rel="prefetch" href="/assets/js/62.6a35ac3b.js"><link rel="prefetch" href="/assets/js/63.cda4a1d5.js"><link rel="prefetch" href="/assets/js/64.31714efc.js"><link rel="prefetch" href="/assets/js/65.73d288ae.js"><link rel="prefetch" href="/assets/js/66.648c0aa9.js"><link rel="prefetch" href="/assets/js/67.5ea43d4c.js"><link rel="prefetch" href="/assets/js/68.82a69bd5.js"><link rel="prefetch" href="/assets/js/69.696d3153.js"><link rel="prefetch" href="/assets/js/7.e750887e.js"><link rel="prefetch" href="/assets/js/70.b93396fa.js"><link rel="prefetch" href="/assets/js/71.86fc566c.js"><link rel="prefetch" href="/assets/js/72.47deaa0b.js"><link rel="prefetch" href="/assets/js/73.23e4612a.js"><link rel="prefetch" href="/assets/js/74.7a12384e.js"><link rel="prefetch" href="/assets/js/75.884cc56f.js"><link rel="prefetch" href="/assets/js/76.47df7e53.js"><link rel="prefetch" href="/assets/js/77.0b510281.js"><link rel="prefetch" href="/assets/js/78.436da846.js"><link rel="prefetch" href="/assets/js/79.47e87a79.js"><link rel="prefetch" href="/assets/js/8.6b31862c.js"><link rel="prefetch" href="/assets/js/80.489bdee8.js"><link rel="prefetch" href="/assets/js/81.f77033fd.js"><link rel="prefetch" href="/assets/js/82.a6215e2e.js"><link rel="prefetch" href="/assets/js/83.7a13f903.js"><link rel="prefetch" href="/assets/js/84.5d2f2f6d.js"><link rel="prefetch" href="/assets/js/85.173138d2.js"><link rel="prefetch" href="/assets/js/86.f1971f8f.js"><link rel="prefetch" href="/assets/js/87.53b8e651.js"><link rel="prefetch" href="/assets/js/9.ca81a571.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f55df645.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo.PNG" alt="知识导图" class="logo"> <span class="site-name can-hide">知识导图</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/3468b2/" class="nav-link">iOS知识</a></div><div class="nav-item"><a href="/pages/603316/" class="nav-link">计算机软件</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友情链接" class="dropdown-title"><!----> <span class="title" style="display:;">友情链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.52im.net/index.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  即时通讯网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://zhuanlan.zhihu.com/p/409277420" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发常用网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/3468b2/" class="nav-link">iOS知识</a></div><div class="nav-item"><a href="/pages/603316/" class="nav-link">计算机软件</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友情链接" class="dropdown-title"><!----> <span class="title" style="display:;">友情链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.52im.net/index.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  即时通讯网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://zhuanlan.zhihu.com/p/409277420" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发常用网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS开发-上篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>iOS开发-中篇</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/1a2531/" class="sidebar-link">KVO</a></li><li><a href="/pages/a8479d/" class="sidebar-link">Block</a></li><li><a href="/pages/be70e9/" class="sidebar-link">GCD</a></li><li><a href="/pages/f56bb5/" class="sidebar-link">NSNotification</a></li><li><a href="/pages/e01d5e/" aria-current="page" class="active sidebar-link">Delegate</a></li><li><a href="/pages/c0a875/" class="sidebar-link">Socket</a></li><li><a href="/pages/44385c/" class="sidebar-link">随笔</a></li><li><a href="/pages/ce0242/" class="sidebar-link">Bug收集分析</a></li><li><a href="/pages/1b1e3b/" class="sidebar-link">内存</a></li><li><a href="/pages/073276/" class="sidebar-link">内存管理</a></li><li><a href="/pages/aaad5a/" class="sidebar-link">锁</a></li><li><a href="/pages/2e933e/" class="sidebar-link">多线程-锁</a></li><li><a href="/pages/4c1594/" class="sidebar-link">数据库多线程</a></li><li><a href="/pages/4abadf/" class="sidebar-link">数据存储</a></li><li><a href="/pages/59f72f/" class="sidebar-link">响应链</a></li><li><a href="/pages/b72c04/" class="sidebar-link">设计模式</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS开发-下篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS开发-三方库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS开发-工具</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>iOS开发</span></li><li data-v-06225672><span data-v-06225672>iOS开发-中篇</span></li></ul> <div class="info" data-v-06225672><!----> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-05-14</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><!----> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Delegate<!----></h1> <!----> <div class="theme-vdoing-content content__default"><html><head><meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>iOS开发-中篇-2022</title> <style>
        body{
            margin: 0;
        }
        #content-info{
            width: auto;
            margin: 0 auto;
            text-align: center;
        }
        #author-info{
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
        }
        #title{
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
            padding-top: 10px;
            margin-bottom: 2px;
            font-size: 34px;
            color: #505050;
        }
        .text{
            white-space:nowrap;
            text-overflow: ellipsis;
            display: inline-block;
            margin-right: 20px;
            margin-bottom: 2px;
            font-size: 20px;
            color: #8c8c8c;
        }
        #navBar{
            width: auto;
            height: auto;
            position: fixed;
            right:0;
            bottom: 0;
            background-color: #f0f3f4;
            overflow-y: auto;
            text-align: center;
        }
        #svg-container{
            width: 100%;
            overflow-x: scroll;
            min-width: 0px;
            margin: 0 10px;
            overflow: visible;
            position: relative;
        }
        #nav-thumbs{
            overflow-y: scroll;
            padding: 0 5px;
        }
        .nav-thumb{
            position: relative;
            margin: 10px auto;
        }
        .nav-thumb &gt;p{
            text-align: center;
            font-size: 12px;
            margin: 4px 0 0 0;
        }
        .nav-thumb &gt;div{
            position: relative;
            display: inline-block;
            border: 1px solid #c6cfd5;
        }
        .nav-thumb img{
            display: block;
        }
        #main-content{
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #ffffff;
            display: flex;
            height: auto;
            flex-flow: row wrap;
            text-align:center;
        }
        #svg-container &gt;svg{
            overflow: visible;
            display: block;
            margin:5px auto;
            margin-bottom: 5px;
        }
        #copyright{
            bottom: 0;
            left: 50%;
            margin: 5px auto;
            font-size: 16px;
            color: #515151;
        }
        #copyright &gt;a{
            text-decoration: none;
            color: #77C;
        }
        .number{
            position: absolute;
            top:0;
            left:0;
            border-top:22px solid #08a1ef;
            border-right: 22px solid transparent;
        }
        .pagenum{
            font-size: 12px;
            color: #fff;
            position: absolute;
            top: -23px;
            left: 2px;
        }
            #navBar::-webkit-scrollbar{
            width: 8px;
            background-color: #f5f5f5;
        }
            #navBar::-webkit-scrollbar-track{
            -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,.3);
            border-radius: 8px;
            background-color: #fff;
        }
            #navBar::-webkit-scrollbar-thumb{
            border-radius: 8px;
            -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,.3);
            background-color: #6b6b70;
        }
        #navBar::-webkit-scrollbar-thumb:hover{
            background-color: #4a4a4f;
        }
</style></head> <body><div id="main-area"><div id="main-content"><div id="svg-container"><svg preserveAspectRadio="xMinYMin meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="page15" width="762" viewBox="0 0 762 2879" xmlns:ed="https://www.edrawsoft.cn/xml/2017/SVGExtensions/" height="2943" ed:name="delegate" ed:hSpacing="30" ed:vSpacing="30"><style type="text/css">&lt;![CDATA[
g[ed\:togtopicid],g[ed\:hyperlink],g[ed\:comment],g[ed\:note] {cursor:pointer;}
g[id] {-moz-user-select: none;-ms-user-select: none;user-select: none;}
svg text::selection,svg tspan::selection{background-color: #4285f4;color: #ffffff;fill: #ffffff;}
.st42 {fill:#141414;font-family:Open Sans;font-size:10.5pt}
.st40 {fill:#4caf50;font-family:Open Sans;font-size:27pt;font-weight:bold}
.st41 {fill:#ffffff;font-family:Open Sans;font-size:13.5pt}
]]&gt;</style> <defs></defs> <rect x="0" fill="#ffffff" width="762" y="0" height="2943"></rect> <path d="M8,0L420.5,0C425.8,0,428.5,2.6,428.5,8L428.5,319C428.5,324.4,425.8,327,420.5,327L8,327C2.6,327,0,324.4,0,319L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,155.3,438.75)" ed:type="boundary" ed:idlist="131" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="127" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="131"></path> <path d="M8,0L369.2,0C374.6,0,377.2,2.6,377.2,8L377.2,407C377.2,412.4,374.6,415,369.2,415L8,415C2.6,415,0,412.4,0,407L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,155.3,809.25)" ed:type="boundary" ed:idlist="135" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="128" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="135"></path> <path d="M8,0L396.7,0C402.1,0,404.8,2.6,404.8,8L404.8,61C404.8,66.4,402.1,69,396.7,69L8,69C2.6,69,0,66.4,0,61L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,155.3,1860.5)" ed:type="boundary" ed:idlist="170" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="155" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="170"></path> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,237C531,242.4,528.4,245,523,245L8,245C2.6,245,0,242.4,0,237L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,209.2,2079.75)" ed:type="boundary" ed:idlist="179" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="178" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="179"></path> <path stroke-linecap="round" d="M-25.2,-26.5L-25.2,20.5C-25.2,23.8,-22.5,26.5,-19.2,26.5L25.2,26.5" transform="matrix(1,0,0,1,83.2,174.5)" fill="none" stroke-width="3" id="118" ed:tosuperid="117" stroke-linejoin="round" stroke="#4caf50" ed:parentid="116"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,152.85,231.88)" fill="none" stroke-width="3" id="120" ed:tosuperid="119" stroke-linejoin="round" stroke="#4caf50" ed:parentid="117"></path> <path stroke-linecap="round" d="M-9.5,-27.8L-9.5,21.8C-9.5,25.1,-6.8,27.8,-3.5,27.8L9.5,27.8" transform="matrix(1,0,0,1,152.85,248.75)" fill="none" stroke-width="3" id="122" ed:tosuperid="121" stroke-linejoin="round" stroke="#4caf50" ed:parentid="117"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,299.38)" fill="none" stroke-width="3" id="124" ed:tosuperid="123" stroke-linejoin="round" stroke="#4caf50" ed:parentid="121"></path> <path stroke-linecap="round" d="M-25.2,-113.6L-25.2,107.6C-25.2,110.9,-22.5,113.6,-19.2,113.6L25.2,113.6" transform="matrix(1,0,0,1,83.2,261.63)" fill="none" stroke-width="3" id="126" ed:tosuperid="125" stroke-linejoin="round" stroke="#4caf50" ed:parentid="116"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,152.85,406.13)" fill="none" stroke-width="3" id="130" ed:tosuperid="129" stroke-linejoin="round" stroke="#4caf50" ed:parentid="125"></path> <path stroke-linecap="round" d="M-9.5,-103.5L-9.5,97.5C-9.5,100.8,-6.8,103.5,-3.5,103.5L9.5,103.5" transform="matrix(1,0,0,1,152.85,498.75)" fill="none" stroke-width="3" id="132" ed:tosuperid="131" stroke-linejoin="round" stroke="#4caf50" ed:parentid="125"></path> <path stroke-linecap="round" d="M-9.5,-196.1L-9.5,190.1C-9.5,193.4,-6.8,196.1,-3.5,196.1L9.5,196.1" transform="matrix(1,0,0,1,152.85,591.38)" fill="none" stroke-width="3" id="134" ed:tosuperid="133" stroke-linejoin="round" stroke="#4caf50" ed:parentid="125"></path> <path stroke-linecap="round" d="M-9.5,-310.8L-9.5,304.8C-9.5,308.1,-6.8,310.8,-3.5,310.8L9.5,310.8" transform="matrix(1,0,0,1,152.85,706)" fill="none" stroke-width="3" id="136" ed:tosuperid="135" stroke-linejoin="round" stroke="#4caf50" ed:parentid="125"></path> <path stroke-linecap="round" d="M-25.2,-564.6L-25.2,558.6C-25.2,561.9,-22.5,564.6,-19.2,564.6L25.2,564.6" transform="matrix(1,0,0,1,83.2,712.63)" fill="none" stroke-width="3" id="138" ed:tosuperid="137" stroke-linejoin="round" stroke="#4caf50" ed:parentid="116"></path> <path stroke-linecap="round" d="M-9.5,-10.1L-9.5,4.1C-9.5,7.4,-6.8,10.1,-3.5,10.1L9.5,10.1" transform="matrix(1,0,0,1,152.85,1307.38)" fill="none" stroke-width="3" id="140" ed:tosuperid="139" stroke-linejoin="round" stroke="#4caf50" ed:parentid="137"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,199.48,1338.88)" fill="none" stroke-width="3" id="142" ed:tosuperid="141" stroke-linejoin="round" stroke="#4caf50" ed:parentid="139"></path> <path stroke-linecap="round" d="M-9.5,-42.4L-9.5,36.4C-9.5,39.7,-6.8,42.4,-3.5,42.4L9.5,42.4" transform="matrix(1,0,0,1,152.85,1339.63)" fill="none" stroke-width="3" id="144" ed:tosuperid="143" stroke-linejoin="round" stroke="#4caf50" ed:parentid="137"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,1403.38)" fill="none" stroke-width="3" id="146" ed:tosuperid="145" stroke-linejoin="round" stroke="#4caf50" ed:parentid="143"></path> <path stroke-linecap="round" d="M-9.5,-27.8L-9.5,21.8C-9.5,25.1,-6.8,27.8,-3.5,27.8L9.5,27.8" transform="matrix(1,0,0,1,206.75,1420.25)" fill="none" stroke-width="3" id="148" ed:tosuperid="147" stroke-linejoin="round" stroke="#4caf50" ed:parentid="143"></path> <path stroke-linecap="round" d="M-9.5,-91.5L-9.5,85.5C-9.5,88.8,-6.8,91.5,-3.5,91.5L9.5,91.5" transform="matrix(1,0,0,1,152.85,1388.75)" fill="none" stroke-width="3" id="150" ed:tosuperid="149" stroke-linejoin="round" stroke="#4caf50" ed:parentid="137"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,203.96,1501.63)" fill="none" stroke-width="3" id="152" ed:tosuperid="151" stroke-linejoin="round" stroke="#4caf50" ed:parentid="149"></path> <path stroke-linecap="round" d="M-25.2,-714.8L-25.2,708.8C-25.2,712.1,-22.5,714.8,-19.2,714.8L25.2,714.8" transform="matrix(1,0,0,1,83.2,862.75)" fill="none" stroke-width="3" id="154" ed:tosuperid="153" stroke-linejoin="round" stroke="#4caf50" ed:parentid="116"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,152.85,1608.38)" fill="none" stroke-width="3" id="157" ed:tosuperid="156" stroke-linejoin="round" stroke="#4caf50" ed:parentid="153"></path> <path stroke-linecap="round" d="M-9.5,-27L-9.5,21C-9.5,24.3,-6.8,27,-3.5,27L9.5,27" transform="matrix(1,0,0,1,152.85,1624.5)" fill="none" stroke-width="3" id="159" ed:tosuperid="158" stroke-linejoin="round" stroke="#4caf50" ed:parentid="153"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,1672.88)" fill="none" stroke-width="3" id="161" ed:tosuperid="160" stroke-linejoin="round" stroke="#4caf50" ed:parentid="158"></path> <path stroke-linecap="round" d="M-9.5,-60L-9.5,54C-9.5,57.3,-6.8,60,-3.5,60L9.5,60" transform="matrix(1,0,0,1,152.85,1657.5)" fill="none" stroke-width="3" id="163" ed:tosuperid="162" stroke-linejoin="round" stroke="#4caf50" ed:parentid="153"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,1740.38)" fill="none" stroke-width="3" id="165" ed:tosuperid="164" stroke-linejoin="round" stroke="#4caf50" ed:parentid="162"></path> <path stroke-linecap="round" d="M-9.5,-98.8L-9.5,92.8C-9.5,96.1,-6.8,98.8,-3.5,98.8L9.5,98.8" transform="matrix(1,0,0,1,152.85,1696.25)" fill="none" stroke-width="3" id="167" ed:tosuperid="166" stroke-linejoin="round" stroke="#4caf50" ed:parentid="153"></path> <path stroke-linecap="round" d="M-9.5,-120.6L-9.5,114.6C-9.5,117.9,-6.8,120.6,-3.5,120.6L9.5,120.6" transform="matrix(1,0,0,1,152.85,1718.13)" fill="none" stroke-width="3" id="169" ed:tosuperid="168" stroke-linejoin="round" stroke="#4caf50" ed:parentid="153"></path> <path stroke-linecap="round" d="M-9.5,-148.8L-9.5,142.8C-9.5,146.1,-6.8,148.8,-3.5,148.8L9.5,148.8" transform="matrix(1,0,0,1,152.85,1746.25)" fill="none" stroke-width="3" id="171" ed:tosuperid="170" stroke-linejoin="round" stroke="#4caf50" ed:parentid="153"></path> <path stroke-linecap="round" d="M-25.2,-917.3L-25.2,911.3C-25.2,914.6,-22.5,917.3,-19.2,917.3L25.2,917.3" transform="matrix(1,0,0,1,83.2,1065.25)" fill="none" stroke-width="3" id="173" ed:tosuperid="172" stroke-linejoin="round" stroke="#4caf50" ed:parentid="116"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,152.85,2013.38)" fill="none" stroke-width="3" id="175" ed:tosuperid="174" stroke-linejoin="round" stroke="#4caf50" ed:parentid="172"></path> <path stroke-linecap="round" d="M-9.5,-27.8L-9.5,21.8C-9.5,25.1,-6.8,27.8,-3.5,27.8L9.5,27.8" transform="matrix(1,0,0,1,152.85,2030.25)" fill="none" stroke-width="3" id="177" ed:tosuperid="176" stroke-linejoin="round" stroke="#4caf50" ed:parentid="172"></path> <path stroke-linecap="round" d="M-9.5,-66.1L-9.5,60.1C-9.5,63.4,-6.8,66.1,-3.5,66.1L9.5,66.1" transform="matrix(1,0,0,1,206.75,2136.13)" fill="none" stroke-width="3" id="180" ed:tosuperid="179" stroke-linejoin="round" stroke="#4caf50" ed:parentid="176"></path> <path stroke-linecap="round" d="M-9.5,-172L-9.5,166C-9.5,169.3,-6.8,172,-3.5,172L9.5,172" transform="matrix(1,0,0,1,152.85,2174.5)" fill="none" stroke-width="3" id="182" ed:tosuperid="181" stroke-linejoin="round" stroke="#4caf50" ed:parentid="172"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,196.25,2369.38)" fill="none" stroke-width="3" id="184" ed:tosuperid="183" stroke-linejoin="round" stroke="#4caf50" ed:parentid="181"></path> <path stroke-linecap="round" d="M-9.5,-27.8L-9.5,21.8C-9.5,25.1,-6.8,27.8,-3.5,27.8L9.5,27.8" transform="matrix(1,0,0,1,196.25,2386.25)" fill="none" stroke-width="3" id="186" ed:tosuperid="185" stroke-linejoin="round" stroke="#4caf50" ed:parentid="181"></path> <path stroke-linecap="round" d="M-25.2,-1165.5L-25.2,1159.5C-25.2,1162.8,-22.5,1165.5,-19.2,1165.5L25.2,1165.5" transform="matrix(1,0,0,1,83.2,1313.5)" fill="none" stroke-width="3" id="188" ed:tosuperid="187" stroke-linejoin="round" stroke="#4caf50" ed:parentid="116"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,152.85,2509.88)" fill="none" stroke-width="3" id="190" ed:tosuperid="189" stroke-linejoin="round" stroke="#4caf50" ed:parentid="187"></path> <path stroke-linecap="round" d="M-9.5,-32.8L-9.5,26.8C-9.5,30.1,-6.8,32.8,-3.5,32.8L9.5,32.8" transform="matrix(1,0,0,1,152.85,2531.75)" fill="none" stroke-width="3" id="192" ed:tosuperid="191" stroke-linejoin="round" stroke="#4caf50" ed:parentid="187"></path> <path stroke-linecap="round" d="M-9.5,-54.6L-9.5,48.6C-9.5,51.9,-6.8,54.6,-3.5,54.6L9.5,54.6" transform="matrix(1,0,0,1,152.85,2553.63)" fill="none" stroke-width="3" id="194" ed:tosuperid="193" stroke-linejoin="round" stroke="#4caf50" ed:parentid="187"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,196.25,2631.13)" fill="none" stroke-width="3" id="196" ed:tosuperid="195" stroke-linejoin="round" stroke="#4caf50" ed:parentid="193"></path> <path stroke-linecap="round" d="M-9.5,-27.8L-9.5,21.8C-9.5,25.1,-6.8,27.8,-3.5,27.8L9.5,27.8" transform="matrix(1,0,0,1,196.25,2648)" fill="none" stroke-width="3" id="198" ed:tosuperid="197" stroke-linejoin="round" stroke="#4caf50" ed:parentid="193"></path> <path stroke-linecap="round" d="M-9.5,-44.6L-9.5,38.6C-9.5,41.9,-6.8,44.6,-3.5,44.6L9.5,44.6" transform="matrix(1,0,0,1,196.25,2664.88)" fill="none" stroke-width="3" id="200" ed:tosuperid="199" stroke-linejoin="round" stroke="#4caf50" ed:parentid="193"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,250.15,2732.38)" fill="none" stroke-width="3" id="202" ed:tosuperid="201" stroke-linejoin="round" stroke="#4caf50" ed:parentid="199"></path> <path stroke-linecap="round" d="M-9.5,-78.4L-9.5,72.4C-9.5,75.7,-6.8,78.4,-3.5,78.4L9.5,78.4" transform="matrix(1,0,0,1,196.25,2698.63)" fill="none" stroke-width="3" id="204" ed:tosuperid="203" stroke-linejoin="round" stroke="#4caf50" ed:parentid="193"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,250.15,2799.88)" fill="none" stroke-width="3" id="206" ed:tosuperid="205" stroke-linejoin="round" stroke="#4caf50" ed:parentid="203"></path> <path stroke-linecap="round" d="M-9.5,-172.8L-9.5,166.8C-9.5,170.1,-6.8,172.8,-3.5,172.8L9.5,172.8" transform="matrix(1,0,0,1,152.85,2671.75)" fill="none" stroke-width="3" id="208" ed:tosuperid="207" stroke-linejoin="round" stroke="#4caf50" ed:parentid="187"></path> <path stroke-linecap="round" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.5,15.9" transform="matrix(1,0,0,1,202.88,2872.38)" fill="none" stroke-width="3" id="210" ed:tosuperid="209" stroke-linejoin="round" stroke="#4caf50" ed:parentid="207"></path> <g transform="matrix(1,0,0,1,23,75)" id="116" ed:width="202.296875" ed:height="73" ed:layout="righttree" ed:topictype="mainidea"><path d="M4,0L198.3,0C201,0,202.3,1.3,202.3,4L202.3,69C202.3,71.7,201,73,198.3,73L4,73C1.3,73,0,71.7,0,69L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="3" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st40"><tspan x="22" textLength="158" y="50">delegate</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,181)" id="117" ed:width="277.6875" ed:height="40" ed:parentid="116"><path d="M4,0L273.7,0C276.4,0,277.7,1.3,277.7,4L277.7,36C277.7,38.7,276.4,40,273.7,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st41"><tspan x="19" textLength="240" y="24">代理模式,是一种消息传递方式</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,230.75)" id="119" ed:width="357" ed:height="24" ed:parentid="117"><text class="st42"><tspan x="10" textLength="336" y="16">一个完整的代理模式包括：委托对象、代理对象和协议</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,264.5)" id="121" ed:width="77" ed:height="24" ed:parentid="117"><text class="st42"><tspan x="10" textLength="56" y="16">一对一的</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,298.25)" id="123" ed:width="184.09375" ed:height="24" ed:parentid="121"><text class="st42"><tspan x="10" textLength="163" y="16">(可以手动封装实现一对多)</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,355.25)" id="125" ed:width="79.6875" ed:height="40" ed:parentid="116"><path d="M4,0L75.7,0C78.4,0,79.7,1.3,79.7,4L79.7,36C79.7,38.7,78.4,40,75.7,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st41"><tspan x="19" textLength="42" y="24">实例:</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,405)" id="129" ed:width="113.84375" ed:height="24" ed:parentid="125"><text class="st42"><tspan x="10" textLength="93" y="16">委托对象, 协议</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,445.75)" id="131" ed:width="414.453125" ed:height="313" ed:parentid="125"><text class="st42"><tspan x="10" textLength="255" y="16">#import &lt;Foundation/Foundation.h&gt;</tspan> <tspan x="10" textLength="250" y="50">@protocol TestDelegate &lt;NSObject&gt;</tspan> <tspan x="10" textLength="195" y="67">- (void)eat:(NSString *)some;</tspan> <tspan x="10" textLength="37" y="84">@end</tspan> <tspan x="10" textLength="163" y="118">@interface Test : UIView</tspan> <tspan x="10" textLength="393" y="135">@property (nonatomic, weak) id&lt;TestDelegate&gt; delegate;</tspan> <tspan x="10" textLength="37" y="152">@end</tspan> <tspan x="10" textLength="152" y="186">@implementation Test</tspan> <tspan x="10" textLength="99" y="203">//点击启动代理</tspan> <tspan x="10" textLength="188" y="223">- (IBAction)done:(id)sender{</tspan> <tspan x="10" textLength="383" y="240">   if ([self.delegate respondsToSelector:@selector(eat:)]) {</tspan> <tspan x="10" textLength="228" y="257">       [self.delegate eat:@&quot;biscuit&quot;];</tspan> <tspan x="10" textLength="18" y="274">   }</tspan> <tspan x="10" textLength="5" y="291">}</tspan> <tspan x="10" textLength="37" y="308">@end</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,775.5)" id="133" ed:width="85.84375" ed:height="24" ed:parentid="125"><text class="st42"><tspan x="10" textLength="65" y="16">代理对象 :</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,816.25)" id="135" ed:width="363.234375" ed:height="401" ed:parentid="125"><text class="st42"><tspan x="10" textLength="255" y="16">#import &lt;Foundation/Foundation.h&gt;</tspan> <tspan x="10" textLength="111" y="33">#import &quot;Test.h&quot;</tspan> <tspan x="10" textLength="342" y="67">@interface Tester : ViewController&lt;TestDelegate&gt;</tspan> <tspan x="10" textLength="274" y="84">@property (nonatomic, strong)Test *test</tspan> <tspan x="10" textLength="37" y="101">@end</tspan> <tspan x="10" textLength="166" y="135">@implementation Tester</tspan> <tspan x="10" textLength="145" y="169">- (void)viewDidLoad {</tspan> <tspan x="10" textLength="160" y="186">    [super viewDidLoad];</tspan> <tspan x="10" textLength="88" y="203">    //设置代理</tspan> <tspan x="10" textLength="184" y="223">    _test = [[Test alloc] init];</tspan> <tspan x="10" textLength="161" y="240">    _test.delegate = self;</tspan> <tspan x="10" textLength="5" y="274">}</tspan> <tspan x="10" textLength="99" y="308">//实现代理回调</tspan> <tspan x="10" textLength="199" y="328">- (void)eat:(NSString *)some {</tspan> <tspan x="10" textLength="184" y="345">   NSLog(@&quot;eat:%@&quot;, some);</tspan> <tspan x="10" textLength="5" y="362">}</tspan> <tspan x="10" textLength="37" y="396">@end</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,1257.25)" id="137" ed:width="246.78125" ed:height="40" ed:parentid="116"><path d="M4,0L242.8,0C245.5,0,246.8,1.3,246.8,4L246.8,36C246.8,38.7,245.5,40,242.8,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st41"><tspan x="19" textLength="209" y="24">设置delegate属性是weak</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,1307)" id="139" ed:width="55.46875" ed:height="21" ed:parentid="137"><text class="st42"><tspan x="10" textLength="34" y="16">weak</tspan></text></g> <g transform="matrix(1,0,0,1,208.93,1337.75)" id="141" ed:width="225.84375" ed:height="24" ed:parentid="139"><text class="st42"><tspan x="10" textLength="205" y="16">弱引用, 对象释放后自动释放内存</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,1371.5)" id="143" ed:width="104.265625" ed:height="21" ed:parentid="137"><text class="st42"><tspan x="10" textLength="83" y="16">strong/copy</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,1402.25)" id="145" ed:width="293.90625" ed:height="24" ed:parentid="143"><text class="st42"><tspan x="10" textLength="273" y="16">Copy 常用字符串和block , 当然strong也行</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,1436)" id="147" ed:width="439.78125" ed:height="24" ed:parentid="143"><text class="st42"><tspan x="10" textLength="419" y="16">强引用,非循环引用对象释放后,自动释放. 否则都无法释放(内存泄漏)</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,1469.75)" id="149" ed:width="64.421875" ed:height="21" ed:parentid="137"><text class="st42"><tspan x="10" textLength="43" y="16">assign</tspan></text></g> <g transform="matrix(1,0,0,1,213.41,1500.5)" id="151" ed:width="503.71875" ed:height="24" ed:parentid="149"><text class="st42"><tspan x="10" textLength="483" y="16">常用在数据类型上(不自动释放,不引用) , 如果给id类型会导致无法释放(野指针)</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,1557.5)" id="153" ed:width="85.375" ed:height="40" ed:parentid="116"><path d="M4,0L81.4,0C84.1,0,85.4,1.3,85.4,4L85.4,36C85.4,38.7,84.1,40,81.4,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st41"><tspan x="19" textLength="47" y="24">协议 :</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,1607.25)" id="156" ed:width="259" ed:height="24" ed:parentid="153"><text class="st42"><tspan x="10" textLength="238" y="16">指定代理双方可以做什么，必须做什么</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,1641)" id="158" ed:width="88.734375" ed:height="21" ed:parentid="153"><text class="st42"><tspan x="10" textLength="68" y="16">@optional</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,1671.75)" id="160" ed:width="105" ed:height="24" ed:parentid="158"><text class="st42"><tspan x="10" textLength="84" y="16">可选实现方法</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,1705.5)" id="162" ed:width="131.890625" ed:height="24" ed:parentid="153"><text class="st42"><tspan x="10" textLength="111" y="16">@required (默认)</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,1739.25)" id="164" ed:width="105" ed:height="24" ed:parentid="162"><text class="st42"><tspan x="10" textLength="84" y="16">必须实现方法</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,1773)" id="166" ed:width="517" ed:height="44" ed:parentid="153"><text class="st42"><tspan x="10" textLength="497" y="16">不管可选还是必选, 都需要通过respondsToSelector:判断代理对象是否实现这个</tspan> <tspan x="10" textLength="37" y="36">方法 :</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,1826.75)" id="168" ed:width="193.421875" ed:height="24" ed:parentid="153"><text class="st42"><tspan x="10" textLength="172" y="16">执行没有实现的方法会崩溃:</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,1867.5)" id="170" ed:width="390.75" ed:height="55" ed:parentid="153"><text class="st42"><tspan x="10" textLength="370" y="16">if ([self.delegate respondsToSelector:@selector(eat:)]) {</tspan> <tspan x="10" textLength="219" y="33">     [self.delegate eat:@&quot;biscuit&quot;];</tspan> <tspan x="10" textLength="5" y="50">}</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,1962.5)" id="172" ed:width="157.125" ed:height="40" ed:parentid="116"><path d="M4,0L153.1,0C155.8,0,157.1,1.3,157.1,4L157.1,36C157.1,38.7,155.8,40,153.1,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st41"><tspan x="19" textLength="119" y="24">NSProxy基类 :</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,2012.25)" id="174" ed:width="371.40625" ed:height="24" ed:parentid="172"><text class="st42"><tspan x="10" textLength="350" y="16">NSProxy和NSObject都是基类, 不过NSProxy不怎么常见</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,2046)" id="176" ed:width="182.75" ed:height="24" ed:parentid="172"><text class="st42"><tspan x="10" textLength="162" y="16">进入系统NSProxy.h文件 :</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,2086.75)" id="179" ed:width="517" ed:height="231" ed:parentid="176"><text class="st42"><tspan x="10" textLength="276" y="16">+ (id)alloc; //1.注意:只有alloc没有init方法</tspan> <tspan x="10" textLength="304" y="36">+ (id)allocWithZone:(nullable NSZone *)zone </tspan> <tspan x="10" textLength="297" y="53">NS_AUTOMATED_REFCOUNT_UNAVAILABLE;</tspan> <tspan x="10" textLength="98" y="70">+ (Class)class;</tspan> <tspan x="10" textLength="84" y="87">//2.消息转发</tspan> <tspan x="10" textLength="360" y="107">- (void)forwardInvocation:(NSInvocation *)invocation;</tspan> <tspan x="10" textLength="476" y="124">- (nullable NSMethodSignature *)methodSignatureForSelector:(SEL)sel </tspan> <tspan x="10" textLength="481" y="141">NS_SWIFT_UNAVAILABLE(&quot;NSInvocation and related APIs not available&quot;);</tspan> <tspan x="10" textLength="103" y="158">- (void)dealloc;</tspan> <tspan x="10" textLength="104" y="175">- (void)finalize;</tspan> <tspan x="10" textLength="337" y="192">@property (readonly, copy) NSString *description;</tspan> <tspan x="10" textLength="381" y="209">@property (readonly, copy) NSString *debugDescription;</tspan> <tspan x="10" textLength="298" y="226">+ (BOOL)respondsToSelector:(SEL)aSelector;</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,2334.5)" id="181" ed:width="49" ed:height="24" ed:parentid="172"><text class="st42"><tspan x="10" textLength="28" y="16">使用</tspan></text></g> <g transform="matrix(1,0,0,1,205.7,2368.25)" id="183" ed:width="91" ed:height="24" ed:parentid="181"><text class="st42"><tspan x="10" textLength="70" y="16">消息转发：</tspan></text></g> <g transform="matrix(1,0,0,1,205.7,2402)" id="185" ed:width="444.71875" ed:height="24" ed:parentid="181"><text class="st42"><tspan x="10" textLength="424" y="16">重写 forwardInvocation 方法，将消息转发到真正的target的代理类</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,2459)" id="187" ed:width="219.515625" ed:height="40" ed:parentid="116"><path d="M4,0L215.5,0C218.2,0,219.5,1.3,219.5,4L219.5,36C219.5,38.7,218.2,40,215.5,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st41"><tspan x="19" textLength="182" y="24">delegate 模拟多继承 :</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,2508.75)" id="189" ed:width="339.75" ed:height="24" ed:parentid="187"><text class="st42"><tspan x="10" textLength="319" y="16">对象是一对一继承的, 因此delegate对象也是单继承</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,2542.5)" id="191" ed:width="517" ed:height="44" ed:parentid="187"><text class="st42"><tspan x="10" textLength="489" y="16">但是NSProxy类拥有转发消息功能, 让NSProxy对象实现实现多协议,再让代理对</tspan> <tspan x="10" textLength="219" y="36">象拥有NSProxy就等于拥有多协议 :</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,2596.25)" id="193" ed:width="49" ed:height="24" ed:parentid="187"><text class="st42"><tspan x="10" textLength="28" y="16">流程</tspan></text></g> <g transform="matrix(1,0,0,1,205.7,2630)" id="195" ed:width="214.40625" ed:height="24" ed:parentid="193"><text class="st42"><tspan x="10" textLength="193" y="16">委托对象A 实现协议方法funcA</tspan></text></g> <g transform="matrix(1,0,0,1,205.7,2663.75)" id="197" ed:width="211.1875" ed:height="24" ed:parentid="193"><text class="st42"><tspan x="10" textLength="190" y="16">委托对象B 实现协议方法funcB</tspan></text></g> <g transform="matrix(1,0,0,1,205.7,2697.5)" id="199" ed:width="267.640625" ed:height="24" ed:parentid="193"><text class="st42"><tspan x="10" textLength="247" y="16">创建NSProxy对象, 并同时遵循两个协议</tspan></text></g> <g transform="matrix(1,0,0,1,259.6,2731.25)" id="201" ed:width="273" ed:height="24" ed:parentid="199"><text class="st42"><tspan x="10" textLength="252" y="16">通过协议方法找到对应的委托对象去处理</tspan></text></g> <g transform="matrix(1,0,0,1,205.7,2765)" id="203" ed:width="481.859375" ed:height="24" ed:parentid="193"><text class="st42"><tspan x="10" textLength="461" y="16">最后,让代理对象拥有NSProxy对象, 通过NSProxy对象去调用相关协议方法</tspan></text></g> <g transform="matrix(1,0,0,1,259.6,2798.75)" id="205" ed:width="277.421875" ed:height="24" ed:parentid="203"><text class="st42"><tspan x="10" textLength="256" y="16">只负责转发消息,不用管委托对象如何实现</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,2832.5)" id="207" ed:width="62.265625" ed:height="24" ed:parentid="187"><text class="st42"><tspan x="10" textLength="41" y="16">总结 : </tspan></text></g> <g transform="matrix(1,0,0,1,212.33,2866.25)" id="209" ed:width="517" ed:height="44" ed:parentid="207"><text class="st42"><tspan x="10" textLength="493" y="16">协议是可以多继承的, 而NSProxy可以转发消息执行对象, 因此通过多协议继承中</tspan> <tspan x="10" textLength="233" y="36">间件(NSProxy)的模式达到代理多继承</tspan></text></g></svg></div> <div id="copyright">Created With  <a href="https://www.edrawsoft.com/" target="_blank" title="edrawsoft">MindMaster</a></div></div></div></body></html></div></div> <!----> <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/f56bb5/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">NSNotification</div></a> <a href="/pages/c0a875/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Socket</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/f56bb5/" class="prev">NSNotification</a></span> <span class="next"><a href="/pages/c0a875/">Socket</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> <!----></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.0f5508c3.js" defer></script><script src="/assets/js/2.d54d51d6.js" defer></script><script src="/assets/js/36.1db1b18e.js" defer></script>
  </body>
</html>
