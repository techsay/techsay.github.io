<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Aspects | 知识导图</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/images/logo.PNG">
    <meta name="description" content="复杂的知识体系需要一套精简的知识导图作参考和索引">
    
    <link rel="preload" href="/assets/css/0.styles.2fd1a9bd.css" as="style"><link rel="preload" href="/assets/js/app.31fa4f17.js" as="script"><link rel="preload" href="/assets/js/2.8191dd0a.js" as="script"><link rel="preload" href="/assets/js/57.5b28d3a7.js" as="script"><link rel="prefetch" href="/assets/js/10.7250f468.js"><link rel="prefetch" href="/assets/js/11.ed490f97.js"><link rel="prefetch" href="/assets/js/12.883a2cb3.js"><link rel="prefetch" href="/assets/js/13.a0aa4fdc.js"><link rel="prefetch" href="/assets/js/14.fce186bf.js"><link rel="prefetch" href="/assets/js/15.793cf824.js"><link rel="prefetch" href="/assets/js/16.52628848.js"><link rel="prefetch" href="/assets/js/17.16cef7b6.js"><link rel="prefetch" href="/assets/js/18.d5b6c8ad.js"><link rel="prefetch" href="/assets/js/19.6aa302e1.js"><link rel="prefetch" href="/assets/js/20.2b1853d8.js"><link rel="prefetch" href="/assets/js/21.e7e4e529.js"><link rel="prefetch" href="/assets/js/22.84b47e83.js"><link rel="prefetch" href="/assets/js/23.b0242ae3.js"><link rel="prefetch" href="/assets/js/24.ee1fd0e9.js"><link rel="prefetch" href="/assets/js/25.bfe54561.js"><link rel="prefetch" href="/assets/js/26.5a18db21.js"><link rel="prefetch" href="/assets/js/27.e51c1318.js"><link rel="prefetch" href="/assets/js/28.949cf03d.js"><link rel="prefetch" href="/assets/js/29.ac7dd779.js"><link rel="prefetch" href="/assets/js/3.39135196.js"><link rel="prefetch" href="/assets/js/30.5d61ff1f.js"><link rel="prefetch" href="/assets/js/31.ecb01aa7.js"><link rel="prefetch" href="/assets/js/32.67a38645.js"><link rel="prefetch" href="/assets/js/33.79b54b7c.js"><link rel="prefetch" href="/assets/js/34.20801b2b.js"><link rel="prefetch" href="/assets/js/35.fe8aa201.js"><link rel="prefetch" href="/assets/js/36.045ee731.js"><link rel="prefetch" href="/assets/js/37.299a71e4.js"><link rel="prefetch" href="/assets/js/38.2ef65c84.js"><link rel="prefetch" href="/assets/js/39.887103f5.js"><link rel="prefetch" href="/assets/js/4.cd3de622.js"><link rel="prefetch" href="/assets/js/40.266a5082.js"><link rel="prefetch" href="/assets/js/41.fe7bbe21.js"><link rel="prefetch" href="/assets/js/42.0b85af36.js"><link rel="prefetch" href="/assets/js/43.fc21a4f7.js"><link rel="prefetch" href="/assets/js/44.369693a5.js"><link rel="prefetch" href="/assets/js/45.25683995.js"><link rel="prefetch" href="/assets/js/46.93b1849f.js"><link rel="prefetch" href="/assets/js/47.e4a6f0f8.js"><link rel="prefetch" href="/assets/js/48.9350461f.js"><link rel="prefetch" href="/assets/js/49.fa85320e.js"><link rel="prefetch" href="/assets/js/5.dd16869c.js"><link rel="prefetch" href="/assets/js/50.fcc6f86d.js"><link rel="prefetch" href="/assets/js/51.2052b80e.js"><link rel="prefetch" href="/assets/js/52.0dced092.js"><link rel="prefetch" href="/assets/js/53.c20bc26f.js"><link rel="prefetch" href="/assets/js/54.e0ca1636.js"><link rel="prefetch" href="/assets/js/55.d3691fe3.js"><link rel="prefetch" href="/assets/js/56.7b122819.js"><link rel="prefetch" href="/assets/js/58.59018903.js"><link rel="prefetch" href="/assets/js/59.9a9da3dc.js"><link rel="prefetch" href="/assets/js/6.2f1bc80e.js"><link rel="prefetch" href="/assets/js/60.76118750.js"><link rel="prefetch" href="/assets/js/61.99e29364.js"><link rel="prefetch" href="/assets/js/62.b9a8363d.js"><link rel="prefetch" href="/assets/js/63.672bce6a.js"><link rel="prefetch" href="/assets/js/64.99f70657.js"><link rel="prefetch" href="/assets/js/65.51e77d8d.js"><link rel="prefetch" href="/assets/js/7.9017dd4f.js"><link rel="prefetch" href="/assets/js/8.bcabd355.js"><link rel="prefetch" href="/assets/js/9.3f5b0a88.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2fd1a9bd.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo.PNG" alt="知识导图" class="logo"> <span class="site-name can-hide">知识导图</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/3468b2/" class="nav-link">iOS知识</a></div><div class="nav-item"><a href="/pages/603316/" class="nav-link">计算机知识</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友情链接" class="dropdown-title"><!----> <span class="title" style="display:;">友情链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.52im.net/index.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  即时通讯网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://zhuanlan.zhihu.com/p/409277420" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发常用网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.xiaolincoding.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小林Coding
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/3468b2/" class="nav-link">iOS知识</a></div><div class="nav-item"><a href="/pages/603316/" class="nav-link">计算机知识</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友情链接" class="dropdown-title"><!----> <span class="title" style="display:;">友情链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.52im.net/index.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  即时通讯网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://zhuanlan.zhihu.com/p/409277420" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发常用网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.xiaolincoding.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小林Coding
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS开发-上篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS开发-中篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS开发-下篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>iOS开发-三方库</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/0ba215/" class="sidebar-link">AFNetworking</a></li><li><a href="/pages/a8b31c/" aria-current="page" class="active sidebar-link">Aspects</a></li><li><a href="/pages/e52348/" class="sidebar-link">SDWebImage</a></li><li><a href="/pages/9d8ba7/" class="sidebar-link">RAC</a></li><li><a href="/pages/18026f/" class="sidebar-link">Realm</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS开发-工具</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>iOS开发</span></li><li data-v-06225672><span data-v-06225672>iOS开发-三方库</span></li></ul> <div class="info" data-v-06225672><!----> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-05-14</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><!----> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Aspects<!----></h1> <!----> <div class="theme-vdoing-content content__default"><html><head><meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>iOS开发-中篇-2022</title> <style>
        body{
            margin: 0;
        }
        #content-info{
            width: auto;
            margin: 0 auto;
            text-align: center;
        }
        #author-info{
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
        }
        #title{
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
            padding-top: 10px;
            margin-bottom: 2px;
            font-size: 34px;
            color: #505050;
        }
        .text{
            white-space:nowrap;
            text-overflow: ellipsis;
            display: inline-block;
            margin-right: 20px;
            margin-bottom: 2px;
            font-size: 20px;
            color: #8c8c8c;
        }
        #navBar{
            width: auto;
            height: auto;
            position: fixed;
            right:0;
            bottom: 0;
            background-color: #f0f3f4;
            overflow-y: auto;
            text-align: center;
        }
        #svg-container{
            width: 100%;
            overflow-x: scroll;
            min-width: 0px;
            margin: 0 10px;
            overflow: visible;
            position: relative;
        }
        #nav-thumbs{
            overflow-y: scroll;
            padding: 0 5px;
        }
        .nav-thumb{
            position: relative;
            margin: 10px auto;
        }
        .nav-thumb &gt;p{
            text-align: center;
            font-size: 12px;
            margin: 4px 0 0 0;
        }
        .nav-thumb &gt;div{
            position: relative;
            display: inline-block;
            border: 1px solid #c6cfd5;
        }
        .nav-thumb img{
            display: block;
        }
        #main-content{
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #ffffff;
            display: flex;
            height: auto;
            flex-flow: row wrap;
            text-align:center;
        }
        #svg-container &gt;svg{
            overflow: visible;
            display: block;
            margin:5px auto;
            margin-bottom: 5px;
        }
        #copyright{
            bottom: 0;
            left: 50%;
            margin: 5px auto;
            font-size: 16px;
            color: #515151;
        }
        #copyright &gt;a{
            text-decoration: none;
            color: #77C;
        }
        .number{
            position: absolute;
            top:0;
            left:0;
            border-top:22px solid #08a1ef;
            border-right: 22px solid transparent;
        }
        .pagenum{
            font-size: 12px;
            color: #fff;
            position: absolute;
            top: -23px;
            left: 2px;
        }
            #navBar::-webkit-scrollbar{
            width: 8px;
            background-color: #f5f5f5;
        }
            #navBar::-webkit-scrollbar-track{
            -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,.3);
            border-radius: 8px;
            background-color: #fff;
        }
            #navBar::-webkit-scrollbar-thumb{
            border-radius: 8px;
            -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,.3);
            background-color: #6b6b70;
        }
        #navBar::-webkit-scrollbar-thumb:hover{
            background-color: #4a4a4f;
        }
</style></head> <body><div id="main-area"><div id="main-content"><div id="svg-container"><svg preserveAspectRadio="xMinYMin meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="page8" width="897" viewBox="0 0 897 6055" xmlns:ed="https://www.edrawsoft.cn/xml/2017/SVGExtensions/" height="6129" ed:name="Aspects" ed:hSpacing="30" ed:vSpacing="30"><style type="text/css">&lt;![CDATA[
g[ed\:togtopicid],g[ed\:hyperlink],g[ed\:comment],g[ed\:note] {cursor:pointer;}
g[id] {-moz-user-select: none;-ms-user-select: none;user-select: none;}
svg text::selection,svg tspan::selection{background-color: #4285f4;color: #ffffff;fill: #ffffff;}
.st24 {fill:#141414;font-family:Open Sans;font-size:10.5pt}
.st22 {fill:#4caf50;font-family:Open Sans;font-size:27pt;font-weight:bold}
.st23 {fill:#ffffff;font-family:Open Sans;font-size:13.5pt}
]]&gt;</style> <defs></defs> <rect x="0" fill="#ffffff" width="897" y="0" height="6129"></rect> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,150C531,155.4,528.4,158,523,158L8,158C2.6,158,0,155.4,0,150L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,155.3,2125.5)" ed:type="boundary" ed:idlist="157" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="155" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="157"></path> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,430C531,435.4,528.4,438,523,438L8,438C2.6,438,0,435.4,0,430L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,155.3,2293.25)" ed:type="boundary" ed:idlist="159" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="156" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="159"></path> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,376C531,381.4,528.4,384,523,384L8,384C2.6,384,0,381.4,0,376L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,155.3,3286.25)" ed:type="boundary" ed:idlist="184" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="181" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="184"></path> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,214C531,219.4,528.4,222,523,222L8,222C2.6,222,0,219.4,0,214L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,155.3,3806.75)" ed:type="boundary" ed:idlist="193" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="188" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="193"></path> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,112C531,117.4,528.4,120,523,120L8,120C2.6,120,0,117.4,0,112L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,155.3,4072.25)" ed:type="boundary" ed:idlist="197" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="189" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="197"></path> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,248C531,253.4,528.4,256,523,256L8,256C2.6,256,0,253.4,0,248L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,155.3,4235.75)" ed:type="boundary" ed:idlist="201" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="190" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="201"></path> <path d="M8,0L253.3,0C258.7,0,261.3,2.6,261.3,8L261.3,95C261.3,100.4,258.7,103,253.3,103L8,103C2.6,103,0,100.4,0,95L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,299.41,335.75)" ed:type="boundary" ed:idlist="117" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="116" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="117"></path> <path d="M8,0L231.5,0C236.9,0,239.5,2.6,239.5,8L239.5,146C239.5,151.4,236.9,154,231.5,154L8,154C2.6,154,0,151.4,0,146L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,286.28,448.5)" ed:type="boundary" ed:idlist="122" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="121" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="122"></path> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,129C531,134.4,528.4,137,523,137L8,137C2.6,137,0,134.4,0,129L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,259.3,612.25)" ed:type="boundary" ed:idlist="127" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="126" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="127"></path> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,197C531,202.4,528.4,205,523,205L8,205C2.6,205,0,202.4,0,197L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,209.2,792.75)" ed:type="boundary" ed:idlist="132" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="131" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="132"></path> <path d="M8,0L477.7,0C483.1,0,485.7,2.6,485.7,8L485.7,44C485.7,49.4,483.1,52,477.7,52L8,52C2.6,52,0,49.4,0,44L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,209.2,1041.25)" ed:type="boundary" ed:idlist="137" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="136" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="137"></path> <path d="M8,0L482.6,0C488,0,490.6,2.6,490.6,8L490.6,203C490.6,208.4,488,211,482.6,211L8,211C2.6,211,0,208.4,0,203L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,209.2,1136.75)" ed:type="boundary" ed:idlist="142" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="141" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="142"></path> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,470C531,475.4,528.4,478,523,478L8,478C2.6,478,0,475.4,0,470L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,209.2,1564.75)" ed:type="boundary" ed:idlist="151" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="146" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="151"></path> <path d="M8,0L333.3,0C338.7,0,341.3,2.6,341.3,8L341.3,61C341.3,66.4,338.7,69,333.3,69L8,69C2.6,69,0,66.4,0,61L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,209.2,2920.75)" ed:type="boundary" ed:idlist="168" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="167" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="168"></path> <path d="M8,0L422.1,0C427.5,0,430.1,2.6,430.1,8L430.1,61C430.1,66.4,427.5,69,422.1,69L8,69C2.6,69,0,66.4,0,61L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,209.2,3033.25)" ed:type="boundary" ed:idlist="173" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="172" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="173"></path> <path d="M8,0L399.7,0C405.1,0,407.7,2.6,407.7,8L407.7,112C407.7,117.4,405.1,120,399.7,120L8,120C2.6,120,0,117.4,0,112L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,209.2,5006.75)" ed:type="boundary" ed:idlist="218" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="215" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="218"></path> <path d="M8,0L524,0C529.4,0,532,2.6,532,8L532,198C532,203.4,529.4,206,524,206L8,206C2.6,206,0,203.4,0,198L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,287.3,5274)" ed:type="boundary" ed:idlist="231" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="230" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="231"></path> <path d="M8,0L524,0C529.4,0,532,2.6,532,8L532,147C532,152.4,529.4,155,524,155L8,155C2.6,155,0,152.4,0,147L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,315.3,5623.5)" ed:type="boundary" ed:idlist="240" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="239" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="240"></path> <path d="M8,0L524,0C529.4,0,532,2.6,532,8L532,130C532,135.4,529.4,138,524,138L8,138C2.6,138,0,135.4,0,130L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,343.3,5854)" ed:type="boundary" ed:idlist="249" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="248" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="249"></path> <path stroke-linecap="round" d="M-25.2,-33L-25.2,27C-25.2,30.3,-22.5,33,-19.2,33L25.2,33" transform="matrix(1,0,0,1,83.2,191)" fill="none" stroke-width="3" id="111" ed:tosuperid="110" stroke-linejoin="round" stroke="#4caf50" ed:parentid="109"></path> <path stroke-linecap="round" d="M-25.2,-75L-25.2,69C-25.2,72.3,-22.5,75,-19.2,75L25.2,75" transform="matrix(1,0,0,1,83.2,233)" fill="none" stroke-width="3" id="113" ed:tosuperid="112" stroke-linejoin="round" stroke="#4caf50" ed:parentid="109"></path> <path stroke-linecap="round" d="M-9.5,-30.6L-9.5,24.6C-9.5,27.9,-6.8,30.6,-3.5,30.6L9.5,30.6" transform="matrix(1,0,0,1,152.85,356.63)" fill="none" stroke-width="3" id="115" ed:tosuperid="114" stroke-linejoin="round" stroke="#4caf50" ed:parentid="112"></path> <path stroke-linecap="round" d="M-13.5,0L0,0C0,0,2.7,0,6,0L13.5,0" transform="matrix(1,0,0,1,292.91,387.25)" fill="none" stroke-width="3" id="118" ed:tosuperid="117" stroke-linejoin="round" stroke="#4caf50" ed:parentid="114"></path> <path stroke-linecap="round" d="M-9.5,-99.8L-9.5,93.8C-9.5,97.1,-6.8,99.8,-3.5,99.8L9.5,99.8" transform="matrix(1,0,0,1,152.85,425.75)" fill="none" stroke-width="3" id="120" ed:tosuperid="119" stroke-linejoin="round" stroke="#4caf50" ed:parentid="112"></path> <path stroke-linecap="round" d="M-13.5,0L0,0C0,0,2.7,0,6,0L13.5,0" transform="matrix(1,0,0,1,279.78,525.5)" fill="none" stroke-width="3" id="123" ed:tosuperid="122" stroke-linejoin="round" stroke="#4caf50" ed:parentid="119"></path> <path stroke-linecap="round" d="M-9.5,-177.4L-9.5,171.4C-9.5,174.7,-6.8,177.4,-3.5,177.4L9.5,177.4" transform="matrix(1,0,0,1,152.85,503.38)" fill="none" stroke-width="3" id="125" ed:tosuperid="124" stroke-linejoin="round" stroke="#4caf50" ed:parentid="112"></path> <path stroke-linecap="round" d="M-13.5,0L0,0C0,0,2.7,0,6,0L13.5,0" transform="matrix(1,0,0,1,252.8,680.75)" fill="none" stroke-width="3" id="128" ed:tosuperid="127" stroke-linejoin="round" stroke="#4caf50" ed:parentid="124"></path> <path stroke-linecap="round" d="M-9.5,-222.5L-9.5,216.5C-9.5,219.8,-6.8,222.5,-3.5,222.5L9.5,222.5" transform="matrix(1,0,0,1,152.85,548.5)" fill="none" stroke-width="3" id="130" ed:tosuperid="129" stroke-linejoin="round" stroke="#4caf50" ed:parentid="112"></path> <path stroke-linecap="round" d="M-9.4,-56.1L-9.4,50.1C-9.4,53.4,-6.8,56.1,-3.4,56.1L9.5,56.1" transform="matrix(1,0,0,1,206.75,839.13)" fill="none" stroke-width="3" id="133" ed:tosuperid="132" stroke-linejoin="round" stroke="#4caf50" ed:parentid="129"></path> <path stroke-linecap="round" d="M-9.5,-346.8L-9.5,340.8C-9.5,344.1,-6.8,346.8,-3.5,346.8L9.5,346.8" transform="matrix(1,0,0,1,152.85,672.75)" fill="none" stroke-width="3" id="135" ed:tosuperid="134" stroke-linejoin="round" stroke="#4caf50" ed:parentid="112"></path> <path stroke-linecap="round" d="M-9.4,-17.9L-9.4,11.9C-9.4,15.2,-6.8,17.9,-3.4,17.9L9.5,17.9" transform="matrix(1,0,0,1,206.75,1049.38)" fill="none" stroke-width="3" id="138" ed:tosuperid="137" stroke-linejoin="round" stroke="#4caf50" ed:parentid="134"></path> <path stroke-linecap="round" d="M-9.5,-394.5L-9.5,388.5C-9.5,391.8,-6.8,394.5,-3.5,394.5L9.5,394.5" transform="matrix(1,0,0,1,152.85,720.5)" fill="none" stroke-width="3" id="140" ed:tosuperid="139" stroke-linejoin="round" stroke="#4caf50" ed:parentid="112"></path> <path stroke-linecap="round" d="M-9.4,-57.6L-9.4,51.6C-9.4,54.9,-6.8,57.6,-3.4,57.6L9.5,57.6" transform="matrix(1,0,0,1,206.75,1184.63)" fill="none" stroke-width="3" id="143" ed:tosuperid="142" stroke-linejoin="round" stroke="#4caf50" ed:parentid="139"></path> <path stroke-linecap="round" d="M-9.5,-526L-9.5,520C-9.5,523.3,-6.8,526,-3.5,526L9.5,526" transform="matrix(1,0,0,1,152.85,852)" fill="none" stroke-width="3" id="145" ed:tosuperid="144" stroke-linejoin="round" stroke="#4caf50" ed:parentid="112"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,1409.38)" fill="none" stroke-width="3" id="148" ed:tosuperid="147" stroke-linejoin="round" stroke="#4caf50" ed:parentid="144"></path> <path stroke-linecap="round" d="M-9.4,-50L-9.4,44C-9.4,47.3,-6.8,50,-3.4,50L9.5,50" transform="matrix(1,0,0,1,206.75,1448.5)" fill="none" stroke-width="3" id="150" ed:tosuperid="149" stroke-linejoin="round" stroke="#4caf50" ed:parentid="144"></path> <path stroke-linecap="round" d="M-9.4,-202.6L-9.4,196.6C-9.4,199.9,-6.8,202.6,-3.4,202.6L9.5,202.6" transform="matrix(1,0,0,1,206.75,1601.13)" fill="none" stroke-width="3" id="152" ed:tosuperid="151" stroke-linejoin="round" stroke="#4caf50" ed:parentid="144"></path> <path stroke-linecap="round" d="M-25.2,-968.9L-25.2,962.9C-25.2,966.2,-22.5,968.9,-19.2,968.9L25.2,968.9" transform="matrix(1,0,0,1,83.2,1126.88)" fill="none" stroke-width="3" id="154" ed:tosuperid="153" stroke-linejoin="round" stroke="#4caf50" ed:parentid="109"></path> <path stroke-linecap="round" d="M-9.5,-44.4L-9.5,38.4C-9.5,41.7,-6.8,44.4,-3.5,44.4L9.5,44.4" transform="matrix(1,0,0,1,152.85,2160.13)" fill="none" stroke-width="3" id="158" ed:tosuperid="157" stroke-linejoin="round" stroke="#4caf50" ed:parentid="153"></path> <path stroke-linecap="round" d="M-9.5,-198.3L-9.5,192.3C-9.5,195.6,-6.8,198.3,-3.5,198.3L9.5,198.3" transform="matrix(1,0,0,1,152.85,2314)" fill="none" stroke-width="3" id="160" ed:tosuperid="159" stroke-linejoin="round" stroke="#4caf50" ed:parentid="153"></path> <path stroke-linecap="round" d="M-25.2,-1313.1L-25.2,1307.1C-25.2,1310.4,-22.5,1313.1,-19.2,1313.1L25.2,1313.1" transform="matrix(1,0,0,1,83.2,1471.13)" fill="none" stroke-width="3" id="162" ed:tosuperid="161" stroke-linejoin="round" stroke="#4caf50" ed:parentid="109"></path> <path stroke-linecap="round" d="M-25.2,-1349.6L-25.2,1343.6C-25.2,1346.9,-22.5,1349.6,-19.2,1349.6L25.2,1349.6" transform="matrix(1,0,0,1,83.2,1507.63)" fill="none" stroke-width="3" id="164" ed:tosuperid="163" stroke-linejoin="round" stroke="#4caf50" ed:parentid="109"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,152.85,2888.13)" fill="none" stroke-width="3" id="166" ed:tosuperid="165" stroke-linejoin="round" stroke="#4caf50" ed:parentid="163"></path> <path stroke-linecap="round" d="M-9.4,-22.1L-9.4,16.1C-9.4,19.4,-6.8,22.1,-3.4,22.1L9.5,22.1" transform="matrix(1,0,0,1,206.75,2933.13)" fill="none" stroke-width="3" id="169" ed:tosuperid="168" stroke-linejoin="round" stroke="#4caf50" ed:parentid="165"></path> <path stroke-linecap="round" d="M-9.5,-67.1L-9.5,61.1C-9.5,64.4,-6.8,67.1,-3.5,67.1L9.5,67.1" transform="matrix(1,0,0,1,152.85,2944.38)" fill="none" stroke-width="3" id="171" ed:tosuperid="170" stroke-linejoin="round" stroke="#4caf50" ed:parentid="163"></path> <path stroke-linecap="round" d="M-9.4,-22.1L-9.4,16.1C-9.4,19.4,-6.8,22.1,-3.4,22.1L9.5,22.1" transform="matrix(1,0,0,1,206.75,3045.63)" fill="none" stroke-width="3" id="174" ed:tosuperid="173" stroke-linejoin="round" stroke="#4caf50" ed:parentid="170"></path> <path stroke-linecap="round" d="M-9.5,-123.4L-9.5,117.4C-9.5,120.7,-6.8,123.4,-3.5,123.4L9.5,123.4" transform="matrix(1,0,0,1,152.85,3000.63)" fill="none" stroke-width="3" id="176" ed:tosuperid="175" stroke-linejoin="round" stroke="#4caf50" ed:parentid="163"></path> <path stroke-linecap="round" d="M-9.4,-10.9L-9.4,4.9C-9.4,8.2,-6.8,10.9,-3.4,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,3146.88)" fill="none" stroke-width="3" id="178" ed:tosuperid="177" stroke-linejoin="round" stroke="#4caf50" ed:parentid="175"></path> <path stroke-linecap="round" d="M-25.2,-1532.4L-25.2,1526.4C-25.2,1529.7,-22.5,1532.4,-19.2,1532.4L25.2,1532.4" transform="matrix(1,0,0,1,83.2,1690.38)" fill="none" stroke-width="3" id="180" ed:tosuperid="179" stroke-linejoin="round" stroke="#4caf50" ed:parentid="109"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,152.85,3253.63)" fill="none" stroke-width="3" id="183" ed:tosuperid="182" stroke-linejoin="round" stroke="#4caf50" ed:parentid="179"></path> <path stroke-linecap="round" d="M-9.5,-117.8L-9.5,111.8C-9.5,115.1,-6.8,117.8,-3.5,117.8L9.5,117.8" transform="matrix(1,0,0,1,152.85,3360.5)" fill="none" stroke-width="3" id="185" ed:tosuperid="184" stroke-linejoin="round" stroke="#4caf50" ed:parentid="179"></path> <path stroke-linecap="round" d="M-25.2,-1782.6L-25.2,1776.6C-25.2,1779.9,-22.5,1782.6,-19.2,1782.6L25.2,1782.6" transform="matrix(1,0,0,1,83.2,1940.63)" fill="none" stroke-width="3" id="187" ed:tosuperid="186" stroke-linejoin="round" stroke="#4caf50" ed:parentid="109"></path> <path stroke-linecap="round" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.5,15.9" transform="matrix(1,0,0,1,152.85,3759.13)" fill="none" stroke-width="3" id="192" ed:tosuperid="191" stroke-linejoin="round" stroke="#4caf50" ed:parentid="186"></path> <path stroke-linecap="round" d="M-9.5,-87.3L-9.5,81.3C-9.5,84.6,-6.8,87.3,-3.5,87.3L9.5,87.3" transform="matrix(1,0,0,1,152.85,3830.5)" fill="none" stroke-width="3" id="194" ed:tosuperid="193" stroke-linejoin="round" stroke="#4caf50" ed:parentid="186"></path> <path stroke-linecap="round" d="M-9.5,-153.6L-9.5,147.6C-9.5,150.9,-6.8,153.6,-3.5,153.6L9.5,153.6" transform="matrix(1,0,0,1,152.85,3896.88)" fill="none" stroke-width="3" id="196" ed:tosuperid="195" stroke-linejoin="round" stroke="#4caf50" ed:parentid="186"></path> <path stroke-linecap="round" d="M-9.5,-194.5L-9.5,188.5C-9.5,191.8,-6.8,194.5,-3.5,194.5L9.5,194.5" transform="matrix(1,0,0,1,152.85,3937.75)" fill="none" stroke-width="3" id="198" ed:tosuperid="197" stroke-linejoin="round" stroke="#4caf50" ed:parentid="186"></path> <path stroke-linecap="round" d="M-9.5,-235.4L-9.5,229.4C-9.5,232.7,-6.8,235.4,-3.5,235.4L9.5,235.4" transform="matrix(1,0,0,1,152.85,3978.63)" fill="none" stroke-width="3" id="200" ed:tosuperid="199" stroke-linejoin="round" stroke="#4caf50" ed:parentid="186"></path> <path stroke-linecap="round" d="M-9.5,-310.3L-9.5,304.3C-9.5,307.6,-6.8,310.3,-3.5,310.3L9.5,310.3" transform="matrix(1,0,0,1,152.85,4053.5)" fill="none" stroke-width="3" id="202" ed:tosuperid="201" stroke-linejoin="round" stroke="#4caf50" ed:parentid="186"></path> <path stroke-linecap="round" d="M-9.5,-390.1L-9.5,384.1C-9.5,387.4,-6.8,390.1,-3.5,390.1L9.5,390.1" transform="matrix(1,0,0,1,152.85,4133.38)" fill="none" stroke-width="3" id="204" ed:tosuperid="203" stroke-linejoin="round" stroke="#4caf50" ed:parentid="186"></path> <path stroke-linecap="round" d="M-9.4,-25.9L-9.4,19.9C-9.4,23.2,-6.8,25.9,-3.4,25.9L9.5,25.9" transform="matrix(1,0,0,1,206.75,4571.38)" fill="none" stroke-width="3" id="206" ed:tosuperid="205" stroke-linejoin="round" stroke="#4caf50" ed:parentid="203"></path> <path stroke-linecap="round" d="M-9.5,-463.1L-9.5,457.1C-9.5,460.4,-6.8,463.1,-3.5,463.1L9.5,463.1" transform="matrix(1,0,0,1,152.85,4206.38)" fill="none" stroke-width="3" id="208" ed:tosuperid="207" stroke-linejoin="round" stroke="#4caf50" ed:parentid="186"></path> <path stroke-linecap="round" d="M-9.4,-15.9L-9.4,9.9C-9.4,13.2,-6.8,15.9,-3.4,15.9L9.5,15.9" transform="matrix(1,0,0,1,206.75,4705.88)" fill="none" stroke-width="3" id="210" ed:tosuperid="209" stroke-linejoin="round" stroke="#4caf50" ed:parentid="207"></path> <path stroke-linecap="round" d="M-9.4,-60.8L-9.4,54.8C-9.4,58.1,-6.8,60.8,-3.4,60.8L9.5,60.8" transform="matrix(1,0,0,1,206.75,4750.75)" fill="none" stroke-width="3" id="212" ed:tosuperid="211" stroke-linejoin="round" stroke="#4caf50" ed:parentid="207"></path> <path stroke-linecap="round" d="M-9.5,-574L-9.5,568C-9.5,571.3,-6.8,574,-3.5,574L9.5,574" transform="matrix(1,0,0,1,152.85,4317.25)" fill="none" stroke-width="3" id="214" ed:tosuperid="213" stroke-linejoin="round" stroke="#4caf50" ed:parentid="186"></path> <path stroke-linecap="round" d="M-9.4,-25.9L-9.4,19.9C-9.4,23.2,-6.8,25.9,-3.4,25.9L9.5,25.9" transform="matrix(1,0,0,1,206.75,4929.13)" fill="none" stroke-width="3" id="217" ed:tosuperid="216" stroke-linejoin="round" stroke="#4caf50" ed:parentid="213"></path> <path stroke-linecap="round" d="M-9.4,-81.8L-9.4,75.8C-9.4,79.1,-6.8,81.8,-3.4,81.8L9.5,81.8" transform="matrix(1,0,0,1,206.75,4985)" fill="none" stroke-width="3" id="219" ed:tosuperid="218" stroke-linejoin="round" stroke="#4caf50" ed:parentid="213"></path> <path stroke-linecap="round" d="M-25.2,-2510.9L-25.2,2504.9C-25.2,2508.2,-22.5,2510.9,-19.2,2510.9L25.2,2510.9" transform="matrix(1,0,0,1,83.2,2668.88)" fill="none" stroke-width="3" id="221" ed:tosuperid="220" stroke-linejoin="round" stroke="#4caf50" ed:parentid="109"></path> <path stroke-linecap="round" d="M-9.5,-10.1L-9.5,4.1C-9.5,7.4,-6.8,10.1,-3.5,10.1L9.5,10.1" transform="matrix(1,0,0,1,152.85,5209.88)" fill="none" stroke-width="3" id="223" ed:tosuperid="222" stroke-linejoin="round" stroke="#4caf50" ed:parentid="220"></path> <path stroke-linecap="round" d="M-9.5,-26.3L-9.5,20.3C-9.5,23.6,-6.8,26.3,-3.5,26.3L9.5,26.3" transform="matrix(1,0,0,1,152.85,5226)" fill="none" stroke-width="3" id="225" ed:tosuperid="224" stroke-linejoin="round" stroke="#4caf50" ed:parentid="220"></path> <path stroke-linecap="round" d="M-13.5,0L0,0C0,0,2.7,0,6,0L13.5,0" transform="matrix(1,0,0,1,283.14,5252.25)" fill="none" stroke-width="3" id="227" ed:tosuperid="226" stroke-linejoin="round" stroke="#4caf50" ed:parentid="224"></path> <path stroke-linecap="round" d="M-9.5,-88.6L-9.5,82.6C-9.5,85.9,-6.8,88.6,-3.5,88.6L9.5,88.6" transform="matrix(1,0,0,1,152.85,5288.38)" fill="none" stroke-width="3" id="229" ed:tosuperid="228" stroke-linejoin="round" stroke="#4caf50" ed:parentid="220"></path> <path stroke-linecap="round" d="M-13.5,0L0,0C0,0,2.7,0,6,0L13.5,0" transform="matrix(1,0,0,1,280.8,5377)" fill="none" stroke-width="3" id="232" ed:tosuperid="231" stroke-linejoin="round" stroke="#4caf50" ed:parentid="228"></path> <path stroke-linecap="round" d="M-9.5,-176L-9.5,170C-9.5,173.3,-6.8,176,-3.5,176L9.5,176" transform="matrix(1,0,0,1,152.85,5375.75)" fill="none" stroke-width="3" id="234" ed:tosuperid="233" stroke-linejoin="round" stroke="#4caf50" ed:parentid="220"></path> <path stroke-linecap="round" d="M-13.5,0L0,0C0,0,2.7,0,6,0L13.5,0" transform="matrix(1,0,0,1,308.8,5551.75)" fill="none" stroke-width="3" id="236" ed:tosuperid="235" stroke-linejoin="round" stroke="#4caf50" ed:parentid="233"></path> <path stroke-linecap="round" d="M-9.5,-250.6L-9.5,244.6C-9.5,247.9,-6.8,250.6,-3.5,250.6L9.5,250.6" transform="matrix(1,0,0,1,152.85,5450.38)" fill="none" stroke-width="3" id="238" ed:tosuperid="237" stroke-linejoin="round" stroke="#4caf50" ed:parentid="220"></path> <path stroke-linecap="round" d="M-13.5,0L0,0C0,0,2.7,0,6,0L13.5,0" transform="matrix(1,0,0,1,308.8,5701)" fill="none" stroke-width="3" id="241" ed:tosuperid="240" stroke-linejoin="round" stroke="#4caf50" ed:parentid="237"></path> <path stroke-linecap="round" d="M-9.5,-308.3L-9.5,302.3C-9.5,305.6,-6.8,308.3,-3.5,308.3L9.5,308.3" transform="matrix(1,0,0,1,152.85,5508)" fill="none" stroke-width="3" id="243" ed:tosuperid="242" stroke-linejoin="round" stroke="#4caf50" ed:parentid="220"></path> <path stroke-linecap="round" d="M-13.5,0L0,0C0,0,2.7,0,6,0L13.5,0" transform="matrix(1,0,0,1,322.8,5816.25)" fill="none" stroke-width="3" id="245" ed:tosuperid="244" stroke-linejoin="round" stroke="#4caf50" ed:parentid="242"></path> <path stroke-linecap="round" d="M-9.5,-388.5L-9.5,382.5C-9.5,385.8,-6.8,388.5,-3.5,388.5L9.5,388.5" transform="matrix(1,0,0,1,152.85,5588.25)" fill="none" stroke-width="3" id="247" ed:tosuperid="246" stroke-linejoin="round" stroke="#4caf50" ed:parentid="220"></path> <path stroke-linecap="round" d="M-13.5,26.9L0,26.9L0,-20.9C0,-24.2,2.7,-26.9,6,-26.9L13.5,-26.9" transform="matrix(1,0,0,1,336.8,5949.88)" fill="none" stroke-width="3" id="250" ed:tosuperid="249" stroke-linejoin="round" stroke="#4caf50" ed:parentid="246"></path> <path stroke-linecap="round" d="M0,-26.9L0,20.9C0,24.2,2.7,26.9,6,26.9L13.5,26.9" transform="matrix(1,0,0,1,336.8,6003.63)" fill="none" stroke-width="3" id="252" ed:tosuperid="251" stroke-linejoin="round" stroke="#4caf50" ed:parentid="246"></path> <path stroke-linecap="round" d="M-9.5,-442.3L-9.5,436.3C-9.5,439.6,-6.8,442.3,-3.5,442.3L9.5,442.3" transform="matrix(1,0,0,1,152.85,5642)" fill="none" stroke-width="3" id="254" ed:tosuperid="253" stroke-linejoin="round" stroke="#4caf50" ed:parentid="220"></path> <g transform="matrix(1,0,0,1,23,85)" id="109" ed:width="189.859375" ed:height="73" ed:layout="righttree" ed:topictype="mainidea"><path d="M4,0L185.9,0C188.5,0,189.9,1.3,189.9,4L189.9,69C189.9,71.7,188.5,73,185.9,73L4,73C1.3,73,0,71.7,0,69L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="3" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st22"><tspan x="22" textLength="146" y="50">Aspects</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,191)" id="110" ed:width="534" ed:height="66" ed:parentid="109"><path d="M4,0L530,0C532.7,0,534,1.3,534,4L534,62C534,64.7,532.7,66,530,66L4,66C1.3,66,0,64.7,0,62L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st23"><tspan x="19" textLength="483" y="24">风险很小的热修复方案(JSPatch 可以任意修改, Aspects 范围</tspan> <tspan x="19" textLength="42" y="50">较小)</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,290)" id="112" ed:width="110.421875" ed:height="36" ed:parentid="109"><path d="M4,0L106.4,0C109.1,0,110.4,1.3,110.4,4L110.4,32C110.4,34.7,109.1,36,106.4,36L4,36C1.3,36,0,34.7,0,32L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st23"><tspan x="19" textLength="72" y="24">Runtime</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,375.25)" id="114" ed:width="117.109375" ed:height="24" ed:layout="rightmap" ed:parentid="112"><text class="st24"><tspan x="10" textLength="96" y="16">Class 反射创建</tspan></text></g> <g transform="matrix(1,0,0,1,306.41,342.75)" id="117" ed:width="247.296875" ed:height="89" ed:layout="rightmap" ed:parentid="114"><text class="st24"><tspan x="10" textLength="28" y="16">// 1</tspan> <tspan x="10" textLength="226" y="33">NSClassFromString(@&quot;NSObject&quot;);</tspan> <tspan x="10" textLength="32" y="67">// 2 </tspan> <tspan x="10" textLength="179" y="84">objc_getClass(&quot;NSObject&quot;);</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,513.5)" id="119" ed:width="103.984375" ed:height="24" ed:layout="rightmap" ed:parentid="112"><text class="st24"><tspan x="10" textLength="83" y="16">SEL 反射创建</tspan></text></g> <g transform="matrix(1,0,0,1,293.28,455.5)" id="122" ed:width="225.53125" ed:height="140" ed:layout="rightmap" ed:parentid="119"><text class="st24"><tspan x="10" textLength="28" y="16">// 1</tspan> <tspan x="10" textLength="101" y="33">@selector(init);</tspan> <tspan x="10" textLength="28" y="67">// 2</tspan> <tspan x="10" textLength="163" y="84">sel_registerName(&quot;init&quot;);</tspan> <tspan x="10" textLength="28" y="118">// 3</tspan> <tspan x="10" textLength="205" y="135">NSSelectorFromString(@&quot;init&quot;);</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,668.75)" id="124" ed:width="77" ed:height="24" ed:layout="rightmap" ed:parentid="112"><text class="st24"><tspan x="10" textLength="56" y="16">方法替换</tspan></text></g> <g transform="matrix(1,0,0,1,266.3,619.25)" id="127" ed:width="517" ed:height="123" ed:layout="rightmap" ed:parentid="124"><text class="st24"><tspan x="10" textLength="498" y="16">static void cc_forwardInvocation(id slf, SEL sel, NSInvocation *invocation) </tspan> <tspan x="10" textLength="5" y="33">{</tspan> <tspan x="10" textLength="197" y="50">    // do what you want to do</tspan> <tspan x="10" textLength="5" y="67">}</tspan> <tspan x="10" textLength="398" y="101">class_replaceMethod(klass, @selector(forwardInvocation:), </tspan> <tspan x="10" textLength="241" y="118">(IMP)cc_forwardInvocation, &quot;v@:@&quot;);</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,759)" id="129" ed:width="77" ed:height="24" ed:parentid="112"><text class="st24"><tspan x="10" textLength="56" y="16">方法新增</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,799.75)" id="132" ed:width="517" ed:height="191" ed:parentid="129"><text class="st24"><tspan x="10" textLength="379" y="16">Class tClass = NSClassFromString(@&quot;UIViewController&quot;);</tspan> <tspan x="10" textLength="369" y="33">SEL selector = NSSelectorFromString(@&quot;viewDidLoad&quot;);</tspan> <tspan x="10" textLength="453" y="67">Method targetMethod = class_getInstanceMethod(tClass, selector);</tspan> <tspan x="10" textLength="456" y="84">IMP targetMethodIMP = method_getImplementation(targetMethod);</tspan> <tspan x="10" textLength="474" y="101">const char *typeEncoding = method_getTypeEncoding(targetMethod);</tspan> <tspan x="10" textLength="328" y="135">SEL aliasSelector = NSSelectorFromString([@&quot;cc&quot; </tspan> <tspan x="10" textLength="463" y="152">stringByAppendingFormat:@&quot;_%@&quot;, NSStringFromSelector(selector)]);</tspan> <tspan x="10" textLength="258" y="169">class_addMethod(klass, aliasSelector, </tspan> <tspan x="10" textLength="398" y="186">method_getImplementation(targetMethod), typeEncoding);</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,1007.5)" id="134" ed:width="77" ed:height="24" ed:parentid="112"><text class="st24"><tspan x="10" textLength="56" y="16">新类创建</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,1048.25)" id="137" ed:width="471.703125" ed:height="38" ed:parentid="134"><text class="st24"><tspan x="10" textLength="451" y="16">Class cls = objc_allocateClassPair([NSObject class], “CCObject”, 0);</tspan> <tspan x="10" textLength="181" y="33">objc_registerClassPair(cls);</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,1103)" id="139" ed:width="77" ed:height="24" ed:parentid="112"><text class="st24"><tspan x="10" textLength="56" y="16">消息转发</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,1143.75)" id="142" ed:width="476.59375" ed:height="197" ed:parentid="139"><text class="st24"><tspan x="10" textLength="93" y="16">// 1. 正常转发</tspan> <tspan x="10" textLength="257" y="36">+ (BOOL)resolveClassMethod:(SEL)sel </tspan> <tspan x="10" textLength="277" y="53">+ (BOOL)resolveInstanceMethod:(SEL)sel </tspan> <tspan x="10" textLength="326" y="87">- (id)forwardingTargetForSelector:(SEL)aSelector</tspan> <tspan x="10" textLength="456" y="121">- (NSMethodSignature *)methodSignatureForSelector:(SEL)aSelector</tspan> <tspan x="10" textLength="372" y="138">- (void)forwardInvocation:(NSInvocation *)anInvocation</tspan> <tspan x="10" textLength="107" y="172">// 2. 自定义转发</tspan> <tspan x="10" textLength="395" y="192">void _objc_msgForward(void /* id receiver, SEL sel, ... */ ) </tspan></text></g> <g transform="matrix(1,0,0,1,162.3,1357.5)" id="144" ed:width="121.09375" ed:height="41" ed:parentid="112"><text class="st24"><tspan x="10" textLength="100" y="16">Method Invoke</tspan> <tspan x="10" textLength="74" y="33"> 的几种方式</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,1408.25)" id="147" ed:width="155.84375" ed:height="24" ed:parentid="144"><text class="st24"><tspan x="10" textLength="135" y="16">调用函数的几种方式 :</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,1442)" id="149" ed:width="158.953125" ed:height="113" ed:parentid="144"><text class="st24"><tspan x="10" textLength="74" y="28">    常规调用</tspan> <tspan x="10" textLength="74" y="48">    反射调用</tspan> <tspan x="10" textLength="115" y="68">    objc_msgSend</tspan> <tspan x="10" textLength="88" y="85">    C 函数调用</tspan> <tspan x="10" textLength="138" y="105">    NSInvocation 调用</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,1571.75)" id="151" ed:width="517" ed:height="464" ed:parentid="144"><text class="st24"><tspan x="10" textLength="75" y="16">// 常规调用</tspan> <tspan x="10" textLength="252" y="36">People *people = [[People alloc] init];</tspan> <tspan x="10" textLength="132" y="53">[people helloWord];</tspan> <tspan x="10" textLength="93" y="87">// 反射调用    </tspan> <tspan x="10" textLength="288" y="107">Class cls = NSClassFromString(@&quot;People&quot;);</tspan> <tspan x="10" textLength="162" y="124">id obj = [[cls alloc] init];</tspan> <tspan x="10" textLength="399" y="141">[obj performSelector:NSSelectorFromString(@&quot;helloWord&quot;)];</tspan> <tspan x="10" textLength="117" y="175">// objc_msgSend</tspan> <tspan x="10" textLength="487" y="192">((void(*)(id, SEL))objc_msgSend)(people, sel_registerName(&quot;helloWord&quot;));</tspan> <tspan x="10" textLength="89" y="226">// C 函数调用</tspan> <tspan x="10" textLength="423" y="246">Method initMethod = class_getInstanceMethod([People class], </tspan> <tspan x="10" textLength="152" y="263">@selector(helloWord));</tspan> <tspan x="10" textLength="349" y="280">IMP imp = method_getImplementation(initMethod);</tspan> <tspan x="10" textLength="362" y="297">((void (*) (id, SEL))imp)(people, @selector(helloWord));</tspan> <tspan x="10" textLength="139" y="331">// NSInvocation 调用</tspan> <tspan x="10" textLength="350" y="351">NSMethodSignature *sig = [[People class] ; //类签名</tspan> <tspan x="10" textLength="466" y="371">instanceMethodSignatureForSelector:sel_registerName(&quot;helloWord&quot;)];</tspan> <tspan x="10" textLength="286" y="391">NSInvocation *invocation = [NSInvocation </tspan> <tspan x="10" textLength="249" y="408">invocationWithMethodSignature:sig];</tspan> <tspan x="10" textLength="185" y="425">invocation.target = people;</tspan> <tspan x="10" textLength="357" y="442">invocation.selector = sel_registerName(&quot;helloWord&quot;);</tspan> <tspan x="10" textLength="132" y="459">[invocation invoke];</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,2075.75)" id="153" ed:width="125.515625" ed:height="40" ed:parentid="109"><path d="M4,0L121.5,0C124.2,0,125.5,1.3,125.5,4L125.5,36C125.5,38.7,124.2,40,121.5,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#ffc009"></path> <text class="st23"><tspan x="19" textLength="88" y="24">Hook 流程</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,2132.5)" id="157" ed:width="517" ed:height="144" ed:parentid="153"><text class="st24"><tspan x="10" textLength="370" y="16">1.检查 selector 是否可以替换，里面涉及一些黑名单等判断</tspan> <tspan x="10" textLength="361" y="36">2.获取 AspectsContainer，如果为空则创建并绑定目标类</tspan> <tspan x="10" textLength="493" y="56">3.创建 AspectIdentifier，引用自定义实现（block）和 AspectOptions 等信息</tspan> <tspan x="10" textLength="345" y="76">4.将目标类 forwardInvocation: 方法替换为自定义方法</tspan> <tspan x="10" textLength="492" y="96">5.目标类新增一个带有aspects_前缀的方法，新方法（aliasSelector）实现跟目</tspan> <tspan x="10" textLength="70" y="116">标方法相同</tspan> <tspan x="10" textLength="284" y="136">6.将目标方法实现替换为 _objc_msgForward</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,2300.25)" id="159" ed:width="517" ed:height="424" ed:parentid="153"><text class="st24"><tspan x="10" textLength="378" y="16">// 将目标类 **forwardInvocation:** 方法替换为自定义方法</tspan> <tspan x="10" textLength="395" y="36">IMP originalImplementation = class_replaceMethod(klass, </tspan> <tspan x="10" textLength="478" y="53">@selector(forwardInvocation:), (IMP)__ASPECTS_ARE_BEING_CALLED__, </tspan> <tspan x="10" textLength="55" y="70">&quot;v@:@&quot;);</tspan> <tspan x="10" textLength="190" y="87">if (originalImplementation) {</tspan> <tspan x="10" textLength="182" y="104">    class_addMethod(klass, </tspan> <tspan x="10" textLength="435" y="121">NSSelectorFromString(AspectsForwardInvocationSelectorName), </tspan> <tspan x="10" textLength="222" y="138">originalImplementation, &quot;v@:@&quot;);</tspan> <tspan x="10" textLength="5" y="155">}</tspan> <tspan x="10" textLength="491" y="189">// 目标类新增一个带有` aspects_`前缀的方法，新方法（aliasSelector）实现</tspan> <tspan x="10" textLength="98" y="209">跟目标方法相同</tspan> <tspan x="10" textLength="447" y="229">Method targetMethod = class_getInstanceMethod(klass, selector);</tspan> <tspan x="10" textLength="456" y="246">IMP targetMethodIMP = method_getImplementation(targetMethod);</tspan> <tspan x="10" textLength="474" y="280">const char *typeEncoding = method_getTypeEncoding(targetMethod);</tspan> <tspan x="10" textLength="442" y="297">SEL aliasSelector = NSSelectorFromString([AspectsMessagePrefix </tspan> <tspan x="10" textLength="463" y="314">stringByAppendingFormat:@&quot;_%@&quot;, NSStringFromSelector(selector)]);</tspan> <tspan x="10" textLength="258" y="331">class_addMethod(klass, aliasSelector, </tspan> <tspan x="10" textLength="398" y="348">method_getImplementation(targetMethod), typeEncoding);</tspan> <tspan x="10" textLength="307" y="382">// 将目标方法实现替换为 `_objc_msgForward`</tspan> <tspan x="10" textLength="467" y="402">class_replaceMethod(klass, selector, aspect_getMsgForwardIMP(self, </tspan> <tspan x="10" textLength="167" y="419">selector), typeEncoding);</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,2764.25)" id="161" ed:width="414.09375" ed:height="40" ed:parentid="109"><path d="M4,0L410.1,0C412.8,0,414.1,1.3,414.1,4L414.1,36C414.1,38.7,412.8,40,410.1,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st23"><tspan x="19" textLength="376" y="24">热修复-方法前，方法后 插入代码，方法替换等</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,2837.25)" id="163" ed:width="164" ed:height="40" ed:parentid="109"><path d="M4,0L160,0C162.7,0,164,1.3,164,4L164,36C164,38.7,162.7,40,160,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st23"><tspan x="19" textLength="126" y="24">修改前原生代码</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,2887)" id="165" ed:width="258.265625" ed:height="24" ed:parentid="163"><text class="st24"><tspan x="10" textLength="237" y="16">1.首先假如我们项目中写有如下代码：</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,2927.75)" id="168" ed:width="327.3125" ed:height="55" ed:parentid="165"><text class="st24"><tspan x="10" textLength="306" y="16">MightyCrash *mc = [[MightyCrash alloc] init];</tspan> <tspan x="10" textLength="223" y="50">[mc divideUsingDenominator: 0];</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,2999.5)" id="170" ed:width="305.03125" ed:height="24" ed:parentid="163"><text class="st24"><tspan x="10" textLength="284" y="16">divideUsingDenominator方法内部实现如下:</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,3040.25)" id="173" ed:width="416.09375" ed:height="55" ed:parentid="170"><text class="st24"><tspan x="10" textLength="395" y="16">- (float)divideUsingDenominator:(NSInteger)denominator {</tspan> <tspan x="10" textLength="190" y="33">    return 1.f / denominator;</tspan> <tspan x="10" textLength="5" y="50">}</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,3112)" id="175" ed:width="91" ed:height="24" ed:parentid="163"><text class="st24"><tspan x="10" textLength="70" y="16">问题所在：</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,3145.75)" id="177" ed:width="388.6875" ed:height="24" ed:parentid="175"><text class="st24"><tspan x="10" textLength="368" y="16">因为调用方法时候我们传入的值为0，所以除以0会出现问题</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,3202.75)" id="179" ed:width="146" ed:height="40" ed:parentid="109"><path d="M4,0L142,0C144.7,0,146,1.3,146,4L146,36C146,38.7,144.7,40,142,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st23"><tspan x="19" textLength="108" y="24">热修复解决：</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,3252.5)" id="182" ed:width="282.296875" ed:height="24" ed:parentid="179"><text class="st24"><tspan x="10" textLength="261" y="16">didFinishLaunchingWithOptions 方法中</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,3293.25)" id="184" ed:width="517" ed:height="370" ed:parentid="179"><text class="st24"><tspan x="10" textLength="328" y="16">- (BOOL)application:(UIApplication *)application </tspan> <tspan x="10" textLength="434" y="33">didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {</tspan> <tspan x="10" textLength="102" y="50">    //初始化环境</tspan> <tspan x="10" textLength="94" y="70">    [Felix fixIt];</tspan> <tspan x="10" textLength="158" y="87">    //后台返回字符串格式</tspan> <tspan x="10" textLength="232" y="107">    NSString *fixScriptString = @&quot; \</tspan> <tspan x="10" textLength="487" y="124">    fixInstanceMethodReplace('MightyCrash', 'divideUsingDenominator:', </tspan> <tspan x="10" textLength="380" y="141">function(instance, originInvocation, originArguments){ \</tspan> <tspan x="10" textLength="251" y="158">        if (originArguments[0] == 0) { \</tspan> <tspan x="10" textLength="264" y="175">            console.log('zero goes here'); \</tspan> <tspan x="10" textLength="92" y="192">        } else { \</tspan> <tspan x="10" textLength="281" y="209">            runInvocation(originInvocation); \</tspan> <tspan x="10" textLength="52" y="226">        } \</tspan> <tspan x="10" textLength="43" y="243">    }); \</tspan> <tspan x="10" textLength="25" y="260">    \</tspan> <tspan x="10" textLength="27" y="277">    &quot;;</tspan> <tspan x="10" textLength="60" y="294">    //修复</tspan> <tspan x="10" textLength="235" y="314">    [Felix evalString:fixScriptString];</tspan> <tspan x="10" textLength="18" y="331"></tspan> <tspan x="10" textLength="92" y="348">    return YES;</tspan> <tspan x="10" textLength="5" y="365">}</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,3703.25)" id="186" ed:width="74" ed:height="40" ed:parentid="109"><path d="M4,0L70,0C72.7,0,74,1.3,74,4L74,36C74,38.7,72.7,40,70,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st23"><tspan x="19" textLength="36" y="24">原理</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,3753)" id="191" ed:width="517" ed:height="44" ed:parentid="186"><text class="st24"><tspan x="10" textLength="496" y="16">1. 首先第一步的[Felix fixIt];执行结果，会生成一个全局的JSContext对象来为执</tspan> <tspan x="10" textLength="110" y="36">行JS方法提供环境</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,3813.75)" id="193" ed:width="517" ed:height="208" ed:parentid="186"><text class="st24"><tspan x="10" textLength="162" y="16">+ (JSContext *)context {</tspan> <tspan x="10" textLength="198" y="33">    static JSContext *_context;</tspan> <tspan x="10" textLength="251" y="50">    static dispatch_once_t onceToken;</tspan> <tspan x="10" textLength="225" y="67">    dispatch_once(&amp;onceToken, ^{</tspan> <tspan x="10" textLength="264" y="84">        _context = [[JSContext alloc] init];</tspan> <tspan x="10" textLength="502" y="101">        [_context setExceptionHandler:^(JSContext *context, JSValue *value) </tspan> <tspan x="10" textLength="5" y="118">{</tspan> <tspan x="10" textLength="242" y="135">            NSLog(@&quot;Oops: %@&quot;, value);</tspan> <tspan x="10" textLength="49" y="152">        }];</tspan> <tspan x="10" textLength="31" y="169">    });</tspan> <tspan x="10" textLength="127" y="186">    return _context;</tspan> <tspan x="10" textLength="5" y="203">}</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,4038.5)" id="195" ed:width="297.234375" ed:height="24" ed:parentid="186"><text class="st24"><tspan x="10" textLength="276" y="16">2. 同时，使用匿名函数的方式包装OC方法：</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,4079.25)" id="197" ed:width="517" ed:height="106" ed:parentid="186"><text class="st24"><tspan x="10" textLength="495" y="16">[self context][@&quot;fixInstanceMethodBefore&quot;] = ^(NSString *instanceName, </tspan> <tspan x="10" textLength="292" y="33">NSString *selectorName, JSValue *fixImpl) {</tspan> <tspan x="10" textLength="457" y="50">    [self _fixWithMethod:NO aspectionOptions:AspectPositionBefore </tspan> <tspan x="10" textLength="393" y="67">instanceName:instanceName selectorName:selectorName </tspan> <tspan x="10" textLength="108" y="84">fixImpl:fixImpl];</tspan> <tspan x="10" textLength="9" y="101">};</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,4202)" id="199" ed:width="279.546875" ed:height="24" ed:parentid="186"><text class="st24"><tspan x="10" textLength="259" y="16">包装的OC方法是什么呢？我们来看实现：</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,4242.75)" id="201" ed:width="517" ed:height="242" ed:parentid="186"><text class="st24"><tspan x="10" textLength="435" y="16">+ (void)_fixWithMethod:(BOOL)isClassMethod aspectionOptions:</tspan> <tspan x="10" textLength="434" y="33">(AspectOptions)option instanceName:(NSString *)instanceName </tspan> <tspan x="10" textLength="450" y="50">selectorName:(NSString *)selectorName fixImpl:(JSValue *)fixImpl {</tspan> <tspan x="10" textLength="349" y="67">    Class klass = NSClassFromString(instanceName);</tspan> <tspan x="10" textLength="147" y="84">    if (isClassMethod) {</tspan> <tspan x="10" textLength="244" y="101">        klass = object_getClass(klass);</tspan> <tspan x="10" textLength="22" y="118">    }</tspan> <tspan x="10" textLength="336" y="135">    SEL sel = NSSelectorFromString(selectorName);</tspan> <tspan x="10" textLength="362" y="152">    [klass aspect_hookSelector:sel withOptions:option </tspan> <tspan x="10" textLength="282" y="169">usingBlock:^(id&lt;AspectInfo&gt; aspectInfo){</tspan> <tspan x="10" textLength="380" y="186">        [fixImpl callWithArguments:@[aspectInfo.instance, </tspan> <tspan x="10" textLength="366" y="203">aspectInfo.originalInvocation, aspectInfo.arguments]];</tspan> <tspan x="10" textLength="90" y="220">    } error:nil];</tspan> <tspan x="10" textLength="5" y="237">}</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,4501.5)" id="203" ed:width="195.71875" ed:height="44" ed:parentid="186"><text class="st24"><tspan x="10" textLength="170" y="16">3. 字符串fixScriptString，</tspan> <tspan x="10" textLength="175" y="36">该字符串其实是一个JS方法 :</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,4555.25)" id="205" ed:width="517" ed:height="84" ed:parentid="203"><text class="st24"><tspan x="10" textLength="392" y="16">方法传入的参数1是MightyCrash类，即我们要来hack的目标类</tspan> <tspan x="10" textLength="488" y="36">方法传入的参数2是divideUsingDenominator，即我们要来hack的目标类的方</tspan> <tspan x="10" textLength="14" y="56">法</tspan> <tspan x="10" textLength="373" y="76">方法传入的参数1是一个function，即我们要替换的方法实现</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,4649)" id="207" ed:width="233.65625" ed:height="41" ed:parentid="186"><text class="st24"><tspan x="10" textLength="60" y="16">4. 第三步</tspan> <tspan x="10" textLength="213" y="36">[Felix evalString:fixScriptString]</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,4699.75)" id="209" ed:width="517" ed:height="44" ed:parentid="207"><text class="st24"><tspan x="10" textLength="488" y="16">会在全局的JSContent环境中, 执行下面绿色部分fixInstanceMethodReplaceJS</tspan> <tspan x="10" textLength="174" y="36">方法 , 从而执行对应OC方法</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,4753.5)" id="211" ed:width="518" ed:height="116" ed:parentid="207"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,112C518,114.7,516.7,116,514,116L4,116C1.3,116,0,114.7,0,112L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st24"><tspan x="10" textLength="434" y="16.5">OC方法使用Method Swizzling黑魔法完成了目标执行函数的替换，即</tspan> <tspan x="10" textLength="127" y="36.5">MightyCrash类中的</tspan> <tspan x="10" textLength="391" y="56.5">- (float)divideUsingDenominator:(NSInteger)denominator;</tspan> <tspan x="10" textLength="70" y="73.5">方法替换为</tspan> <tspan x="10" textLength="350" y="93.5"> [fixImpl callWithArguments:@[aspectInfo.instance, </tspan> <tspan x="10" textLength="366" y="110.5">aspectInfo.originalInvocation, aspectInfo.arguments]];</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,4879.25)" id="213" ed:width="406.5625" ed:height="24" ed:parentid="186"><text class="st24"><tspan x="10" textLength="386" y="16">5. 最后,当执行原生方法[mc divideUsingDenominator:0]; 时</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,4913)" id="216" ed:width="517" ed:height="84" ed:parentid="213"><text class="st24"><tspan x="10" textLength="84" y="16">其实是调用了</tspan> <tspan x="10" textLength="345" y="36">[fixImpl callWithArguments:@[aspectInfo.instance, </tspan> <tspan x="10" textLength="408" y="56">aspectInfo.originalInvocation, aspectInfo.arguments]];方法，</tspan> <tspan x="10" textLength="418" y="76">该方法会执行第二步声明的JS方法的第三个function参数，即执行：</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,5013.75)" id="218" ed:width="393.734375" ed:height="106" ed:parentid="213"><text class="st24"><tspan x="10" textLength="373" y="16">function(instance, originInvocation, originArguments){ </tspan> <tspan x="10" textLength="244" y="33">        if (originArguments[0] == 0) { </tspan> <tspan x="10" textLength="256" y="50">            console.log('zero goes here'); </tspan> <tspan x="10" textLength="85" y="67">        } else { </tspan> <tspan x="10" textLength="274" y="84">            runInvocation(originInvocation); </tspan> <tspan x="10" textLength="44" y="101">        } </tspan></text></g> <g transform="matrix(1,0,0,1,108.4,5159.75)" id="220" ed:width="136.703125" ed:height="40" ed:parentid="109"><path d="M4,0L132.7,0C135.4,0,136.7,1.3,136.7,4L136.7,36C136.7,38.7,135.4,40,132.7,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st23"><tspan x="19" textLength="99" y="24">LBYFix 使用</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,5209.5)" id="222" ed:width="322.71875" ed:height="21" ed:layout="rightmap" ed:parentid="220"><text class="st24"><tspan x="10" textLength="302" y="16">https://www.jianshu.com/p/d4574a4268b3</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,5240.25)" id="224" ed:width="107.34375" ed:height="24" ed:layout="rightmap" ed:parentid="220"><text class="st24"><tspan x="10" textLength="86" y="16">初始化LBYFix</tspan></text></g> <g transform="matrix(1,0,0,1,296.64,5241.75)" id="226" ed:width="110.140625" ed:height="21" ed:layout="rightmap" ed:parentid="224"><text class="st24"><tspan x="10" textLength="89" y="16">[LBYFix fixIt];</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,5365)" id="228" ed:width="105" ed:height="24" ed:layout="rightmap" ed:parentid="220"><text class="st24"><tspan x="10" textLength="84" y="16">替换方法实现</tspan></text></g> <g transform="matrix(1,0,0,1,294.3,5281)" id="231" ed:width="518" ed:height="192" ed:layout="rightmap" ed:parentid="228"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,188C518,190.7,516.7,192,514,192L4,192C1.3,192,0,190.7,0,188L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st24"><tspan x="10" textLength="502" y="16.5">NSString *jsString = @&quot;fixMethod('LBYFixDemo', 'instanceMightCrash:', 1, </tspan> <tspan x="10" textLength="48" y="33.5">false, \</tspan> <tspan x="10" textLength="420" y="50.5">        function(instance, originInvocation, originArguments) { \</tspan> <tspan x="10" textLength="285" y="67.5">            if (originArguments[0] == null) { \</tspan> <tspan x="10" textLength="439" y="84.5">                runErrorBranch('LBYFixDemo', 'instanceMightCrash'); \</tspan> <tspan x="10" textLength="110" y="101.5">            } else { \</tspan> <tspan x="10" textLength="299" y="118.5">                runInvocation(originInvocation); \</tspan> <tspan x="10" textLength="69" y="135.5">            } \</tspan> <tspan x="10" textLength="61" y="152.5">        }); \</tspan> <tspan x="10" textLength="45" y="169.5">        &quot;;</tspan> <tspan x="10" textLength="185" y="186.5">[LBYFix evalString:jsString];</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,5539.75)" id="233" ed:width="133" ed:height="24" ed:layout="rightmap" ed:parentid="220"><text class="st24"><tspan x="10" textLength="112" y="16">在方法前插入代码</tspan></text></g> <g transform="matrix(1,0,0,1,322.3,5489.75)" id="235" ed:width="518" ed:height="124" ed:layout="rightmap" ed:parentid="233"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,120C518,122.7,516.7,124,514,124L4,124C1.3,124,0,122.7,0,120L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st24"><tspan x="10" textLength="335" y="16.5">NSString *jsString = @&quot;fixMethod('LBYFixDemo',  </tspan> <tspan x="10" textLength="255" y="33.5">'runBeforeInstanceMethod', 2, false, \</tspan> <tspan x="10" textLength="117" y="50.5">        function(){ \</tspan> <tspan x="10" textLength="288" y="67.5">            runInstanceMethod('LBYFixDemo', </tspan> <tspan x="10" textLength="411" y="84.5">'beforeInstanceMethod:param2:', new Array('LBYFix', 888)); \</tspan> <tspan x="10" textLength="59" y="101.5">        });&quot;;</tspan> <tspan x="10" textLength="189" y="118.5"> [LBYFix evalString:jsString];</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,5689)" id="237" ed:width="133" ed:height="24" ed:layout="rightmap" ed:parentid="220"><text class="st24"><tspan x="10" textLength="112" y="16">在方法后插入代码</tspan></text></g> <g transform="matrix(1,0,0,1,322.3,5630.5)" id="240" ed:width="518" ed:height="141" ed:layout="rightmap" ed:parentid="237"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,137C518,139.7,516.7,141,514,141L4,141C1.3,141,0,139.7,0,137L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st24"><tspan x="10" textLength="498" y="16.5">NSString *jsString = @&quot;fixMethod('LBYFixDemo2', 'runAfterClassMethod', </tspan> <tspan x="10" textLength="61" y="33.5">0, true, \</tspan> <tspan x="10" textLength="117" y="50.5">        function(){ \</tspan> <tspan x="10" textLength="502" y="67.5">            runClassMethod('LBYFixDemo2', 'afterClassMethod:param2:', new </tspan> <tspan x="10" textLength="152" y="84.5">Array('LBYFix', 999)); \</tspan> <tspan x="10" textLength="61" y="101.5">        }); \</tspan> <tspan x="10" textLength="45" y="118.5">        &quot;;</tspan> <tspan x="10" textLength="185" y="135.5">[LBYFix evalString:jsString];</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,5804.25)" id="242" ed:width="147" ed:height="24" ed:layout="rightmap" ed:parentid="220"><text class="st24"><tspan x="10" textLength="126" y="16">执行没有参数的方法</tspan></text></g> <g transform="matrix(1,0,0,1,336.3,5788.25)" id="244" ed:width="518" ed:height="56" ed:layout="rightmap" ed:parentid="242"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,52C518,54.7,516.7,56,514,56L4,56C1.3,56,0,54.7,0,52L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st24"><tspan x="10" textLength="401" y="16.5">NSString *jsString = @&quot;runInstanceMethod('LBYFixDemo3', </tspan> <tspan x="10" textLength="221" y="33.5">'instanceMethodHasNoParams')&quot;;</tspan> <tspan x="10" textLength="185" y="50.5">[LBYFix evalString:jsString];</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,5964.75)" id="246" ed:width="161" ed:height="24" ed:layout="rightmap" ed:parentid="220"><text class="st24"><tspan x="10" textLength="140" y="16">执行带多个参数的方法</tspan></text></g> <g transform="matrix(1,0,0,1,350.3,5861)" id="249" ed:width="518" ed:height="124" ed:layout="rightmap" ed:parentid="246"><path d="M4,0L514,0C516.7,0,518,1.3,518,4L518,120C518,122.7,516.7,124,514,124L4,124C1.3,124,0,122.7,0,120L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="2" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st24"><tspan x="10" textLength="401" y="16.5">NSString *jsString = @&quot;runInstanceMethod('LBYFixDemo3', </tspan> <tspan x="10" textLength="499" y="33.5">'instanceMethodHasMultipleParams:size:rect:', new Array({x: 1.1, y: 2.2},  </tspan> <tspan x="10" textLength="497" y="50.5">{width: 3.3, height: 4.4}, {origin: {x: 5.5, y: 6.6}, size: {width: 7.7, height: </tspan> <tspan x="10" textLength="48" y="67.5">8.8}}))\</tspan> <tspan x="10" textLength="27" y="84.5">    &quot;;</tspan> <tspan x="10" textLength="185" y="101.5">[LBYFix evalString:jsString];</tspan></text></g> <g transform="matrix(1,0,0,1,350.3,5998.5)" id="251" ed:width="517" ed:height="64" ed:layout="rightmap" ed:parentid="246"><text class="st24"><tspan x="10" textLength="273" y="16">上面js代码的意思是调用LBYFixDemo3类的</tspan> <tspan x="10" textLength="485" y="36">instanceMethodHasMultipleParams:size:rect:实例方法，并通过数组传入参</tspan> <tspan x="10" textLength="28" y="56">数。</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,6072.25)" id="253" ed:width="105" ed:height="24" ed:parentid="220"><text class="st24"><tspan x="10" textLength="84" y="16">原理解析等等</tspan></text></g></svg></div> <div id="copyright">Created With  <a href="https://www.edrawsoft.com/" target="_blank" title="edrawsoft">MindMaster</a></div></div></div></body></html></div></div> <!----> <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/0ba215/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">AFNetworking</div></a> <a href="/pages/e52348/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">SDWebImage</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/0ba215/" class="prev">AFNetworking</a></span> <span class="next"><a href="/pages/e52348/">SDWebImage</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> <!----></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.31fa4f17.js" defer></script><script src="/assets/js/2.8191dd0a.js" defer></script><script src="/assets/js/57.5b28d3a7.js" defer></script>
  </body>
</html>
