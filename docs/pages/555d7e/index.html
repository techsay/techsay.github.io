<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>C语法Day4-指针 | 知识导图</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/images/logo.PNG">
    <meta name="description" content="复杂的知识体系需要一套精简的知识导图作参考和索引">
    
    <link rel="preload" href="/assets/css/0.styles.f55df645.css" as="style"><link rel="preload" href="/assets/js/app.2678ef46.js" as="script"><link rel="preload" href="/assets/js/2.d54d51d6.js" as="script"><link rel="preload" href="/assets/js/70.e122fe20.js" as="script"><link rel="prefetch" href="/assets/js/10.c07acda5.js"><link rel="prefetch" href="/assets/js/11.47990fdb.js"><link rel="prefetch" href="/assets/js/12.e6e62076.js"><link rel="prefetch" href="/assets/js/13.efd5f3bb.js"><link rel="prefetch" href="/assets/js/14.ae1ec3d4.js"><link rel="prefetch" href="/assets/js/15.accf01d6.js"><link rel="prefetch" href="/assets/js/16.ea689f78.js"><link rel="prefetch" href="/assets/js/17.b5087c46.js"><link rel="prefetch" href="/assets/js/18.b06630b1.js"><link rel="prefetch" href="/assets/js/19.5dbdd31b.js"><link rel="prefetch" href="/assets/js/20.23c0f931.js"><link rel="prefetch" href="/assets/js/21.3817c0a4.js"><link rel="prefetch" href="/assets/js/22.92a03fa0.js"><link rel="prefetch" href="/assets/js/23.72cf8779.js"><link rel="prefetch" href="/assets/js/24.b09bb721.js"><link rel="prefetch" href="/assets/js/25.834d54aa.js"><link rel="prefetch" href="/assets/js/26.217136bb.js"><link rel="prefetch" href="/assets/js/27.4d6c6d41.js"><link rel="prefetch" href="/assets/js/28.d93165dd.js"><link rel="prefetch" href="/assets/js/29.bba60af0.js"><link rel="prefetch" href="/assets/js/3.1c8f89f8.js"><link rel="prefetch" href="/assets/js/30.c5ac74a6.js"><link rel="prefetch" href="/assets/js/31.d8f504e6.js"><link rel="prefetch" href="/assets/js/32.16c8c522.js"><link rel="prefetch" href="/assets/js/33.b6b3538d.js"><link rel="prefetch" href="/assets/js/34.60a06f47.js"><link rel="prefetch" href="/assets/js/35.3b9be217.js"><link rel="prefetch" href="/assets/js/36.afdeb6c9.js"><link rel="prefetch" href="/assets/js/37.9108243e.js"><link rel="prefetch" href="/assets/js/38.8a5a3e24.js"><link rel="prefetch" href="/assets/js/39.50e77631.js"><link rel="prefetch" href="/assets/js/4.dd3209f8.js"><link rel="prefetch" href="/assets/js/40.2ed6fea1.js"><link rel="prefetch" href="/assets/js/41.a20ddc95.js"><link rel="prefetch" href="/assets/js/42.befcb259.js"><link rel="prefetch" href="/assets/js/43.8b7da786.js"><link rel="prefetch" href="/assets/js/44.63805435.js"><link rel="prefetch" href="/assets/js/45.1acf26af.js"><link rel="prefetch" href="/assets/js/46.9384f823.js"><link rel="prefetch" href="/assets/js/47.0b941a4b.js"><link rel="prefetch" href="/assets/js/48.dfe42d1b.js"><link rel="prefetch" href="/assets/js/49.119d74eb.js"><link rel="prefetch" href="/assets/js/5.fd404daa.js"><link rel="prefetch" href="/assets/js/50.4c4d51a9.js"><link rel="prefetch" href="/assets/js/51.9acf0874.js"><link rel="prefetch" href="/assets/js/52.978929e3.js"><link rel="prefetch" href="/assets/js/53.69db1c3d.js"><link rel="prefetch" href="/assets/js/54.bfc4b724.js"><link rel="prefetch" href="/assets/js/55.08fde0df.js"><link rel="prefetch" href="/assets/js/56.30b782bd.js"><link rel="prefetch" href="/assets/js/57.4dd2462f.js"><link rel="prefetch" href="/assets/js/58.9d1a1894.js"><link rel="prefetch" href="/assets/js/59.3f3cd5ff.js"><link rel="prefetch" href="/assets/js/6.3ea0017c.js"><link rel="prefetch" href="/assets/js/60.d23a7761.js"><link rel="prefetch" href="/assets/js/61.97bb4d8b.js"><link rel="prefetch" href="/assets/js/62.93569796.js"><link rel="prefetch" href="/assets/js/63.94da176f.js"><link rel="prefetch" href="/assets/js/64.f34c1758.js"><link rel="prefetch" href="/assets/js/65.73d288ae.js"><link rel="prefetch" href="/assets/js/66.784a15e8.js"><link rel="prefetch" href="/assets/js/67.b54b49f4.js"><link rel="prefetch" href="/assets/js/68.82a69bd5.js"><link rel="prefetch" href="/assets/js/69.d1e714aa.js"><link rel="prefetch" href="/assets/js/7.186d65bc.js"><link rel="prefetch" href="/assets/js/71.046b8bc9.js"><link rel="prefetch" href="/assets/js/72.ec758b28.js"><link rel="prefetch" href="/assets/js/73.23e4612a.js"><link rel="prefetch" href="/assets/js/74.7a12384e.js"><link rel="prefetch" href="/assets/js/75.446974b8.js"><link rel="prefetch" href="/assets/js/76.2e271a28.js"><link rel="prefetch" href="/assets/js/77.ced4fd0d.js"><link rel="prefetch" href="/assets/js/78.6326de2c.js"><link rel="prefetch" href="/assets/js/79.308c3f6f.js"><link rel="prefetch" href="/assets/js/8.6b31862c.js"><link rel="prefetch" href="/assets/js/80.489bdee8.js"><link rel="prefetch" href="/assets/js/81.f77033fd.js"><link rel="prefetch" href="/assets/js/82.1edf2c1e.js"><link rel="prefetch" href="/assets/js/83.af999b42.js"><link rel="prefetch" href="/assets/js/84.54c61efb.js"><link rel="prefetch" href="/assets/js/85.abd85c90.js"><link rel="prefetch" href="/assets/js/86.f1971f8f.js"><link rel="prefetch" href="/assets/js/87.53b8e651.js"><link rel="prefetch" href="/assets/js/9.eda7b0b0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f55df645.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo2.PNG" alt="知识导图" class="logo"> <span class="site-name can-hide">知识导图</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/3468b2/" class="nav-link">iOS知识</a></div><div class="nav-item"><a href="/pages/603316/" class="nav-link">计算机软件</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友情链接" class="dropdown-title"><!----> <span class="title" style="display:;">友情链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.52im.net/index.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  即时通讯网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://zhuanlan.zhihu.com/p/409277420" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发常用网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/3468b2/" class="nav-link">iOS知识</a></div><div class="nav-item"><a href="/pages/603316/" class="nav-link">计算机软件</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友情链接" class="dropdown-title"><!----> <span class="title" style="display:;">友情链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.52im.net/index.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  即时通讯网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://zhuanlan.zhihu.com/p/409277420" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发常用网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MD</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>C语法</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/5cfafd/" class="sidebar-link">C语法Day1-函数</a></li><li><a href="/pages/f184ee/" class="sidebar-link">C语法Day2-运算</a></li><li><a href="/pages/60d71f/" class="sidebar-link">C语法Day3-结构</a></li><li><a href="/pages/555d7e/" aria-current="page" class="active sidebar-link">C语法Day4-指针</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/939f32/" class="sidebar-link">C语法Day5-预处理</a></li><li><a href="/pages/89c272/" class="sidebar-link">C语法Day6-文件</a></li><li><a href="/pages/b6ac10/" class="sidebar-link">C语法Day7-标准库</a></li><li><a href="/pages/ae31da/" class="sidebar-link">C语法Day8-编译</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>C++语法</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>软件编程及算法</span></li><li data-v-06225672><span data-v-06225672>C语法</span></li></ul> <div class="info" data-v-06225672><!----> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-05-28</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">C语法Day4-指针<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h3 id="c指针"><a href="#c指针" class="header-anchor">#</a> C指针</h3> <blockquote><p>指针是初学者比较难理解的一个概念，很容易绕晕。</p> <p>在理解指针之前，学者需要先了解 数据存储和内存分配的一些基本概念，</p></blockquote> <p><strong>存储介质</strong>：我们数据都是存储在硬盘和内存条等物理介质上的，这好比图书馆的书架</p> <p><strong>数据</strong>：数据一块一块的存储好比是书架上的书</p> <p><strong>定义一个整形变量</strong>：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">// 定义一个整形变量,系统将分配一块内存给变量a。而内存中存储数据5 </span>
</code></pre></div><p>定义一个变量a 好比在书架某个位置上放置了一本书，而数据在内存中的地址好比书架号</p> <p>通常我们根据书架号在【哪个区，哪一排，哪一列】来找到书本的，而找书通常是由【人】来找。</p> <p>那么在内存中又是如何找到对应的数据呢？</p> <h3 id="内存地址"><a href="#内存地址" class="header-anchor">#</a> 内存地址&amp;</h3> <p>**&amp;a：**获取变量a的内存地址</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a的内存地址：%p &quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 打印结果：a的内存地址：0x7ffde30e7ba4</span>
</code></pre></div><p>在变量a前添加&amp;，即能获取变量a在内存中的内存地址0x7ffde30e7ba4 （相当于书架的编号），这个内存地址对应的好比书架的某一个盒子，而更换这个【盒子】上的书本，等同于直接修改了变量a的值</p> <p>现实中图书馆是【人】走动来找到书的，那么内存条中找书架的又是谁呢？</p> <h3 id="转译内存地址值"><a href="#转译内存地址值" class="header-anchor">#</a> 转译内存地址值 *</h3> <p>*<strong>(&amp;a)：</strong> 通过【 “指针” 】星号【 * 】来获取内存地址对用的数据值</p> <p>看一段代码：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a的内存地址：%p &quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 打印a的地址 0x7ffde30e7ba4</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a = %d&quot;</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 打印a的值5</span>
</code></pre></div><p>a 变量；</p> <p>&amp;a 指 a的内存地址；</p> <p>*(&amp;a) 指向 a的内存地址上的值 = a 的值，那么可以理解为： a = *(&amp;a)</p> <h3 id="【-p-】-指针变量"><a href="#【-p-】-指针变量" class="header-anchor">#</a> <strong>【 * p 】 指针变量</strong></h3> <p>⚠️ 当声明一个变量并且在变量名前使用 【*】修饰的时候，那么这个变量就表示存储对应数据类型的内存地址的对象，比如</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> b <span class="token operator">=</span> <span class="token number">5.123</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token operator">*</span>p<span class="token punctuation">;</span> <span class="token comment">// 定义指针变量p</span>
<span class="token comment">// int 声明的指针变量p 只能存储 int 类型数据的内存地址</span>
p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span>

<span class="token comment">// 下面错误，类型不匹配</span>
p <span class="token operator">=</span> <span class="token operator">&amp;</span>b<span class="token punctuation">;</span>
</code></pre></div><div class="language-scss extra-class"><pre class="language-scss"><code>int    *ip<span class="token punctuation">;</span>    <span class="token comment">// ip：一个整型的指针</span>
double *dp<span class="token punctuation">;</span>    <span class="token comment">// dp：一个 double 型的指针 </span>
float  *fp<span class="token punctuation">;</span>    <span class="token comment">// fp：一个浮点型的指针 </span>
char   *ch<span class="token punctuation">;</span>    <span class="token comment">// ch：一个字符型的指针 </span>

<span class="token comment">// 指针 ip，dp，fp，ch 都是一个代表内存地址的长的十六进制数，但是地址上存储的数据都是不相同的。</span>
</code></pre></div><h3 id="混淆解释-1"><a href="#混淆解释-1" class="header-anchor">#</a> <strong>混淆解释 1</strong></h3> <p>上面两种使用【*】的场景不同，含义也是不一样的，这也是容易被指针绕晕的一个地方：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token comment">// 第一种 转换 ：*(&amp;a) 中的 * 表示获取内存地址中的 数据</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a = %d&quot;</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 打印a的值5</span>


<span class="token comment">// 第二种 指针变量：这里的 * 用在【变量声明】的时候，表示这个被 * 修饰的变量是个存储数据对应内存地址变量</span>
<span class="token keyword">int</span> <span class="token operator">*</span>p<span class="token punctuation">;</span> <span class="token comment">// 定义指针变量p </span>
p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span>
</code></pre></div><h3 id="混淆解释-2"><a href="#混淆解释-2" class="header-anchor">#</a> <strong>混淆解释 2</strong></h3> <p>其中，指针变量p是单独的变量，只不过存储来变量a的内存地址信息。</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token operator">*</span>p<span class="token punctuation">;</span>
p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span>  

<span class="token comment">/*
其中
*p = a = 5

变量p存储的值是变量a 的内存地址
p = &amp;a

&amp;p != &amp;a
*/</span> 

<span class="token comment">// 指针变量也有自己的内存地址，只不过存储的是地址数据</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;p 变量的地址： %p \n&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a 变量的地址： %p \n&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 打印结果</span>
<span class="token comment">// p 变量的地址： 0x7fff5c7bd670 </span>
<span class="token comment">// a 变量的地址： 0x7fff5c7bd668 </span>
</code></pre></div><h3 id="【-p】-指向指针的指针变量"><a href="#【-p】-指向指针的指针变量" class="header-anchor">#</a> <strong>【 * * p】  指向指针的指针变量</strong></h3> <p>单个星【*】定义中修饰表示指向一个数据对象的指针</p> <p>两个星【**】定义中修饰表示指向一个数据对象的指针 的 指针</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token operator">*</span>p<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token operator">*</span><span class="token operator">*</span>p2<span class="token punctuation">;</span>

p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span>  
p2 <span class="token operator">=</span> <span class="token operator">&amp;</span>p<span class="token punctuation">;</span>

<span class="token comment">/*

p2 = &amp;p = p指针对象的内存地址

*p2 = p = &amp;a = a数据对象内存地址

**p2 = *p = a = 5

*/</span>
</code></pre></div><h3 id="空指针-null"><a href="#空指针-null" class="header-anchor">#</a> 空指针 NULL</h3> <p>指针声明时，如果没有确切的地址可以赋值，为指针变量赋一个 NULL 值，一个0x0的不允许访问的地址。</p> <div class="language-scss extra-class"><pre class="language-scss"><code>int  *ptr = NULL<span class="token punctuation">;</span>
<span class="token comment">// ptr 的地址是 0x0</span>
  
<span class="token comment">// 为确保逻辑完整型，通常需要进行非空判断</span>
<span class="token function">if</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span>     <span class="token comment">/* 如果 p 非空，则完成 */</span>
<span class="token function">if</span><span class="token punctuation">(</span>!ptr<span class="token punctuation">)</span>    <span class="token comment">/* 如果 p 为空，则完成 */</span>

</code></pre></div><h3 id="指针的算术运算"><a href="#指针的算术运算" class="header-anchor">#</a> 指针的算术运算</h3> <p>前面打印内存地址时看到，内存地址是由 16 进制数据表示的 (比如 0x7ffe7840333c)，也即是数据存储的位置由序号标记</p> <p>既然位置是数据类型，那么存储地址的指针变量同样可以进行算术运算 ：++、--、+、-。</p> <p>下面通过一维数组打印连续对象内存地址：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
 
<span class="token keyword">const</span> <span class="token keyword">int</span> MAX <span class="token operator">=</span> <span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">int</span>  var<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">178</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span>  i<span class="token punctuation">,</span> <span class="token operator">*</span>ptr<span class="token punctuation">;</span>
 
   <span class="token comment">/* 指针中的数组地址 */</span>
   ptr <span class="token operator">=</span> var<span class="token punctuation">;</span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MAX<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;下标%d值 = %d; 存储地址 = %p\n&quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token operator">*</span>ptr<span class="token punctuation">,</span> ptr <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">/* 指向下一个位置 */</span>
      ptr<span class="token operator">++</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>结果：</p> <div class="language-scss extra-class"><pre class="language-scss"><code><span class="token variable">$gcc</span> -o main main.c -lm
<span class="token variable">$main</span>
下标0值 = 5<span class="token punctuation">;</span> 存储地址 = 0x7ffec2384170
下标1值 = 80<span class="token punctuation">;</span> 存储地址 = 0x7ffec2384174
下标2值 = 178<span class="token punctuation">;</span> 存储地址 = 0x7ffec2384178
下标3值 = 4<span class="token punctuation">;</span> 存储地址 = 0x7ffec238417c
</code></pre></div><p>⚠️  我们发现，指针++ 移动一次，地址变化为4，刚好是int 类型的字节长度，而不是简单的+1。</p> <p>因此，指针移动是通过移动对应值类型占用内存字节长度来实现的。</p> <p>同样指针递减也是一个道理，</p> <p>递增递减都是连续内存地址，且知道数据类型对应的字节数</p> <h3 id="指针的比较"><a href="#指针的比较" class="header-anchor">#</a> 指针的比较</h3> <p>指针存储是数据信息，可以算术运算，也可以进行比较运算  ==、&lt; 和 &gt; 等等</p> <p>和运算一样，比较的是地址数据，而不是地址上存储的数据</p> <h3 id="数组如何通过下标取值"><a href="#数组如何通过下标取值" class="header-anchor">#</a> 数组如何通过下标取值</h3> <p>上面介绍了指针运算后，我们就很容易理解数组是如何取值的了</p> <div class="language-scss extra-class"><pre class="language-scss"><code>int  var[] = <span class="token punctuation">{</span>10<span class="token punctuation">,</span> 100<span class="token punctuation">,</span> 200<span class="token punctuation">,</span> 300<span class="token punctuation">,</span> 400<span class="token punctuation">}</span><span class="token punctuation">;</span>

⚠️：数组在内存分配的时候是一块连续的内存地址

通过下标3取值 var[2]：
  首先var名分配时就存储了首地址，获取指向var[0]的地址，var[0] = 0x7fffba178d64
  现在移动2次，因为是int（int 这里4字节算），所以 <span class="token operator">+</span> 8 ，计算结果是 0x7fffba178d6c
  这样就直接获取了var[2] 的地址，在直接 <span class="token operator">*</span> 运算取值就好了
  
  因此，发现数组由于地址是连续存储的，可以简单计算得到对应的地址，而无需通过遍历等等复杂操作。
  
</code></pre></div><h3 id="指针数组"><a href="#指针数组" class="header-anchor">#</a> 指针数组</h3> <div class="language-scss extra-class"><pre class="language-scss"><code><span class="token comment">// 值数组，存储数据值</span>
int age[3]<span class="token punctuation">;</span>

<span class="token comment">// 指针数组，存储地址</span>
int *ptr[3]<span class="token punctuation">;</span>

</code></pre></div><p>比如：</p> <div class="language-scss extra-class"><pre class="language-scss"><code>#include &lt;stdio.h&gt;
 
int main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   int  var[4]<span class="token punctuation">,</span> *ptr[4]<span class="token punctuation">;</span> <span class="token comment">// 声明一个指针数组ptr</span>
   for <span class="token punctuation">(</span>int i = 1<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> 4<span class="token punctuation">;</span> i++<span class="token punctuation">)</span>
   <span class="token punctuation">{</span>  
	  var[i] = i <span class="token operator">*</span> 5<span class="token punctuation">;</span>
    ptr[i] = &amp;var[i]<span class="token punctuation">;</span> <span class="token comment">/* 赋值为整数的地址 */</span>
	  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;*ptr下标%d值 = %p; 地址上存储的值 = %d\n&quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> ptr[i]<span class="token punctuation">,</span> *ptr[i]<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   
   return 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>输出结果：</p> <div class="language-scss extra-class"><pre class="language-scss"><code><span class="token variable">$gcc</span> -o main *.c -lm
<span class="token variable">$main</span>
*ptr下标1值 = 0x7ffd2ee55da4<span class="token punctuation">;</span> 地址上存储的值 = 5
*ptr下标2值 = 0x7ffd2ee55da8<span class="token punctuation">;</span> 地址上存储的值 = 10
*ptr下标3值 = 0x7ffd2ee55dac<span class="token punctuation">;</span> 地址上存储的值 = 15
</code></pre></div><h3 id="字符串数组"><a href="#字符串数组" class="header-anchor">#</a> 字符串数组</h3> <div class="language-scss extra-class"><pre class="language-scss"><code>#include &lt;stdio.h&gt;
 
int main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment">// 指向字符的指针数组</span>
   <span class="token selector">const char *names[] = </span><span class="token punctuation">{</span>
                   <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span>
                   <span class="token string">&quot;李四&quot;</span><span class="token punctuation">,</span>
                   <span class="token string">&quot;王五&quot;</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>
   for <span class="token punctuation">(</span>int i = 0<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> 3<span class="token punctuation">;</span> i++<span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;姓名 names[%d] = %s\n&quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> names[i] <span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   return 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>输出结果：</p> <div class="language-scss extra-class"><pre class="language-scss"><code><span class="token variable">$gcc</span> -o main *.c -lm
<span class="token variable">$main</span>
姓名 names[0] = 张三
姓名 names[1] = 李四
姓名 names[2] = 王五
</code></pre></div><h3 id="函数中使用指针"><a href="#函数中使用指针" class="header-anchor">#</a> 函数中使用指针</h3> <h4 id="函数指针参数-地址传值"><a href="#函数指针参数-地址传值" class="header-anchor">#</a> 函数指针参数-地址传值</h4> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token comment">/* 函数声明 */</span>
<span class="token keyword">void</span> <span class="token function">tswap</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>x<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment">/* 局部变量定义 */</span>
   <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>

   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;交换前 x: %d; y: %d\n&quot;</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">tswap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//通过指针传递方式</span>
   
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 函数实现 */</span>
<span class="token keyword">void</span> <span class="token function">tswap</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>x<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>y<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
  <span class="token keyword">int</span> tmp <span class="token operator">=</span> <span class="token operator">*</span>x<span class="token punctuation">;</span>
  x <span class="token operator">=</span> y<span class="token punctuation">;</span>
  y <span class="token operator">=</span> <span class="token operator">&amp;</span>tmp<span class="token punctuation">;</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;交换后 x: %d; y: %d\n&quot;</span><span class="token punctuation">,</span><span class="token operator">*</span>x<span class="token punctuation">,</span> <span class="token operator">*</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>结果：数据发生交换</p> <div class="language-c extra-class"><pre class="language-c"><code>$gcc <span class="token operator">-</span>o main <span class="token operator">*</span><span class="token punctuation">.</span>c <span class="token operator">-</span>lm
$main
交换前 x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">;</span> y<span class="token operator">:</span> <span class="token number">200</span>
交换后 x<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">;</span> y<span class="token operator">:</span> <span class="token number">100</span>
</code></pre></div><h4 id="函数返回-指针"><a href="#函数返回-指针" class="header-anchor">#</a> 函数返回-指针</h4> <h4 id=""><a href="#" class="header-anchor">#</a></h4> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token comment">/* 函数声明 */</span>
<span class="token keyword">int</span> <span class="token operator">*</span> <span class="token function">tswap</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">static</span> <span class="token keyword">int</span> total<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">int</span> <span class="token operator">*</span>t <span class="token operator">=</span> <span class="token function">tswap</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;函数返回时 total: %d; ret_t: %d\n&quot;</span><span class="token punctuation">,</span>total<span class="token punctuation">,</span> <span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token operator">*</span>t <span class="token operator">+=</span> <span class="token number">100</span><span class="token punctuation">;</span> 
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;修改返回后 total: %d; ret_t: %d\n&quot;</span><span class="token punctuation">,</span>total<span class="token punctuation">,</span> <span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
   
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 函数实现 */</span>
<span class="token keyword">int</span> <span class="token operator">*</span> <span class="token function">tswap</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
  total <span class="token operator">=</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token operator">&amp;</span>total<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>结果：</p> <div class="language-c extra-class"><pre class="language-c"><code>$gcc <span class="token operator">-</span>o main <span class="token operator">*</span><span class="token punctuation">.</span>c <span class="token operator">-</span>lm
$main
函数返回时 total<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">;</span> <span class="token class-name">ret_t</span><span class="token operator">:</span> <span class="token number">300</span>
修改返回后 total<span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">;</span> <span class="token class-name">ret_t</span><span class="token operator">:</span> <span class="token number">400</span>
</code></pre></div><p>修改对象 t 后，全局变量 total 也同时发生改变，说明他们是引用同一个内存地址</p> <h4 id="函数指针"><a href="#函数指针" class="header-anchor">#</a> 函数指针</h4> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">void</span> <span class="token function">tswap</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">static</span> <span class="token keyword">int</span> total<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token comment">// 函数指针声明</span>
	<span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">*</span>p_fun<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>tswap<span class="token punctuation">;</span> <span class="token comment">// ⚠️ &amp;tswap 中 &amp; 可以省略</span>
  <span class="token comment">// 通过函数指针p_fun 调用tswap 函数</span>
  <span class="token function">p_fun</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   
  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 函数实现 */</span>
<span class="token keyword">void</span> <span class="token function">tswap</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;函数调用 x: %d; y: %d\n&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>结果：</p> <div class="language-c extra-class"><pre class="language-c"><code>$gcc <span class="token operator">-</span>o main <span class="token operator">*</span><span class="token punctuation">.</span>c <span class="token operator">-</span>lm
$main
函数调用 x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">;</span> y<span class="token operator">:</span> <span class="token number">200</span>
</code></pre></div><h4 id="完整示例"><a href="#完整示例" class="header-anchor">#</a> 完整示例</h4> <div class="language-scss extra-class"><pre class="language-scss"><code>#include &lt;stdio.h&gt;

<span class="token comment">/* 函数声明 */</span>
int <span class="token operator">*</span> <span class="token function">tswap</span><span class="token punctuation">(</span>int *x<span class="token punctuation">,</span> int *y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 全局变量 total</span>
static int total<span class="token punctuation">;</span>

int main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment">/* 局部变量定义 */</span>
   int a = 100<span class="token punctuation">;</span>
   int b = 200<span class="token punctuation">;</span>
 
   <span class="token comment">/* 调用函数来交换值
    * &amp;a 表示指向 a 的指针，即变量 a 的地址 
    * &amp;b 表示指向 b 的指针，即变量 b 的地址 
   */</span>
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;交换前 x: %d; y: %d\n&quot;</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
   
   <span class="token comment">// int *t = tswap(&amp;a, &amp;b); // 正常调用函数</span>
   <span class="token comment">// 定义函数指针，并通过函数指针调用函数</span>
   int <span class="token operator">*</span> <span class="token punctuation">(</span>*p_fun<span class="token punctuation">)</span><span class="token punctuation">(</span>int *<span class="token punctuation">,</span> int *<span class="token punctuation">)</span> = tswap<span class="token punctuation">;</span>
   
   <span class="token comment">//通过指针传递参数，通过函数指针调用函数</span>
   int *t = p_<span class="token function">fun</span><span class="token punctuation">(</span>&amp;a<span class="token punctuation">,</span> &amp;b<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;函数返回时 total: %d; ret_t: %d\n&quot;</span><span class="token punctuation">,</span>total<span class="token punctuation">,</span> *t<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
   *t += 100<span class="token punctuation">;</span> 
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;修改返回后 total: %d; ret_t: %d\n&quot;</span><span class="token punctuation">,</span>total<span class="token punctuation">,</span> *t<span class="token punctuation">)</span><span class="token punctuation">;</span>
   return 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 函数实现 */</span>
int <span class="token operator">*</span> <span class="token function">tswap</span><span class="token punctuation">(</span>int *x<span class="token punctuation">,</span> int *y<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
  int tmp = *x<span class="token punctuation">;</span>
  x = y<span class="token punctuation">;</span>
  y = &amp;tmp<span class="token punctuation">;</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;交换后 x: %d; y: %d\n&quot;</span><span class="token punctuation">,</span>*x<span class="token punctuation">,</span> *y<span class="token punctuation">)</span><span class="token punctuation">;</span>

  total = *x <span class="token operator">+</span> *y<span class="token punctuation">;</span>
  return &amp;total<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>结果：</p> <div class="language-c extra-class"><pre class="language-c"><code>$gcc <span class="token operator">-</span>o main <span class="token operator">*</span><span class="token punctuation">.</span>c <span class="token operator">-</span>lm
$main
交换前 x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">;</span> y<span class="token operator">:</span> <span class="token number">200</span>
交换后 x<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">;</span> y<span class="token operator">:</span> <span class="token number">100</span>
函数返回时 total<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">;</span> <span class="token class-name">ret_t</span><span class="token operator">:</span> <span class="token number">300</span>
修改返回后 total<span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">;</span> <span class="token class-name">ret_t</span><span class="token operator">:</span> <span class="token number">400</span>
</code></pre></div><p>通常我们说的指针变量是指向一个整型、字符型或数组等变量，而函数指针是指向函数。</p> <p>函数指针可以像一般函数一样，用于调用函数、传递参数。函数指针是指向函数的指针变量。</p> <p><strong>整形变量的指针</strong>：指向内存地址，只有一个地址</p> <p><strong>数组指针</strong>：指向数组下标0的对象地址</p> <p><strong>函数指针</strong>：指向函数调用的地址，类似OC中的 IMP</p> <h3 id="指向数组的指针"><a href="#指向数组的指针" class="header-anchor">#</a> 指向数组的指针</h3> <div class="language-scss extra-class"><pre class="language-scss"><code><span class="token comment">// 声明一维数组</span>
double balance[50]<span class="token punctuation">;</span>

<span class="token comment">// 1、数组名是一个指向数组中第一个元素的常量指针</span>
<span class="token comment">// balance 是一个指向 &amp;balance[0] 的指针，即数组 balance 的第一个元素的地址</span>

  double *p<span class="token punctuation">;</span>
	double balance[10]<span class="token punctuation">;</span>
	p = balance<span class="token punctuation">;</span>

<span class="token comment">// 2、使用数组名作为常量指针是合法的,下面两种方式等同</span>
 
  int value = balance[4]<span class="token punctuation">;</span>
	int value = *<span class="token punctuation">(</span>balance <span class="token operator">+</span> 4<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><strong>通过指针访问数组值</strong>：</p> <p>一旦您把第一个元素的地址存储在 p 中，您就可以使用 <em>p、</em>(p+1)、*(p+2) 等来访问数组元素</p> <div class="language-scss extra-class"><pre class="language-scss"><code>#include &lt;stdio.h&gt;
 
int main <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">/* 带有 5 个元素的整型数组 */</span>
   double balance[5] = <span class="token punctuation">{</span>1000.0<span class="token punctuation">,</span> 2.0<span class="token punctuation">,</span> 3.4<span class="token punctuation">,</span> 17.0<span class="token punctuation">,</span> 50.0<span class="token punctuation">}</span><span class="token punctuation">;</span>
   double *p<span class="token punctuation">;</span> <span class="token comment">// p表示变量（指针），*p表示一个double值</span>
   int i<span class="token punctuation">;</span> <span class="token comment">// 整形变量i</span>
 
   p = balance<span class="token punctuation">;</span> <span class="token comment">// 数组第一个元素地址指针赋值给p</span>
 
   <span class="token comment">/* 
      balance ：指向首个数据的地址（指针）
      balance+1 ：指向第二个数据的地址（指针）
      
      *balance ： 首个数据的地址对应的值
   		*（balance+1） ：第二个数据地址对应的值
   		
   		因为数组地址是连续的，因此可以通过直接地址+1的形式获取下一个值
      以下输出数组中每个元素的值 */</span>
   for <span class="token punctuation">(</span> i = 0<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> 5<span class="token punctuation">;</span> i++ <span class="token punctuation">)</span> <span class="token punctuation">{</span>
     	<span class="token comment">// 使用指针的数组值</span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;*(p + %d) : %f\n&quot;</span><span class="token punctuation">,</span>  i<span class="token punctuation">,</span> *<span class="token punctuation">(</span>p <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 使用 balance 作为地址的数组值</span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;*(balance + %d) : %f\n&quot;</span><span class="token punctuation">,</span>  i<span class="token punctuation">,</span> *<span class="token punctuation">(</span>balance <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
  
   return 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 在上面的实例中，p 是一个指向 double 型的指针，这意味着它可以存储一个 double 类型的变量。一旦我们有了 p 中的地址，*p 将给出存储在 p 中相应地址的值</span>
</code></pre></div><h3 id="指向结构体的指针"><a href="#指向结构体的指针" class="header-anchor">#</a> 指向结构体的指针</h3> <h4 id="定义"><a href="#定义" class="header-anchor">#</a> 定义</h4> <p>1、定义指向结构的指针变量struct_pointer：</p> <div class="language-scss extra-class"><pre class="language-scss"><code>struct Books *struct_pointer<span class="token punctuation">;</span>
</code></pre></div><p>2、结构的指针变量 赋值：</p> <div class="language-scss extra-class"><pre class="language-scss"><code>struct_pointer = &amp;Book1<span class="token punctuation">;</span>
</code></pre></div><p>3、结构的指针访问结构的成员，您必须使用 -&gt; 运算符，如下所示：</p> <div class="language-scss extra-class"><pre class="language-scss"><code>struct_pointer-&gt;title<span class="token punctuation">;</span>
</code></pre></div><h4 id="实例-结构体指针作函数参数"><a href="#实例-结构体指针作函数参数" class="header-anchor">#</a> 实例：结构体指针作函数参数</h4> <div class="language-scss extra-class"><pre class="language-scss"><code><span class="token selector">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
 
struct Books
</span><span class="token punctuation">{</span>
   char  title[50]<span class="token punctuation">;</span>
   char  author[50]<span class="token punctuation">;</span>
   char  subject[100]<span class="token punctuation">;</span>
   int   book_id<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token comment">/* 函数声明 */</span>
void <span class="token function">printBook</span><span class="token punctuation">(</span> struct Books *book <span class="token punctuation">)</span><span class="token punctuation">;</span>

int <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   struct Books Book1<span class="token punctuation">;</span>        <span class="token comment">/* 声明 Book1，类型为 Books */</span>
 
   <span class="token comment">/* Book1 详述 */</span>
   <span class="token function">strcpy</span><span class="token punctuation">(</span> Book1.title<span class="token punctuation">,</span> <span class="token string">&quot;C Programming&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">strcpy</span><span class="token punctuation">(</span> Book1.author<span class="token punctuation">,</span> <span class="token string">&quot;Nuha Ali&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token function">strcpy</span><span class="token punctuation">(</span> Book1.subject<span class="token punctuation">,</span> <span class="token string">&quot;C Programming Tutorial&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   Book1.book_id = 6495407<span class="token punctuation">;</span>

   <span class="token comment">/* 通过传 Book1 的地址来输出 Book1 信息 */</span>
   <span class="token function">printBook</span><span class="token punctuation">(</span> &amp;Book1 <span class="token punctuation">)</span><span class="token punctuation">;</span>

   return 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 函数实现：参数是结构体指针，传入是要么是指针变量，要么是结构体地址</span>
void <span class="token function">printBook</span><span class="token punctuation">(</span> struct Books *book <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">&quot;Book title : %s\n&quot;</span><span class="token punctuation">,</span> book-&gt;title<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">&quot;Book author : %s\n&quot;</span><span class="token punctuation">,</span> book-&gt;author<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">&quot;Book subject : %s\n&quot;</span><span class="token punctuation">,</span> book-&gt;subject<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">&quot;Book book_id : %d\n&quot;</span><span class="token punctuation">,</span> book-&gt;book_id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>当上面的代码被编译和执行时，它会产生下列结果：</p> <div class="language-scss extra-class"><pre class="language-scss"><code>Book <span class="token property">title</span> <span class="token punctuation">:</span> C Programming
Book <span class="token property">author</span> <span class="token punctuation">:</span> Nuha Ali
Book <span class="token property">subject</span> <span class="token punctuation">:</span> C Programming Tutorial
Book <span class="token property">book_id</span> <span class="token punctuation">:</span> 6495407
Book <span class="token property">title</span> <span class="token punctuation">:</span> Telecom Billing
Book <span class="token property">author</span> <span class="token punctuation">:</span> Zara Ali
Book <span class="token property">subject</span> <span class="token punctuation">:</span> Telecom Billing Tutorial
Book <span class="token property">book_id</span> <span class="token punctuation">:</span> 6495700
</code></pre></div></div></div> <!----> <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/60d71f/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">C语法Day3-结构</div></a> <a href="/pages/939f32/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">C语法Day5-预处理</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/60d71f/" class="prev">C语法Day3-结构</a></span> <span class="next"><a href="/pages/939f32/">C语法Day5-预处理</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> <!----></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2678ef46.js" defer></script><script src="/assets/js/2.d54d51d6.js" defer></script><script src="/assets/js/70.e122fe20.js" defer></script>
  </body>
</html>
