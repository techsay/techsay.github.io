<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>KVO | 知识导图</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/images/logo.PNG">
    <meta name="description" content="复杂的知识体系需要一套精简的知识导图作参考和索引">
    
    <link rel="preload" href="/assets/css/0.styles.f55df645.css" as="style"><link rel="preload" href="/assets/js/app.2678ef46.js" as="script"><link rel="preload" href="/assets/js/2.d54d51d6.js" as="script"><link rel="preload" href="/assets/js/25.834d54aa.js" as="script"><link rel="prefetch" href="/assets/js/10.c07acda5.js"><link rel="prefetch" href="/assets/js/11.47990fdb.js"><link rel="prefetch" href="/assets/js/12.e6e62076.js"><link rel="prefetch" href="/assets/js/13.efd5f3bb.js"><link rel="prefetch" href="/assets/js/14.ae1ec3d4.js"><link rel="prefetch" href="/assets/js/15.accf01d6.js"><link rel="prefetch" href="/assets/js/16.ea689f78.js"><link rel="prefetch" href="/assets/js/17.b5087c46.js"><link rel="prefetch" href="/assets/js/18.b06630b1.js"><link rel="prefetch" href="/assets/js/19.5dbdd31b.js"><link rel="prefetch" href="/assets/js/20.23c0f931.js"><link rel="prefetch" href="/assets/js/21.3817c0a4.js"><link rel="prefetch" href="/assets/js/22.92a03fa0.js"><link rel="prefetch" href="/assets/js/23.72cf8779.js"><link rel="prefetch" href="/assets/js/24.b09bb721.js"><link rel="prefetch" href="/assets/js/26.217136bb.js"><link rel="prefetch" href="/assets/js/27.4d6c6d41.js"><link rel="prefetch" href="/assets/js/28.d93165dd.js"><link rel="prefetch" href="/assets/js/29.bba60af0.js"><link rel="prefetch" href="/assets/js/3.1c8f89f8.js"><link rel="prefetch" href="/assets/js/30.c5ac74a6.js"><link rel="prefetch" href="/assets/js/31.d8f504e6.js"><link rel="prefetch" href="/assets/js/32.16c8c522.js"><link rel="prefetch" href="/assets/js/33.b6b3538d.js"><link rel="prefetch" href="/assets/js/34.60a06f47.js"><link rel="prefetch" href="/assets/js/35.3b9be217.js"><link rel="prefetch" href="/assets/js/36.afdeb6c9.js"><link rel="prefetch" href="/assets/js/37.9108243e.js"><link rel="prefetch" href="/assets/js/38.8a5a3e24.js"><link rel="prefetch" href="/assets/js/39.50e77631.js"><link rel="prefetch" href="/assets/js/4.dd3209f8.js"><link rel="prefetch" href="/assets/js/40.2ed6fea1.js"><link rel="prefetch" href="/assets/js/41.a20ddc95.js"><link rel="prefetch" href="/assets/js/42.befcb259.js"><link rel="prefetch" href="/assets/js/43.8b7da786.js"><link rel="prefetch" href="/assets/js/44.63805435.js"><link rel="prefetch" href="/assets/js/45.1acf26af.js"><link rel="prefetch" href="/assets/js/46.9384f823.js"><link rel="prefetch" href="/assets/js/47.0b941a4b.js"><link rel="prefetch" href="/assets/js/48.dfe42d1b.js"><link rel="prefetch" href="/assets/js/49.119d74eb.js"><link rel="prefetch" href="/assets/js/5.fd404daa.js"><link rel="prefetch" href="/assets/js/50.4c4d51a9.js"><link rel="prefetch" href="/assets/js/51.9acf0874.js"><link rel="prefetch" href="/assets/js/52.978929e3.js"><link rel="prefetch" href="/assets/js/53.69db1c3d.js"><link rel="prefetch" href="/assets/js/54.bfc4b724.js"><link rel="prefetch" href="/assets/js/55.08fde0df.js"><link rel="prefetch" href="/assets/js/56.30b782bd.js"><link rel="prefetch" href="/assets/js/57.4dd2462f.js"><link rel="prefetch" href="/assets/js/58.9d1a1894.js"><link rel="prefetch" href="/assets/js/59.3f3cd5ff.js"><link rel="prefetch" href="/assets/js/6.3ea0017c.js"><link rel="prefetch" href="/assets/js/60.d23a7761.js"><link rel="prefetch" href="/assets/js/61.97bb4d8b.js"><link rel="prefetch" href="/assets/js/62.93569796.js"><link rel="prefetch" href="/assets/js/63.94da176f.js"><link rel="prefetch" href="/assets/js/64.f34c1758.js"><link rel="prefetch" href="/assets/js/65.73d288ae.js"><link rel="prefetch" href="/assets/js/66.784a15e8.js"><link rel="prefetch" href="/assets/js/67.b54b49f4.js"><link rel="prefetch" href="/assets/js/68.82a69bd5.js"><link rel="prefetch" href="/assets/js/69.d1e714aa.js"><link rel="prefetch" href="/assets/js/7.186d65bc.js"><link rel="prefetch" href="/assets/js/70.e122fe20.js"><link rel="prefetch" href="/assets/js/71.046b8bc9.js"><link rel="prefetch" href="/assets/js/72.ec758b28.js"><link rel="prefetch" href="/assets/js/73.23e4612a.js"><link rel="prefetch" href="/assets/js/74.7a12384e.js"><link rel="prefetch" href="/assets/js/75.446974b8.js"><link rel="prefetch" href="/assets/js/76.2e271a28.js"><link rel="prefetch" href="/assets/js/77.ced4fd0d.js"><link rel="prefetch" href="/assets/js/78.6326de2c.js"><link rel="prefetch" href="/assets/js/79.308c3f6f.js"><link rel="prefetch" href="/assets/js/8.6b31862c.js"><link rel="prefetch" href="/assets/js/80.489bdee8.js"><link rel="prefetch" href="/assets/js/81.f77033fd.js"><link rel="prefetch" href="/assets/js/82.1edf2c1e.js"><link rel="prefetch" href="/assets/js/83.af999b42.js"><link rel="prefetch" href="/assets/js/84.54c61efb.js"><link rel="prefetch" href="/assets/js/85.abd85c90.js"><link rel="prefetch" href="/assets/js/86.f1971f8f.js"><link rel="prefetch" href="/assets/js/87.53b8e651.js"><link rel="prefetch" href="/assets/js/9.eda7b0b0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f55df645.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo2.PNG" alt="知识导图" class="logo"> <span class="site-name can-hide">知识导图</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/3468b2/" class="nav-link">iOS知识</a></div><div class="nav-item"><a href="/pages/603316/" class="nav-link">计算机软件</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友情链接" class="dropdown-title"><!----> <span class="title" style="display:;">友情链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.52im.net/index.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  即时通讯网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://zhuanlan.zhihu.com/p/409277420" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发常用网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/3468b2/" class="nav-link">iOS知识</a></div><div class="nav-item"><a href="/pages/603316/" class="nav-link">计算机软件</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友情链接" class="dropdown-title"><!----> <span class="title" style="display:;">友情链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.52im.net/index.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  即时通讯网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://zhuanlan.zhihu.com/p/409277420" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发常用网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS开发-上篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>iOS开发-中篇</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/1a2531/" aria-current="page" class="active sidebar-link">KVO</a></li><li><a href="/pages/a8479d/" class="sidebar-link">Block</a></li><li><a href="/pages/be70e9/" class="sidebar-link">GCD</a></li><li><a href="/pages/f56bb5/" class="sidebar-link">NSNotification</a></li><li><a href="/pages/e01d5e/" class="sidebar-link">Delegate</a></li><li><a href="/pages/c0a875/" class="sidebar-link">Socket</a></li><li><a href="/pages/44385c/" class="sidebar-link">随笔</a></li><li><a href="/pages/ce0242/" class="sidebar-link">Bug收集分析</a></li><li><a href="/pages/1b1e3b/" class="sidebar-link">内存</a></li><li><a href="/pages/073276/" class="sidebar-link">内存管理</a></li><li><a href="/pages/aaad5a/" class="sidebar-link">锁</a></li><li><a href="/pages/2e933e/" class="sidebar-link">多线程-锁</a></li><li><a href="/pages/4c1594/" class="sidebar-link">数据库多线程</a></li><li><a href="/pages/4abadf/" class="sidebar-link">数据存储</a></li><li><a href="/pages/59f72f/" class="sidebar-link">响应链</a></li><li><a href="/pages/b72c04/" class="sidebar-link">设计模式</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS开发-下篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS开发-三方库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS开发-工具</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>iOS开发</span></li><li data-v-06225672><span data-v-06225672>iOS开发-中篇</span></li></ul> <div class="info" data-v-06225672><!----> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-05-14</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><!----> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">KVO<!----></h1> <!----> <div class="theme-vdoing-content content__default"><html><head><meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>iOS开发-中篇-2022</title> <style>
        body{
            margin: 0;
        }
        #content-info{
            width: auto;
            margin: 0 auto;
            text-align: center;
        }
        #author-info{
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
        }
        #title{
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
            padding-top: 10px;
            margin-bottom: 2px;
            font-size: 34px;
            color: #505050;
        }
        .text{
            white-space:nowrap;
            text-overflow: ellipsis;
            display: inline-block;
            margin-right: 20px;
            margin-bottom: 2px;
            font-size: 20px;
            color: #8c8c8c;
        }
        #navBar{
            width: auto;
            height: auto;
            position: fixed;
            right:0;
            bottom: 0;
            background-color: #f0f3f4;
            overflow-y: auto;
            text-align: center;
        }
        #svg-container{
            width: 100%;
            overflow-x: scroll;
            min-width: 0px;
            margin: 0 10px;
            overflow: visible;
            position: relative;
        }
        #nav-thumbs{
            overflow-y: scroll;
            padding: 0 5px;
        }
        .nav-thumb{
            position: relative;
            margin: 10px auto;
        }
        .nav-thumb &gt;p{
            text-align: center;
            font-size: 12px;
            margin: 4px 0 0 0;
        }
        .nav-thumb &gt;div{
            position: relative;
            display: inline-block;
            border: 1px solid #c6cfd5;
        }
        .nav-thumb img{
            display: block;
        }
        #main-content{
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #ffffff;
            display: flex;
            height: auto;
            flex-flow: row wrap;
            text-align:center;
        }
        #svg-container &gt;svg{
            overflow: visible;
            display: block;
            margin:5px auto;
            margin-bottom: 5px;
        }
        #copyright{
            bottom: 0;
            left: 50%;
            margin: 5px auto;
            font-size: 16px;
            color: #515151;
        }
        #copyright &gt;a{
            text-decoration: none;
            color: #77C;
        }
        .number{
            position: absolute;
            top:0;
            left:0;
            border-top:22px solid #08a1ef;
            border-right: 22px solid transparent;
        }
        .pagenum{
            font-size: 12px;
            color: #fff;
            position: absolute;
            top: -23px;
            left: 2px;
        }
            #navBar::-webkit-scrollbar{
            width: 8px;
            background-color: #f5f5f5;
        }
            #navBar::-webkit-scrollbar-track{
            -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,.3);
            border-radius: 8px;
            background-color: #fff;
        }
            #navBar::-webkit-scrollbar-thumb{
            border-radius: 8px;
            -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,.3);
            background-color: #6b6b70;
        }
        #navBar::-webkit-scrollbar-thumb:hover{
            background-color: #4a4a4f;
        }
</style></head> <body><div id="main-area"><div id="main-content"><div id="svg-container"><svg preserveAspectRadio="xMinYMin meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="page12" width="1063" viewBox="0 0 1063 3972" xmlns:ed="https://www.edrawsoft.cn/xml/2017/SVGExtensions/" height="4058" ed:name="KVO-2" ed:hSpacing="30" ed:vSpacing="30"><style type="text/css">&lt;![CDATA[
g[ed\:togtopicid],g[ed\:hyperlink],g[ed\:comment],g[ed\:note] {cursor:pointer;}
g[id] {-moz-user-select: none;-ms-user-select: none;user-select: none;}
svg text::selection,svg tspan::selection{background-color: #4285f4;color: #ffffff;fill: #ffffff;}
.st33 {fill:#141414;font-family:Open Sans;font-size:10.5pt}
.st31 {fill:#4caf50;font-family:Open Sans;font-size:27pt;font-weight:bold}
.st32 {fill:#ffffff;font-family:Open Sans;font-size:13.5pt}
]]&gt;</style> <defs></defs> <rect x="0" fill="#ffffff" width="1063" y="0" height="4058"></rect> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,129C531,134.4,528.4,137,523,137L8,137C2.6,137,0,134.4,0,129L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,313.13,2745.75)" ed:type="boundary" ed:idlist="257" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="256" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="257"></path> <path d="M8,0L523,0C528.4,0,531,2.6,531,8L531,180C531,185.4,528.4,188,523,188L8,188C2.6,188,0,185.4,0,180L0,8C0,2.6,2.6,0,8,0z" transform="matrix(1,0,0,1,308.71,2960)" ed:type="boundary" ed:idlist="264" fill="#4caf50" stroke-width="2" stroke-dasharray="5,2" id="261" fill-opacity="0.2" stroke-linejoin="round" stroke="#4caf50" ed:parentid="264"></path> <path stroke-linecap="round" d="M-25.2,-26.5L-25.2,20.5C-25.2,23.8,-22.5,26.5,-19.2,26.5L25.2,26.5" transform="matrix(1,0,0,1,83.2,196.5)" fill="none" stroke-width="3" id="115" ed:tosuperid="114" stroke-linejoin="round" stroke="#4caf50" ed:parentid="113"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,152.85,253.88)" fill="none" stroke-width="3" id="117" ed:tosuperid="116" stroke-linejoin="round" stroke="#4caf50" ed:parentid="114"></path> <path stroke-linecap="round" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.5,15.9" transform="matrix(1,0,0,1,206.75,292.63)" fill="none" stroke-width="3" id="119" ed:tosuperid="118" stroke-linejoin="round" stroke="#4caf50" ed:parentid="116"></path> <path stroke-linecap="round" d="M-25.2,-106.8L-25.2,100.8C-25.2,104.1,-22.5,106.8,-19.2,106.8L25.2,106.8" transform="matrix(1,0,0,1,83.2,276.75)" fill="none" stroke-width="3" id="121" ed:tosuperid="120" stroke-linejoin="round" stroke="#4caf50" ed:parentid="113"></path> <path stroke-linecap="round" d="M-25.2,-143.3L-25.2,137.3C-25.2,140.6,-22.5,143.3,-19.2,143.3L25.2,143.3" transform="matrix(1,0,0,1,83.2,313.25)" fill="none" stroke-width="3" id="123" ed:tosuperid="122" stroke-linejoin="round" stroke="#4caf50" ed:parentid="113"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,152.85,487.38)" fill="none" stroke-width="3" id="125" ed:tosuperid="124" stroke-linejoin="round" stroke="#4caf50" ed:parentid="122"></path> <path stroke-linecap="round" d="M-9.5,-10.1L-9.5,4.1C-9.5,7.4,-6.8,10.1,-3.5,10.1L9.5,10.1" transform="matrix(1,0,0,1,206.75,520.38)" fill="none" stroke-width="3" id="127" ed:tosuperid="126" stroke-linejoin="round" stroke="#4caf50" ed:parentid="124"></path> <path stroke-linecap="round" d="M-9.5,-34L-9.5,28C-9.5,31.3,-6.8,34,-3.5,34L9.5,34" transform="matrix(1,0,0,1,206.75,544.25)" fill="none" stroke-width="3" id="129" ed:tosuperid="128" stroke-linejoin="round" stroke="#4caf50" ed:parentid="124"></path> <path stroke-linecap="round" d="M-9.5,-75.5L-9.5,69.5C-9.5,72.8,-6.8,75.5,-3.5,75.5L9.5,75.5" transform="matrix(1,0,0,1,152.85,552)" fill="none" stroke-width="3" id="131" ed:tosuperid="130" stroke-linejoin="round" stroke="#4caf50" ed:parentid="122"></path> <path stroke-linecap="round" d="M-9.5,-10.1L-9.5,4.1C-9.5,7.4,-6.8,10.1,-3.5,10.1L9.5,10.1" transform="matrix(1,0,0,1,206.75,649.63)" fill="none" stroke-width="3" id="133" ed:tosuperid="132" stroke-linejoin="round" stroke="#4caf50" ed:parentid="130"></path> <path stroke-linecap="round" d="M-9.5,-34L-9.5,28C-9.5,31.3,-6.8,34,-3.5,34L9.5,34" transform="matrix(1,0,0,1,206.75,673.5)" fill="none" stroke-width="3" id="135" ed:tosuperid="134" stroke-linejoin="round" stroke="#4caf50" ed:parentid="130"></path> <path stroke-linecap="round" d="M-9.5,-140.1L-9.5,134.1C-9.5,137.4,-6.8,140.1,-3.5,140.1L9.5,140.1" transform="matrix(1,0,0,1,152.85,616.63)" fill="none" stroke-width="3" id="137" ed:tosuperid="136" stroke-linejoin="round" stroke="#4caf50" ed:parentid="122"></path> <path stroke-linecap="round" d="M-9.5,-10.1L-9.5,4.1C-9.5,7.4,-6.8,10.1,-3.5,10.1L9.5,10.1" transform="matrix(1,0,0,1,206.75,778.88)" fill="none" stroke-width="3" id="139" ed:tosuperid="138" stroke-linejoin="round" stroke="#4caf50" ed:parentid="136"></path> <path stroke-linecap="round" d="M-9.5,-29.8L-9.5,23.8C-9.5,27.1,-6.8,29.8,-3.5,29.8L9.5,29.8" transform="matrix(1,0,0,1,206.75,798.5)" fill="none" stroke-width="3" id="141" ed:tosuperid="140" stroke-linejoin="round" stroke="#4caf50" ed:parentid="136"></path> <path stroke-linecap="round" d="M-25.2,-365.1L-25.2,359.1C-25.2,362.4,-22.5,365.1,-19.2,365.1L25.2,365.1" transform="matrix(1,0,0,1,83.2,535.13)" fill="none" stroke-width="3" id="143" ed:tosuperid="142" stroke-linejoin="round" stroke="#4caf50" ed:parentid="113"></path> <path stroke-linecap="round" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.5,15.9" transform="matrix(1,0,0,1,152.85,936.13)" fill="none" stroke-width="3" id="145" ed:tosuperid="144" stroke-linejoin="round" stroke="#4caf50" ed:parentid="142"></path> <path stroke-linecap="round" d="M-9.5,-10.1L-9.5,4.1C-9.5,7.4,-6.8,10.1,-3.5,10.1L9.5,10.1" transform="matrix(1,0,0,1,206.75,984.13)" fill="none" stroke-width="3" id="147" ed:tosuperid="146" stroke-linejoin="round" stroke="#4caf50" ed:parentid="144"></path> <path stroke-linecap="round" d="M-9.5,-10.1L-9.5,4.1C-9.5,7.4,-6.8,10.1,-3.5,10.1L9.5,10.1" transform="matrix(1,0,0,1,260.65,1014.88)" fill="none" stroke-width="3" id="149" ed:tosuperid="148" stroke-linejoin="round" stroke="#4caf50" ed:parentid="146"></path> <path stroke-linecap="round" d="M-9.5,-40.9L-9.5,34.9C-9.5,38.2,-6.8,40.9,-3.5,40.9L9.5,40.9" transform="matrix(1,0,0,1,206.75,1014.88)" fill="none" stroke-width="3" id="151" ed:tosuperid="150" stroke-linejoin="round" stroke="#4caf50" ed:parentid="144"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,260.65,1077.13)" fill="none" stroke-width="3" id="153" ed:tosuperid="152" stroke-linejoin="round" stroke="#4caf50" ed:parentid="150"></path> <path stroke-linecap="round" d="M-9.5,-27.8L-9.5,21.8C-9.5,25.1,-6.8,27.8,-3.5,27.8L9.5,27.8" transform="matrix(1,0,0,1,260.65,1094)" fill="none" stroke-width="3" id="155" ed:tosuperid="154" stroke-linejoin="round" stroke="#4caf50" ed:parentid="150"></path> <path stroke-linecap="round" d="M-9.5,-90L-9.5,84C-9.5,87.3,-6.8,90,-3.5,90L9.5,90" transform="matrix(1,0,0,1,206.75,1064)" fill="none" stroke-width="3" id="157" ed:tosuperid="156" stroke-linejoin="round" stroke="#4caf50" ed:parentid="144"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,260.65,1175.38)" fill="none" stroke-width="3" id="159" ed:tosuperid="158" stroke-linejoin="round" stroke="#4caf50" ed:parentid="156"></path> <path stroke-linecap="round" d="M-9.5,-27.8L-9.5,21.8C-9.5,25.1,-6.8,27.8,-3.5,27.8L9.5,27.8" transform="matrix(1,0,0,1,260.65,1192.25)" fill="none" stroke-width="3" id="161" ed:tosuperid="160" stroke-linejoin="round" stroke="#4caf50" ed:parentid="156"></path> <path stroke-linecap="round" d="M-9.5,-139.9L-9.5,133.9C-9.5,137.2,-6.8,139.9,-3.5,139.9L9.5,139.9" transform="matrix(1,0,0,1,206.75,1113.88)" fill="none" stroke-width="3" id="163" ed:tosuperid="162" stroke-linejoin="round" stroke="#4caf50" ed:parentid="144"></path> <path stroke-linecap="round" d="M-9.5,-161.8L-9.5,155.8C-9.5,159.1,-6.8,161.8,-3.5,161.8L9.5,161.8" transform="matrix(1,0,0,1,206.75,1135.75)" fill="none" stroke-width="3" id="165" ed:tosuperid="164" stroke-linejoin="round" stroke="#4caf50" ed:parentid="144"></path> <path stroke-linecap="round" d="M-9.5,-191.3L-9.5,185.3C-9.5,188.6,-6.8,191.3,-3.5,191.3L9.5,191.3" transform="matrix(1,0,0,1,206.75,1165.25)" fill="none" stroke-width="3" id="167" ed:tosuperid="166" stroke-linejoin="round" stroke="#4caf50" ed:parentid="144"></path> <path stroke-linecap="round" d="M-13.5,7.6L0,7.6L0,-1.6C0,-4.9,2.7,-7.6,6,-7.6L13.5,-7.6" transform="matrix(1,0,0,1,287.54,1348.88)" fill="none" stroke-width="3" id="169" ed:tosuperid="168" stroke-linejoin="round" stroke="#4caf50" ed:parentid="166"></path> <path stroke-linecap="round" d="M0,-7.6L0,1.6C0,4.9,2.7,7.6,6,7.6L13.5,7.6" transform="matrix(1,0,0,1,287.54,1364.13)" fill="none" stroke-width="3" id="171" ed:tosuperid="170" stroke-linejoin="round" stroke="#4caf50" ed:parentid="166"></path> <path stroke-linecap="round" d="M-9.5,-260.3L-9.5,254.3C-9.5,257.6,-6.8,260.3,-3.5,260.3L9.5,260.3" transform="matrix(1,0,0,1,152.85,1180.5)" fill="none" stroke-width="3" id="173" ed:tosuperid="172" stroke-linejoin="round" stroke="#4caf50" ed:parentid="142"></path> <path stroke-linecap="round" d="M-13.5,12.6L0,12.6L0,-6.6C0,-9.9,2.7,-12.6,6,-12.6L13.5,-12.6" transform="matrix(1,0,0,1,247.64,1428.13)" fill="none" stroke-width="3" id="175" ed:tosuperid="174" stroke-linejoin="round" stroke="#4caf50" ed:parentid="172"></path> <path stroke-linecap="round" d="M0,-12.6L0,6.6C0,9.9,2.7,12.6,6,12.6L13.5,12.6" transform="matrix(1,0,0,1,247.64,1453.38)" fill="none" stroke-width="3" id="177" ed:tosuperid="176" stroke-linejoin="round" stroke="#4caf50" ed:parentid="172"></path> <path stroke-linecap="round" d="M-25.2,-685.5L-25.2,679.5C-25.2,682.8,-22.5,685.5,-19.2,685.5L25.2,685.5" transform="matrix(1,0,0,1,83.2,855.5)" fill="none" stroke-width="3" id="179" ed:tosuperid="178" stroke-linejoin="round" stroke="#4caf50" ed:parentid="113"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,152.85,1571.88)" fill="none" stroke-width="3" id="181" ed:tosuperid="180" stroke-linejoin="round" stroke="#4caf50" ed:parentid="178"></path> <path stroke-linecap="round" d="M-9.5,-27.8L-9.5,21.8C-9.5,25.1,-6.8,27.8,-3.5,27.8L9.5,27.8" transform="matrix(1,0,0,1,152.85,1588.75)" fill="none" stroke-width="3" id="183" ed:tosuperid="182" stroke-linejoin="round" stroke="#4caf50" ed:parentid="178"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,1639.38)" fill="none" stroke-width="3" id="185" ed:tosuperid="184" stroke-linejoin="round" stroke="#4caf50" ed:parentid="182"></path> <path stroke-linecap="round" d="M-9.5,-61.5L-9.5,55.5C-9.5,58.8,-6.8,61.5,-3.5,61.5L9.5,61.5" transform="matrix(1,0,0,1,152.85,1622.5)" fill="none" stroke-width="3" id="187" ed:tosuperid="186" stroke-linejoin="round" stroke="#4caf50" ed:parentid="178"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,200.67,1706.88)" fill="none" stroke-width="3" id="189" ed:tosuperid="188" stroke-linejoin="round" stroke="#4caf50" ed:parentid="186"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,254.57,1740.63)" fill="none" stroke-width="3" id="191" ed:tosuperid="190" stroke-linejoin="round" stroke="#4caf50" ed:parentid="188"></path> <path stroke-linecap="round" d="M-9.5,-44.6L-9.5,38.6C-9.5,41.9,-6.8,44.6,-3.5,44.6L9.5,44.6" transform="matrix(1,0,0,1,200.67,1740.63)" fill="none" stroke-width="3" id="193" ed:tosuperid="192" stroke-linejoin="round" stroke="#4caf50" ed:parentid="186"></path> <path stroke-linecap="round" d="M-9.5,-14.4L-9.5,8.4C-9.5,11.7,-6.8,14.4,-3.5,14.4L9.5,14.4" transform="matrix(1,0,0,1,254.57,1811.63)" fill="none" stroke-width="3" id="195" ed:tosuperid="194" stroke-linejoin="round" stroke="#4caf50" ed:parentid="192"></path> <path stroke-linecap="round" d="M-9.5,-85.4L-9.5,79.4C-9.5,82.7,-6.8,85.4,-3.5,85.4L9.5,85.4" transform="matrix(1,0,0,1,200.67,1781.38)" fill="none" stroke-width="3" id="197" ed:tosuperid="196" stroke-linejoin="round" stroke="#4caf50" ed:parentid="186"></path> <path stroke-linecap="round" d="M-9.5,-102.3L-9.5,96.3C-9.5,99.6,-6.8,102.3,-3.5,102.3L9.5,102.3" transform="matrix(1,0,0,1,200.67,1798.25)" fill="none" stroke-width="3" id="199" ed:tosuperid="198" stroke-linejoin="round" stroke="#4caf50" ed:parentid="186"></path> <path stroke-linecap="round" d="M-9.5,-119.1L-9.5,113.1C-9.5,116.4,-6.8,119.1,-3.5,119.1L9.5,119.1" transform="matrix(1,0,0,1,200.67,1815.13)" fill="none" stroke-width="3" id="201" ed:tosuperid="200" stroke-linejoin="round" stroke="#4caf50" ed:parentid="186"></path> <path stroke-linecap="round" d="M-9.5,-10.1L-9.5,4.1C-9.5,7.4,-6.8,10.1,-3.5,10.1L9.5,10.1" transform="matrix(1,0,0,1,254.57,1956.38)" fill="none" stroke-width="3" id="203" ed:tosuperid="202" stroke-linejoin="round" stroke="#4caf50" ed:parentid="200"></path> <path stroke-linecap="round" d="M-9.5,-218.9L-9.5,212.9C-9.5,216.2,-6.8,218.9,-3.5,218.9L9.5,218.9" transform="matrix(1,0,0,1,152.85,1779.88)" fill="none" stroke-width="3" id="205" ed:tosuperid="204" stroke-linejoin="round" stroke="#4caf50" ed:parentid="178"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,2021.63)" fill="none" stroke-width="3" id="207" ed:tosuperid="206" stroke-linejoin="round" stroke="#4caf50" ed:parentid="204"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,260.65,2055.38)" fill="none" stroke-width="3" id="209" ed:tosuperid="208" stroke-linejoin="round" stroke="#4caf50" ed:parentid="206"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,314.55,2089.13)" fill="none" stroke-width="3" id="211" ed:tosuperid="210" stroke-linejoin="round" stroke="#4caf50" ed:parentid="208"></path> <path stroke-linecap="round" d="M-9.5,-44.6L-9.5,38.6C-9.5,41.9,-6.8,44.6,-3.5,44.6L9.5,44.6" transform="matrix(1,0,0,1,260.65,2089.13)" fill="none" stroke-width="3" id="213" ed:tosuperid="212" stroke-linejoin="round" stroke="#4caf50" ed:parentid="206"></path> <path stroke-linecap="round" d="M-9.5,-97.8L-9.5,91.8C-9.5,95.1,-6.8,97.8,-3.5,97.8L9.5,97.8" transform="matrix(1,0,0,1,260.65,2142.31)" fill="none" stroke-width="3" id="215" ed:tosuperid="214" stroke-linejoin="round" stroke="#4caf50" ed:parentid="206"></path> <path stroke-linecap="round" d="M-13.5,36.3L0,36.3L0,-30.3C0,-33.6,2.7,-36.3,6,-36.3L13.5,-36.3" transform="matrix(1,0,0,1,369.44,2203.81)" fill="none" stroke-width="3" id="217" ed:tosuperid="216" stroke-linejoin="round" stroke="#4caf50" ed:parentid="214"></path> <path stroke-linecap="round" d="M0,16.1L0,-10.1C0,-13.4,2.7,-16.1,6,-16.1L13.5,-16.1" transform="matrix(1,0,0,1,369.44,2224.06)" fill="none" stroke-width="3" id="219" ed:tosuperid="218" stroke-linejoin="round" stroke="#4caf50" ed:parentid="214"></path> <path stroke-linecap="round" d="M-13.5,0L0,0C0,0,2.7,0,6,0L13.5,0" transform="matrix(1,0,0,1,511.04,2208)" fill="none" stroke-width="3" id="221" ed:tosuperid="220" stroke-linejoin="round" stroke="#4caf50" ed:parentid="218"></path> <path stroke-linecap="round" d="M0,-4.2L0,-1.8C0,1.5,2.7,4.2,6,4.2L13.5,4.2" transform="matrix(1,0,0,1,369.44,2244.31)" fill="none" stroke-width="3" id="223" ed:tosuperid="222" stroke-linejoin="round" stroke="#4caf50" ed:parentid="214"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,427.39,2271.38)" fill="none" stroke-width="3" id="225" ed:tosuperid="224" stroke-linejoin="round" stroke="#4caf50" ed:parentid="222"></path> <path stroke-linecap="round" d="M0,-36.3L0,30.3C0,33.6,2.7,36.3,6,36.3L13.5,36.3" transform="matrix(1,0,0,1,369.44,2276.44)" fill="none" stroke-width="3" id="227" ed:tosuperid="226" stroke-linejoin="round" stroke="#4caf50" ed:parentid="214"></path> <path stroke-linecap="round" d="M-13.5,0L0,0C0,0,2.7,0,6,0L13.5,0" transform="matrix(1,0,0,1,473.44,2312.75)" fill="none" stroke-width="3" id="229" ed:tosuperid="228" stroke-linejoin="round" stroke="#4caf50" ed:parentid="226"></path> <path stroke-linecap="round" d="M-9.5,-167.9L-9.5,161.9C-9.5,165.2,-6.8,167.9,-3.5,167.9L9.5,167.9" transform="matrix(1,0,0,1,206.75,2178.63)" fill="none" stroke-width="3" id="231" ed:tosuperid="230" stroke-linejoin="round" stroke="#4caf50" ed:parentid="204"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,260.65,2369.38)" fill="none" stroke-width="3" id="233" ed:tosuperid="232" stroke-linejoin="round" stroke="#4caf50" ed:parentid="230"></path> <path stroke-linecap="round" d="M-13.5,0L0,0C0,0,2.7,0,6,0L13.5,0" transform="matrix(1,0,0,1,355.44,2380.25)" fill="none" stroke-width="3" id="235" ed:tosuperid="234" stroke-linejoin="round" stroke="#4caf50" ed:parentid="232"></path> <path stroke-linecap="round" d="M-9.5,-27.8L-9.5,21.8C-9.5,25.1,-6.8,27.8,-3.5,27.8L9.5,27.8" transform="matrix(1,0,0,1,260.65,2386.25)" fill="none" stroke-width="3" id="237" ed:tosuperid="236" stroke-linejoin="round" stroke="#4caf50" ed:parentid="230"></path> <path stroke-linecap="round" d="M-13.5,0L0,0C0,0,2.7,0,6,0L13.5,0" transform="matrix(1,0,0,1,355.44,2414)" fill="none" stroke-width="3" id="239" ed:tosuperid="238" stroke-linejoin="round" stroke="#4caf50" ed:parentid="236"></path> <path stroke-linecap="round" d="M-9.5,-44.6L-9.5,38.6C-9.5,41.9,-6.8,44.6,-3.5,44.6L9.5,44.6" transform="matrix(1,0,0,1,260.65,2403.13)" fill="none" stroke-width="3" id="241" ed:tosuperid="240" stroke-linejoin="round" stroke="#4caf50" ed:parentid="230"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,314.55,2470.63)" fill="none" stroke-width="3" id="243" ed:tosuperid="242" stroke-linejoin="round" stroke="#4caf50" ed:parentid="240"></path> <path stroke-linecap="round" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.5,15.9" transform="matrix(1,0,0,1,368.45,2509.38)" fill="none" stroke-width="3" id="245" ed:tosuperid="244" stroke-linejoin="round" stroke="#4caf50" ed:parentid="242"></path> <path stroke-linecap="round" d="M-9.5,-59.6L-9.5,53.6C-9.5,56.9,-6.8,59.6,-3.5,59.6L9.5,59.6" transform="matrix(1,0,0,1,314.55,2519.38)" fill="none" stroke-width="3" id="247" ed:tosuperid="246" stroke-linejoin="round" stroke="#4caf50" ed:parentid="240"></path> <path stroke-linecap="round" d="M-9.5,-530.9L-9.5,524.9C-9.5,528.2,-6.8,530.9,-3.5,530.9L9.5,530.9" transform="matrix(1,0,0,1,152.85,2091.88)" fill="none" stroke-width="3" id="249" ed:tosuperid="248" stroke-linejoin="round" stroke="#4caf50" ed:parentid="178"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,206.75,2645.63)" fill="none" stroke-width="3" id="251" ed:tosuperid="250" stroke-linejoin="round" stroke="#4caf50" ed:parentid="248"></path> <path stroke-linecap="round" d="M-9.5,-27.8L-9.5,21.8C-9.5,25.1,-6.8,27.8,-3.5,27.8L9.5,27.8" transform="matrix(1,0,0,1,206.75,2662.5)" fill="none" stroke-width="3" id="253" ed:tosuperid="252" stroke-linejoin="round" stroke="#4caf50" ed:parentid="248"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,260.65,2713.13)" fill="none" stroke-width="3" id="255" ed:tosuperid="254" stroke-linejoin="round" stroke="#4caf50" ed:parentid="252"></path> <path stroke-linecap="round" d="M-9.5,-39.1L-9.5,33.1C-9.5,36.4,-6.8,39.1,-3.5,39.1L9.5,39.1" transform="matrix(1,0,0,1,310.68,2775.13)" fill="none" stroke-width="3" id="258" ed:tosuperid="257" stroke-linejoin="round" stroke="#4caf50" ed:parentid="254"></path> <path stroke-linecap="round" d="M-9.5,-101.1L-9.5,95.1C-9.5,98.4,-6.8,101.1,-3.5,101.1L9.5,101.1" transform="matrix(1,0,0,1,260.65,2803.38)" fill="none" stroke-width="3" id="260" ed:tosuperid="259" stroke-linejoin="round" stroke="#4caf50" ed:parentid="252"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,306.26,2927.38)" fill="none" stroke-width="3" id="263" ed:tosuperid="262" stroke-linejoin="round" stroke="#4caf50" ed:parentid="259"></path> <path stroke-linecap="round" d="M-9.5,-68.8L-9.5,62.8C-9.5,66.1,-6.8,68.8,-3.5,68.8L9.5,68.8" transform="matrix(1,0,0,1,306.26,2985.25)" fill="none" stroke-width="3" id="265" ed:tosuperid="264" stroke-linejoin="round" stroke="#4caf50" ed:parentid="259"></path> <path stroke-linecap="round" d="M-9.5,-267.5L-9.5,261.5C-9.5,264.8,-6.8,267.5,-3.5,267.5L9.5,267.5" transform="matrix(1,0,0,1,206.75,2902.25)" fill="none" stroke-width="3" id="267" ed:tosuperid="266" stroke-linejoin="round" stroke="#4caf50" ed:parentid="248"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,260.65,3192.63)" fill="none" stroke-width="3" id="269" ed:tosuperid="268" stroke-linejoin="round" stroke="#4caf50" ed:parentid="266"></path> <path stroke-linecap="round" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.5,15.9" transform="matrix(1,0,0,1,308.47,3231.38)" fill="none" stroke-width="3" id="271" ed:tosuperid="270" stroke-linejoin="round" stroke="#4caf50" ed:parentid="268"></path> <path stroke-linecap="round" d="M-9.5,-54.6L-9.5,48.6C-9.5,51.9,-6.8,54.6,-3.5,54.6L9.5,54.6" transform="matrix(1,0,0,1,260.65,3236.38)" fill="none" stroke-width="3" id="273" ed:tosuperid="272" stroke-linejoin="round" stroke="#4caf50" ed:parentid="266"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,308.47,3313.88)" fill="none" stroke-width="3" id="275" ed:tosuperid="274" stroke-linejoin="round" stroke="#4caf50" ed:parentid="272"></path> <path stroke-linecap="round" d="M-9.5,-27.8L-9.5,21.8C-9.5,25.1,-6.8,27.8,-3.5,27.8L9.5,27.8" transform="matrix(1,0,0,1,308.47,3330.75)" fill="none" stroke-width="3" id="277" ed:tosuperid="276" stroke-linejoin="round" stroke="#4caf50" ed:parentid="272"></path> <path stroke-linecap="round" d="M-9.5,-14.4L-9.5,8.4C-9.5,11.7,-6.8,14.4,-3.5,14.4L9.5,14.4" transform="matrix(1,0,0,1,362.37,3384.88)" fill="none" stroke-width="3" id="279" ed:tosuperid="278" stroke-linejoin="round" stroke="#4caf50" ed:parentid="276"></path> <path stroke-linecap="round" d="M-9.5,-68.5L-9.5,62.5C-9.5,65.8,-6.8,68.5,-3.5,68.5L9.5,68.5" transform="matrix(1,0,0,1,308.47,3371.5)" fill="none" stroke-width="3" id="281" ed:tosuperid="280" stroke-linejoin="round" stroke="#4caf50" ed:parentid="272"></path> <path stroke-linecap="round" d="M-9.5,-14.4L-9.5,8.4C-9.5,11.7,-6.8,14.4,-3.5,14.4L9.5,14.4" transform="matrix(1,0,0,1,362.37,3466.38)" fill="none" stroke-width="3" id="283" ed:tosuperid="282" stroke-linejoin="round" stroke="#4caf50" ed:parentid="280"></path> <path stroke-linecap="round" d="M-9.5,-443.4L-9.5,437.4C-9.5,440.7,-6.8,443.4,-3.5,443.4L9.5,443.4" transform="matrix(1,0,0,1,206.75,3078.13)" fill="none" stroke-width="3" id="285" ed:tosuperid="284" stroke-linejoin="round" stroke="#4caf50" ed:parentid="248"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,260.65,3544.38)" fill="none" stroke-width="3" id="287" ed:tosuperid="286" stroke-linejoin="round" stroke="#4caf50" ed:parentid="284"></path> <path stroke-linecap="round" d="M-9.5,-27.8L-9.5,21.8C-9.5,25.1,-6.8,27.8,-3.5,27.8L9.5,27.8" transform="matrix(1,0,0,1,260.65,3561.25)" fill="none" stroke-width="3" id="289" ed:tosuperid="288" stroke-linejoin="round" stroke="#4caf50" ed:parentid="284"></path> <path stroke-linecap="round" d="M-9.5,-1030.9L-9.5,1024.9C-9.5,1028.2,-6.8,1030.9,-3.5,1030.9L9.5,1030.9" transform="matrix(1,0,0,1,152.85,2591.88)" fill="none" stroke-width="3" id="291" ed:tosuperid="290" stroke-linejoin="round" stroke="#4caf50" ed:parentid="178"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,200.67,3645.63)" fill="none" stroke-width="3" id="293" ed:tosuperid="292" stroke-linejoin="round" stroke="#4caf50" ed:parentid="290"></path> <path stroke-linecap="round" d="M-9.5,-10.9L-9.5,4.9C-9.5,8.2,-6.8,10.9,-3.5,10.9L9.5,10.9" transform="matrix(1,0,0,1,254.57,3679.38)" fill="none" stroke-width="3" id="295" ed:tosuperid="294" stroke-linejoin="round" stroke="#4caf50" ed:parentid="292"></path> <path stroke-linecap="round" d="M-9.5,-44.6L-9.5,38.6C-9.5,41.9,-6.8,44.6,-3.5,44.6L9.5,44.6" transform="matrix(1,0,0,1,200.67,3679.38)" fill="none" stroke-width="3" id="297" ed:tosuperid="296" stroke-linejoin="round" stroke="#4caf50" ed:parentid="290"></path> <path stroke-linecap="round" d="M-9.5,-25.9L-9.5,19.9C-9.5,23.2,-6.8,25.9,-3.5,25.9L9.5,25.9" transform="matrix(1,0,0,1,254.57,3761.88)" fill="none" stroke-width="3" id="299" ed:tosuperid="298" stroke-linejoin="round" stroke="#4caf50" ed:parentid="296"></path> <path stroke-linecap="round" d="M-9.5,-108.4L-9.5,102.4C-9.5,105.7,-6.8,108.4,-3.5,108.4L9.5,108.4" transform="matrix(1,0,0,1,200.67,3743.13)" fill="none" stroke-width="3" id="301" ed:tosuperid="300" stroke-linejoin="round" stroke="#4caf50" ed:parentid="290"></path> <path stroke-linecap="round" d="M-9.5,-15.9L-9.5,9.9C-9.5,13.2,-6.8,15.9,-3.5,15.9L9.5,15.9" transform="matrix(1,0,0,1,254.57,3879.38)" fill="none" stroke-width="3" id="303" ed:tosuperid="302" stroke-linejoin="round" stroke="#4caf50" ed:parentid="300"></path> <path stroke-linecap="round" d="M-9.5,-37.8L-9.5,31.8C-9.5,35.1,-6.8,37.8,-3.5,37.8L9.5,37.8" transform="matrix(1,0,0,1,254.57,3901.25)" fill="none" stroke-width="3" id="305" ed:tosuperid="304" stroke-linejoin="round" stroke="#4caf50" ed:parentid="300"></path> <path stroke-linecap="round" d="M-9.5,-20.9L-9.5,14.9C-9.5,18.2,-6.8,20.9,-3.5,20.9L9.5,20.9" transform="matrix(1,0,0,1,300.18,3971.88)" fill="none" stroke-width="3" id="307" ed:tosuperid="306" stroke-linejoin="round" stroke="#4caf50" ed:parentid="304"></path> <g transform="matrix(1,0,0,1,23,97)" id="113" ed:width="182.890625" ed:height="73" ed:layout="righttree" ed:topictype="mainidea"><path d="M4,0L178.9,0C181.6,0,182.9,1.3,182.9,4L182.9,69C182.9,71.7,181.6,73,178.9,73L4,73C1.3,73,0,71.7,0,69L0,4C0,1.3,1.3,0,4,0z" fill="none" stroke-width="3" stroke-linejoin="round" stroke="#4caf50"></path> <text class="st31"><tspan x="22" textLength="139" y="50">KVO -2</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,203)" id="114" ed:width="128" ed:height="40" ed:parentid="113"><path d="M4,0L124,0C126.7,0,128,1.3,128,4L128,36C128,38.7,126.7,40,124,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st32"><tspan x="19" textLength="90" y="24">观察者模式</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,252.75)" id="116" ed:width="245" ed:height="24" ed:parentid="114"><text class="st33"><tspan x="10" textLength="224" y="16">当需要对一个对象的属性进行监听时</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,286.5)" id="118" ed:width="517" ed:height="44" ed:parentid="116"><text class="st33"><tspan x="10" textLength="489" y="16">当对象某个属性(例如 A 中的字符串 name)发生更改时，对象会获得通知，并作</tspan> <tspan x="10" textLength="70" y="36">出相应处理</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,363.5)" id="120" ed:width="371.546875" ed:height="40" ed:parentid="113"><path d="M4,0L367.5,0C370.2,0,371.5,1.3,371.5,4L371.5,36C371.5,38.7,370.2,40,367.5,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st32"><tspan x="19" textLength="334" y="24">比如 View来监听Modal的变化而做出更改</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,436.5)" id="122" ed:width="183.484375" ed:height="40" ed:parentid="113"><path d="M4,0L179.5,0C182.2,0,183.5,1.3,183.5,4L183.5,36C183.5,38.7,182.2,40,179.5,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st32"><tspan x="19" textLength="145" y="24">系统KVO基本使用</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,486.25)" id="124" ed:width="99.84375" ed:height="24" ed:parentid="122"><text class="st33"><tspan x="10" textLength="79" y="16">添加观察者 :</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,520)" id="126" ed:width="318.171875" ed:height="21" ed:parentid="124"><text class="st33"><tspan x="10" textLength="297" y="16">addObserver: forKeyPath:  options: context:</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,550.75)" id="128" ed:width="517" ed:height="55" ed:parentid="124"><text class="st33"><tspan x="10" textLength="499" y="16">- (void)addObserver:(NSObject *)observer forKeyPath:(NSString *)keyPath </tspan> <tspan x="10" textLength="474" y="33">options:(NSKeyValueObservingOptions)options context:(nullable void </tspan> <tspan x="10" textLength="67" y="50">*)context;</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,615.5)" id="130" ed:width="141.84375" ed:height="24" ed:parentid="122"><text class="st33"><tspan x="10" textLength="121" y="16">实现观察响应方法 :</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,649.25)" id="132" ed:width="375.71875" ed:height="21" ed:parentid="130"><text class="st33"><tspan x="10" textLength="355" y="16">observeValueForKeyPath: ofObject: change: context:</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,680)" id="134" ed:width="517" ed:height="55" ed:parentid="130"><text class="st33"><tspan x="10" textLength="476" y="16">- (void)observeValueForKeyPath:(nullable NSString *)keyPath ofObject:</tspan> <tspan x="10" textLength="449" y="33">(nullable id)object change:(nullable NSDictionary*)change context:</tspan> <tspan x="10" textLength="163" y="50">(nullable void *)context;</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,744.75)" id="136" ed:width="99.84375" ed:height="24" ed:parentid="122"><text class="st33"><tspan x="10" textLength="79" y="16">移除观察者 :</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,778.5)" id="138" ed:width="218.59375" ed:height="21" ed:parentid="136"><text class="st33"><tspan x="10" textLength="198" y="16">removeObserver: forKeyPath:</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,809.25)" id="140" ed:width="517" ed:height="38" ed:parentid="136"><text class="st33"><tspan x="10" textLength="456" y="16">- (void)removeObserver:(NSObject *)observer forKeyPath:(NSString </tspan> <tspan x="10" textLength="68" y="33">*)keyPath;</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,880.25)" id="142" ed:width="127.0625" ed:height="40" ed:parentid="113"><path d="M4,0L123.1,0C125.8,0,127.1,1.3,127.1,4L127.1,36C127.1,38.7,125.8,40,123.1,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st32"><tspan x="19" textLength="89" y="24">系统文件 : </tspan></text></g> <g transform="matrix(1,0,0,1,162.3,930)" id="144" ed:width="517" ed:height="44" ed:parentid="142"><text class="st33"><tspan x="10" textLength="350" y="16">我们进入KVO方法, 会跳转到系统的foundation框架文件</tspan> <tspan x="10" textLength="162" y="36">NSKeyValueObserving.h</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,983.75)" id="146" ed:width="316.28125" ed:height="21" ed:parentid="144"><text class="st33"><tspan x="10" textLength="295" y="16">@interface NSObject(NSKeyValueObserving)</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,1014.5)" id="148" ed:width="208.984375" ed:height="21" ed:parentid="146"><text class="st33"><tspan x="10" textLength="188" y="16">observeValueForKeyPath: ...</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,1045.25)" id="150" ed:width="390.109375" ed:height="21" ed:parentid="144"><text class="st33"><tspan x="10" textLength="369" y="16">@interface NSObject(NSKeyValueObserverRegistration)</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,1076)" id="152" ed:width="139.796875" ed:height="24" ed:parentid="150"><text class="st33"><tspan x="10" textLength="119" y="16">addObserver 方法</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,1109.75)" id="154" ed:width="160.265625" ed:height="24" ed:parentid="150"><text class="st33"><tspan x="10" textLength="139" y="16">removeObserver方法</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,1143.5)" id="156" ed:width="481.234375" ed:height="21" ed:parentid="144"><text class="st33"><tspan x="10" textLength="460" y="16">@interface NSArray&lt;ObjectType&gt;(NSKeyValueObserverRegistration)</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,1174.25)" id="158" ed:width="139.796875" ed:height="24" ed:parentid="156"><text class="st33"><tspan x="10" textLength="119" y="16">addObserver 方法</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,1208)" id="160" ed:width="160.265625" ed:height="24" ed:parentid="156"><text class="st33"><tspan x="10" textLength="139" y="16">removeObserver方法</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,1241.75)" id="162" ed:width="141.84375" ed:height="24" ed:parentid="144"><text class="st33"><tspan x="10" textLength="121" y="16">系统导入的头文件 :</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,1275.5)" id="164" ed:width="517" ed:height="44" ed:parentid="144"><text class="st33"><tspan x="10" textLength="491" y="16">同样也对NSSet.h / NSOrderedSet.h / NSDictionary.h /NSArray.h  进行扩展</tspan> <tspan x="10" textLength="28" y="36">方法</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,1344.5)" id="166" ed:width="57.84375" ed:height="24" ed:layout="rightmap" ed:parentid="144"><text class="st33"><tspan x="10" textLength="37" y="16">因此 :</tspan></text></g> <g transform="matrix(1,0,0,1,301.04,1329.25)" id="168" ed:width="407.515625" ed:height="24" ed:layout="rightmap" ed:parentid="166"><text class="st33"><tspan x="10" textLength="387" y="16">1. 只要是上面几个类,或者继承自他们的子类, 均支持KVO 方法</tspan></text></g> <g transform="matrix(1,0,0,1,301.04,1359.75)" id="170" ed:width="240.65625" ed:height="24" ed:layout="rightmap" ed:parentid="166"><text class="st33"><tspan x="10" textLength="220" y="16">2. 而绝大部分类都继承自NSObject</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,1428.75)" id="172" ed:width="71.84375" ed:height="24" ed:layout="rightmap" ed:parentid="142"><text class="st33"><tspan x="10" textLength="51" y="16">简单说 :</tspan></text></g> <g transform="matrix(1,0,0,1,261.14,1393.5)" id="174" ed:width="517" ed:height="44" ed:layout="rightmap" ed:parentid="172"><text class="st33"><tspan x="10" textLength="488" y="16">KVC 是系统在这些类上 扩展一些方法, 可以用来监听类属性值的改变 ,而具体实</tspan> <tspan x="10" textLength="116" y="36">现方法由系统完成 </tspan></text></g> <g transform="matrix(1,0,0,1,261.14,1444)" id="176" ed:width="517" ed:height="44" ed:layout="rightmap" ed:parentid="172"><text class="st33"><tspan x="10" textLength="493" y="16">另外,由于KVO是基于key-value添加监听实现的, 那么KVO就是基于KVC 基础上</tspan> <tspan x="10" textLength="327" y="36">实现 , 而KVC 也是基于NSObject类上(后面介绍KVC)</tspan></text></g> <g transform="matrix(1,0,0,1,108.4,1521)" id="178" ed:width="164.546875" ed:height="40" ed:parentid="113"><path d="M4,0L160.5,0C163.2,0,164.5,1.3,164.5,4L164.5,36C164.5,38.7,163.2,40,160.5,40L4,40C1.3,40,0,38.7,0,36L0,4C0,1.3,1.3,0,4,0z" fill="#4caf50"></path> <text class="st32"><tspan x="19" textLength="127" y="24">系统KVO 原理 :</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,1570.75)" id="180" ed:width="331.140625" ed:height="24" ed:parentid="178"><text class="st33"><tspan x="10" textLength="310" y="16">KVO 的实现依赖于 Objective-C 强大的 Runtime</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,1604.5)" id="182" ed:width="202.015625" ed:height="24" ed:parentid="178"><text class="st33"><tspan x="10" textLength="181" y="16">观察一个对象A (类 YSUser) :</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,1638.25)" id="184" ed:width="341.796875" ed:height="24" ed:parentid="182"><text class="st33"><tspan x="10" textLength="321" y="16">KVO 机制动态创建一个对象A当前类的子类YSUser_</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,1672)" id="186" ed:width="57.84375" ed:height="24" ed:parentid="178"><text class="st33"><tspan x="10" textLength="37" y="16">实现 :</tspan></text></g> <g transform="matrix(1,0,0,1,210.12,1705.75)" id="188" ed:width="297.71875" ed:height="24" ed:parentid="186"><text class="st33"><tspan x="10" textLength="277" y="16">1. 创建一个 Person 类 内部有个 name 属性</tspan></text></g> <g transform="matrix(1,0,0,1,264.02,1739.5)" id="190" ed:width="340.84375" ed:height="24" ed:parentid="188"><text class="st33"><tspan x="10" textLength="320" y="16">声明变量 Person *personA = [[Person alloc]init];</tspan></text></g> <g transform="matrix(1,0,0,1,210.12,1773.25)" id="192" ed:width="103.53125" ed:height="24" ed:parentid="186"><text class="st33"><tspan x="10" textLength="83" y="16">2. 添加监听 :</tspan></text></g> <g transform="matrix(1,0,0,1,264.02,1807)" id="194" ed:width="517" ed:height="38" ed:parentid="192"><text class="st33"><tspan x="10" textLength="331" y="16">[personA addObserver:self forKeyPath:@“name”  </tspan> <tspan x="10" textLength="361" y="33">options:NSKeyValueObservingOptionNew context:nil]</tspan></text></g> <g transform="matrix(1,0,0,1,210.12,1854.75)" id="196" ed:width="253.546875" ed:height="24" ed:parentid="186"><text class="st33"><tspan x="10" textLength="233" y="16">3. 赋值 : personA.name = @“小明”;</tspan></text></g> <g transform="matrix(1,0,0,1,210.12,1888.5)" id="198" ed:width="423.40625" ed:height="24" ed:parentid="186"><text class="st33"><tspan x="10" textLength="402" y="16">4. 在observeValueForKeyPath: 回调方法收到了属性改变的通知</tspan></text></g> <g transform="matrix(1,0,0,1,210.12,1922.25)" id="200" ed:width="202.53125" ed:height="24" ed:parentid="186"><text class="st33"><tspan x="10" textLength="182" y="16">5. dealloc 方法中 移除监听 :</tspan></text></g> <g transform="matrix(1,0,0,1,264.02,1956)" id="202" ed:width="377.421875" ed:height="21" ed:parentid="200"><text class="st33"><tspan x="10" textLength="356" y="16">[personA removeObserver:self forKeyPath:@“name”];</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,1986.75)" id="204" ed:width="101.328125" ed:height="24" ed:parentid="178"><text class="st33"><tspan x="10" textLength="80" y="16">系统做了啥 ?</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,2020.5)" id="206" ed:width="136.6875" ed:height="24" ed:parentid="204"><text class="st33"><tspan x="10" textLength="116" y="16">第2步添加监听后 :</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,2054.25)" id="208" ed:width="330.109375" ed:height="24" ed:parentid="206"><text class="st33"><tspan x="10" textLength="309" y="16">动态创建Person 子类 : NSKVONotifying_Person</tspan></text></g> <g transform="matrix(1,0,0,1,324,2088)" id="210" ed:width="108.65625" ed:height="24" ed:parentid="208"><text class="st33"><tspan x="10" textLength="88" y="16">继承自Person</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,2121.75)" id="212" ed:width="349.734375" ed:height="24" ed:parentid="206"><text class="st33"><tspan x="10" textLength="329" y="16">让Person的isa类指针 指向NSKVONotifying_Person</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,2228.13)" id="214" ed:width="85.84375" ed:height="24" ed:layout="rightmap" ed:parentid="206"><text class="st33"><tspan x="10" textLength="65" y="16">重写方法 :</tspan></text></g> <g transform="matrix(1,0,0,1,382.94,2155.5)" id="216" ed:width="140.484375" ed:height="24" ed:layout="rightmap" ed:parentid="214"><text class="st33"><tspan x="10" textLength="119" y="16">重写 setName方法</tspan></text></g> <g transform="matrix(1,0,0,1,382.94,2196)" id="218" ed:width="114.59375" ed:height="24" ed:layout="rightmap" ed:parentid="214"><text class="st33"><tspan x="10" textLength="94" y="16">重写 class方法</tspan></text></g> <g transform="matrix(1,0,0,1,524.54,2186)" id="220" ed:width="517" ed:height="44" ed:layout="rightmap" ed:parentid="218"><text class="st33"><tspan x="10" textLength="492" y="16">返回Person父类 类名, 不让外界知道里面创建了新类(或者说是为了用户体验好, </tspan> <tspan x="10" textLength="106" y="36">统一显示Person)</tspan></text></g> <g transform="matrix(1,0,0,1,382.94,2236.5)" id="222" ed:width="387.796875" ed:height="24" ed:parentid="214"><text class="st33"><tspan x="10" textLength="367" y="16">重写 dealloc方法(父类子类都会调用dealloc, 不需要super)</tspan></text></g> <g transform="matrix(1,0,0,1,436.84,2270.25)" id="224" ed:width="156.984375" ed:height="24" ed:parentid="222"><text class="st33"><tspan x="10" textLength="136" y="16">做一些 KVO 释放内存</tspan></text></g> <g transform="matrix(1,0,0,1,382.94,2300.75)" id="226" ed:width="77" ed:height="24" ed:layout="rightmap" ed:parentid="214"><text class="st33"><tspan x="10" textLength="56" y="16">添加标识</tspan></text></g> <g transform="matrix(1,0,0,1,486.94,2302.25)" id="228" ed:width="68.3125" ed:height="21" ed:layout="rightmap" ed:parentid="226"><text class="st33"><tspan x="10" textLength="47" y="16">_isKVO</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,2334.5)" id="230" ed:width="159.953125" ed:height="24" ed:parentid="204"><text class="st33"><tspan x="10" textLength="139" y="16">第3步设置name值后 :</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,2368.25)" id="232" ed:width="71.84375" ed:height="24" ed:layout="rightmap" ed:parentid="230"><text class="st33"><tspan x="10" textLength="51" y="16">第一步 :</tspan></text></g> <g transform="matrix(1,0,0,1,368.94,2368.25)" id="234" ed:width="239.0625" ed:height="24" ed:layout="rightmap" ed:parentid="232"><text class="st33"><tspan x="10" textLength="218" y="16">先调用了 willChangeValueForKey</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,2402)" id="236" ed:width="71.84375" ed:height="24" ed:layout="rightmap" ed:parentid="230"><text class="st33"><tspan x="10" textLength="51" y="16">第二步 :</tspan></text></g> <g transform="matrix(1,0,0,1,368.94,2402)" id="238" ed:width="345.4375" ed:height="24" ed:layout="rightmap" ed:parentid="236"><text class="st33"><tspan x="10" textLength="324" y="16">再调用父类的 setter 方法(setName: ) , 对属性赋值 </tspan></text></g> <g transform="matrix(1,0,0,1,270.1,2435.75)" id="240" ed:width="71.84375" ed:height="24" ed:parentid="230"><text class="st33"><tspan x="10" textLength="51" y="16">第三步 :</tspan></text></g> <g transform="matrix(1,0,0,1,324,2469.5)" id="242" ed:width="284.203125" ed:height="24" ed:parentid="240"><text class="st33"><tspan x="10" textLength="263" y="16">然后再调用 didChangeValueForKey 方法</tspan></text></g> <g transform="matrix(1,0,0,1,377.9,2503.25)" id="244" ed:width="517" ed:height="44" ed:parentid="242"><text class="st33"><tspan x="10" textLength="494" y="16">并在 didChangeValueForKey 内部 调用监听器的 observeValueForKeyPath方</tspan> <tspan x="10" textLength="191" y="36">法 告诉外界 属性值发生了改变</tspan></text></g> <g transform="matrix(1,0,0,1,324,2557)" id="246" ed:width="517" ed:height="44" ed:parentid="240"><text class="st33"><tspan x="10" textLength="492" y="16">这步结束后, 开发者就在observeValueForKeyPath: 回调方法收到了属性改变的</tspan> <tspan x="10" textLength="28" y="36">通知</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,2610.75)" id="248" ed:width="148.890625" ed:height="24" ed:parentid="178"><text class="st33"><tspan x="10" textLength="128" y="16">KVO 使用常见问题 ?</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,2644.5)" id="250" ed:width="330.828125" ed:height="24" ed:parentid="248"><text class="st33"><tspan x="10" textLength="310" y="16">1 : 结束时没有调用remove移除监听 (会导致崩溃)</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,2678.25)" id="252" ed:width="187.53125" ed:height="24" ed:parentid="248"><text class="st33"><tspan x="10" textLength="167" y="16">2. 父类的监听回调被拦截 :</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,2712)" id="254" ed:width="62.265625" ed:height="24" ed:parentid="252"><text class="st33"><tspan x="10" textLength="41" y="16">比如 : </tspan></text></g> <g transform="matrix(1,0,0,1,320.13,2752.75)" id="257" ed:width="517" ed:height="123" ed:parentid="254"><text class="st33"><tspan x="10" textLength="482" y="16">- (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object</tspan> <tspan x="10" textLength="378" y="33">change:(NSDictionary *)change context:(void *)context {</tspan> <tspan x="10" textLength="271" y="50">    if (object == _tableView &amp;&amp; [keyPath </tspan> <tspan x="10" textLength="243" y="67">isEqualToString:@&quot;contentOffset&quot;]) {</tspan> <tspan x="10" textLength="358" y="84">        [self doSomethingWhenContentOffsetChanges];</tspan> <tspan x="10" textLength="27" y="101">    } </tspan> <tspan x="10" textLength="5" y="118">}</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,2892.5)" id="259" ed:width="53.421875" ed:height="24" ed:parentid="252"><text class="st33"><tspan x="10" textLength="32" y="16">而是:</tspan></text></g> <g transform="matrix(1,0,0,1,315.71,2926.25)" id="262" ed:width="220.6875" ed:height="24" ed:parentid="259"><text class="st33"><tspan x="10" textLength="200" y="16">自己处理不了, 要让父类去处理 :</tspan></text></g> <g transform="matrix(1,0,0,1,315.71,2967)" id="264" ed:width="517" ed:height="174" ed:parentid="259"><text class="st33"><tspan x="10" textLength="482" y="16">- (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object</tspan> <tspan x="10" textLength="378" y="33">change:(NSDictionary *)change context:(void *)context {</tspan> <tspan x="10" textLength="271" y="50">    if (object == _tableView &amp;&amp; [keyPath </tspan> <tspan x="10" textLength="243" y="67">isEqualToString:@&quot;contentOffset&quot;]) {</tspan> <tspan x="10" textLength="344" y="84">     [self doSomethingWhenContentOffsetChanges];</tspan> <tspan x="10" textLength="62" y="101">    } else {</tspan> <tspan x="10" textLength="418" y="118">        [super observeValueForKeyPath:keyPath ofObject:object </tspan> <tspan x="10" textLength="253" y="135">       change:change context:context];</tspan> <tspan x="10" textLength="18" y="152">   }</tspan> <tspan x="10" textLength="5" y="169">}</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,3157.75)" id="266" ed:width="214.15625" ed:height="24" ed:parentid="248"><text class="st33"><tspan x="10" textLength="193" y="16">2 : 重复remove 监听 导致崩溃</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,3191.5)" id="268" ed:width="57.84375" ed:height="24" ed:parentid="266"><text class="st33"><tspan x="10" textLength="37" y="16">原因 :</tspan></text></g> <g transform="matrix(1,0,0,1,317.92,3225.25)" id="270" ed:width="517" ed:height="44" ed:parentid="268"><text class="st33"><tspan x="10" textLength="495" y="16">如果父类,或者框架封装内部也在dealloc方法内移除的该属性的监听, 那么有可能</tspan> <tspan x="10" textLength="84" y="36">导致重复移除</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,3279)" id="272" ed:width="57.84375" ed:height="24" ed:parentid="266"><text class="st33"><tspan x="10" textLength="37" y="16">解决 :</tspan></text></g> <g transform="matrix(1,0,0,1,317.92,3312.75)" id="274" ed:width="155.546875" ed:height="24" ed:parentid="272"><text class="st33"><tspan x="10" textLength="135" y="16">设置上下文 : context</tspan></text></g> <g transform="matrix(1,0,0,1,317.92,3346.5)" id="276" ed:width="163.953125" ed:height="24" ed:parentid="272"><text class="st33"><tspan x="10" textLength="143" y="16">1. 修改 添加监听 参数:</tspan></text></g> <g transform="matrix(1,0,0,1,371.82,3380.25)" id="278" ed:width="517" ed:height="38" ed:parentid="276"><text class="st33"><tspan x="10" textLength="331" y="16">[personA addObserver:self forKeyPath:@“name”  </tspan> <tspan x="10" textLength="437" y="33">options:NSKeyValueObservingOptionNew context:@“myPerson”];</tspan></text></g> <g transform="matrix(1,0,0,1,317.92,3428)" id="280" ed:width="163.953125" ed:height="24" ed:parentid="272"><text class="st33"><tspan x="10" textLength="143" y="16">2. 修改 移除监听 参数:</tspan></text></g> <g transform="matrix(1,0,0,1,371.82,3461.75)" id="282" ed:width="517" ed:height="38" ed:parentid="280"><text class="st33"><tspan x="10" textLength="352" y="16">[personA removeObserver:self forKeyPath:@“name” </tspan> <tspan x="10" textLength="154" y="33">context:@“myPerson”];</tspan></text></g> <g transform="matrix(1,0,0,1,216.2,3509.5)" id="284" ed:width="131.53125" ed:height="24" ed:parentid="248"><text class="st33"><tspan x="10" textLength="111" y="16">3. 设置属性方式 :</tspan></text></g> <g transform="matrix(1,0,0,1,270.1,3543.25)" id="286" ed:width="326.328125" ed:height="24" ed:parentid="284"><text class="st33"><tspan x="10" textLength="305" y="16">_age = 3; 不会触发, 因为不会调用setAge: 方法 </tspan></text></g> <g transform="matrix(1,0,0,1,270.1,3577)" id="288" ed:width="243.21875" ed:height="24" ed:parentid="284"><text class="st33"><tspan x="10" textLength="222" y="16">_name = @“小王”; 也不会触发监听</tspan></text></g> <g transform="matrix(1,0,0,1,162.3,3610.75)" id="290" ed:width="57.84375" ed:height="24" ed:parentid="178"><text class="st33"><tspan x="10" textLength="37" y="16">总结 :</tspan></text></g> <g transform="matrix(1,0,0,1,210.12,3644.5)" id="292" ed:width="109.828125" ed:height="24" ed:parentid="290"><text class="st33"><tspan x="10" textLength="89" y="16">1. KVO和线程</tspan></text></g> <g transform="matrix(1,0,0,1,264.02,3678.25)" id="294" ed:width="399.40625" ed:height="24" ed:parentid="292"><text class="st33"><tspan x="10" textLength="378" y="16">KVO 行为是同步的, 所有不要随意将方法执行丢到其它线程去</tspan></text></g> <g transform="matrix(1,0,0,1,210.12,3712)" id="296" ed:width="255.5625" ed:height="24" ed:parentid="290"><text class="st33"><tspan x="10" textLength="235" y="16">2. KVO 是通过 isa-swizzling 实现的</tspan></text></g> <g transform="matrix(1,0,0,1,264.02,3745.75)" id="298" ed:width="517" ed:height="84" ed:parentid="296"><text class="st33"><tspan x="10" textLength="496" y="16">KVO 会自动为被观察对象创造一个派生类 , Objective-C 在发送消息的时候，会</tspan> <tspan x="10" textLength="490" y="36">通过 isa 指针找到当前对象所属的类对象。而类对象中保存着当前对象的实例方</tspan> <tspan x="10" textLength="378" y="56">法，因此在向此对象发送消息时候，实际上是发送到了派生类</tspan> <tspan x="10" textLength="249" y="76">(NSKVONotifying_ObjectA)对象的方法</tspan></text></g> <g transform="matrix(1,0,0,1,210.12,3839.5)" id="300" ed:width="94.6875" ed:height="24" ed:parentid="290"><text class="st33"><tspan x="10" textLength="74" y="16">3. 手动触发</tspan></text></g> <g transform="matrix(1,0,0,1,264.02,3873.25)" id="302" ed:width="517" ed:height="44" ed:parentid="300"><text class="st33"><tspan x="10" textLength="485" y="16">先执行willChangeValueForKey:,再执行 didChangeValueForKey: , 才会发送</tspan> <tspan x="10" textLength="41" y="36">通知 , </tspan></text></g> <g transform="matrix(1,0,0,1,264.02,3927)" id="304" ed:width="53.421875" ed:height="24" ed:parentid="300"><text class="st33"><tspan x="10" textLength="32" y="16">示例:</tspan></text></g> <g transform="matrix(1,0,0,1,309.63,3960.75)" id="306" ed:width="517" ed:height="64" ed:parentid="304"><text class="st33"><tspan x="10" textLength="473" y="16">[self willChangeValueForKey:@&quot;now&quot;]; // “手动触发self.now的KVO”，必</tspan> <tspan x="10" textLength="28" y="36">写。</tspan> <tspan x="10" textLength="495" y="56">[self didChangeValueForKey:@&quot;now&quot;];// “手动触发self.now的KVO”，必写。</tspan></text></g></svg></div> <div id="copyright">Created With  <a href="https://www.edrawsoft.com/" target="_blank" title="edrawsoft">MindMaster</a></div></div></div></body></html></div></div> <!----> <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/64054d/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">KVC</div></a> <a href="/pages/a8479d/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Block</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/64054d/" class="prev">KVC</a></span> <span class="next"><a href="/pages/a8479d/">Block</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> <!----></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2678ef46.js" defer></script><script src="/assets/js/2.d54d51d6.js" defer></script><script src="/assets/js/25.834d54aa.js" defer></script>
  </body>
</html>
